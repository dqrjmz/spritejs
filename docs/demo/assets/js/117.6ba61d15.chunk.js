(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{633:function(n,t,e){"use strict";e.r(t),t.default="/* globals d3 */\nconst {Scene, SpriteSvg} = spritejs;\nconst container = document.getElementById('stage');\nconst scene = new Scene({\n  container,\n  width: 1200,\n  height: 1200,\n});\n\nconst dataset = [125, 121, 127, 193, 309];\n\nconst scale = d3.scaleLinear()\n  .domain([100, d3.max(dataset)])\n  .range([0, 500]);\n\nconst colors = ['#fe645b', '#feb050', '#c2af87', '#81b848', '#55abf8'];\n\nconst fglayer = scene.layer('fglayer');\nconst s = d3.select(fglayer);\n\ndocument.querySelector('#stage canvas').style.backgroundColor = '#eee';\n\nconst chart = s.selectAll('sprite')\n  .data(dataset)\n  .enter()\n  .append('sprite')\n  .attr('x', 450)\n  .attr('y', (d, i) => {\n    return 200 + i * 95;\n  })\n  .attr('width', 0)\n  .attr('height', 80)\n  .attr('bgcolor', '#ccc');\n\nchart.transition()\n  .duration(2000)\n  .attr('width', (d, i) => {\n    return scale(d);\n  })\n  .attr('bgcolor', (d, i) => {\n    return colors[i];\n  });\n\n// const axis = d3.axisBottom(scale).tickValues([100, 200, 300, 400]);\n// const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n// svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n// d3.select(svg)\n//   .attr('width', 600)\n//   .attr('height', 60)\n//   .append('g')\n//   .attr('transform', 'translate(30, 0)')\n//   .call(axis);\n// svg.children[0].setAttribute('font-size', 20);\n// const blob = new Blob([svg.outerHTML], {type: 'image/svg+xml'});\n// const textureURL = URL.createObjectURL(blob);\n// const axisNode = new Sprite(textureURL);\n// axisNode.attr({\n//   x: 420,\n//   y: 680,\n// });\n// fglayer.append(axisNode);\n\n// 3.4 \u4e4b\u540e\u589e\u52a0\u4e86 SpriteSvg \u5143\u7d20\nconst axis = d3.axisBottom(scale).tickValues([100, 200, 300, 400]);\nconst axisNode = new SpriteSvg({\n  x: 420,\n  y: 680,\n});\nd3.select(axisNode.svg)\n  .attr('width', 600)\n  .attr('height', 60)\n  .append('g')\n  .attr('transform', 'translate(30, 0)')\n  .call(axis);\n\naxisNode.svg.children[0].setAttribute('font-size', 20);\nfglayer.append(axisNode);\n\nchart.on('click', (data) => {\n  /* eslint-disable no-console */\n  console.log(data, d3.event);\n  /* eslint-enable no-console */\n});"}}]);