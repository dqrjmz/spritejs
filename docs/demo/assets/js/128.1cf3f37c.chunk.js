(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{644:function(n,t,e){"use strict";e.r(t),t.default="const {Scene, Path, Sprite, Gradient} = spritejs;\nconst container = document.getElementById('stage');\nconst scene = new Scene({\n  container,\n  width: 1200,\n  height: 600,\n});\nconst layer = scene.layer();\n\nconst birdsJsonUrl = 'https://s5.ssl.qhres.com/static/5f6911b7b91c88da.json';\nconst birdsRes = 'https://p.ssl.qhimg.com/d/inn/c886d09f/birds.png';\n\n(async function () {\n  await scene.preload([birdsRes, birdsJsonUrl]);\n  const d = 'M480,437l-29-26.4c-103-93.4-171-155-171-230.6c0-61.6,48.4-110,110-110c34.8,0,68.2,16.2,90,41.8C501.8,86.2,535.2,70,570,70c61.6,0,110,48.4,110,110c0,75.6-68,137.2-171,230.8L480,437Z';\n\n  const gradient = new Gradient({\n    vector: [280, 470, 680, 70],\n    colors: [{\n      offset: 0,\n      color: 'rgba(255,0,0,1)',\n    }, {\n      offset: 0.5,\n      color: 'rgba(255,0,0,0)',\n    }, {\n      offset: 1,\n      color: 'rgba(255,0,0,0)',\n    }],\n  });\n\n  const path = new Path({\n    d,\n    lineWidth: 26,\n    fillColor: 'red',\n    strokeColor: gradient,\n    // lineJoin: 'bevel',\n  });\n\n  layer.append(path);\n  window.path = path;\n\n  const bird = new Sprite('bird1.png');\n  bird.attr({\n    anchor: [0.5, 0.5],\n    size: [65, 45],\n    offsetPath: d,\n    zIndex: 200,\n  });\n\n  layer.append(bird);\n\n  bird.animate([\n    {offsetDistance: 0},\n    {offsetDistance: 1},\n  ], {\n    duration: 6000,\n    iterations: Infinity,\n  });\n\n  let i = 0;\n  setInterval(() => {\n    bird.attributes.texture = `bird${i++ % 3 + 1}.png`;\n  }, 100);\n\n  const startTime = Date.now();\n  const T = 6000;\n  requestAnimationFrame(function next() {\n    const p = Math.PI * 2 * (Date.now() - startTime) / T;\n    const colors = [\n      {offset: 0, color: 'rgba(255,0,0,1)'},\n      {offset: 0.5 + 0.5 * Math.abs(Math.sin(p)), color: 'rgba(255,0,0,0)'},\n      {offset: 1, color: 'rgba(255,0,0,0)'},\n    ];\n\n    const gradients = new Gradient({\n      vector: [280, 470, 680, 70],\n      colors,\n    });\n    path.attr({strokeColor: gradients});\n\n    requestAnimationFrame(next);\n  });\n}());"}}]);