!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.spritejs=e():t.spritejs=e()}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/js/",r(r.s=281)}([function(t,e,r){"use strict";r.r(e),r.d(e,"glMatrix",(function(){return n})),r.d(e,"mat2",(function(){return i})),r.d(e,"mat2d",(function(){return a})),r.d(e,"mat3",(function(){return o})),r.d(e,"mat4",(function(){return s})),r.d(e,"quat",(function(){return l})),r.d(e,"quat2",(function(){return f})),r.d(e,"vec2",(function(){return h})),r.d(e,"vec3",(function(){return u})),r.d(e,"vec4",(function(){return c}));var n={};r.r(n),r.d(n,"EPSILON",(function(){return d})),r.d(n,"ARRAY_TYPE",(function(){return p})),r.d(n,"RANDOM",(function(){return v})),r.d(n,"setMatrixArrayType",(function(){return y})),r.d(n,"toRadian",(function(){return m})),r.d(n,"equals",(function(){return x}));var i={};r.r(i),r.d(i,"create",(function(){return b})),r.d(i,"clone",(function(){return M})),r.d(i,"copy",(function(){return A})),r.d(i,"identity",(function(){return w})),r.d(i,"fromValues",(function(){return T})),r.d(i,"set",(function(){return k})),r.d(i,"transpose",(function(){return S})),r.d(i,"invert",(function(){return _})),r.d(i,"adjoint",(function(){return R})),r.d(i,"determinant",(function(){return E})),r.d(i,"multiply",(function(){return C})),r.d(i,"rotate",(function(){return O})),r.d(i,"scale",(function(){return L})),r.d(i,"fromRotation",(function(){return D})),r.d(i,"fromScaling",(function(){return P})),r.d(i,"str",(function(){return j})),r.d(i,"frob",(function(){return I})),r.d(i,"LDU",(function(){return q})),r.d(i,"add",(function(){return F})),r.d(i,"subtract",(function(){return N})),r.d(i,"exactEquals",(function(){return U})),r.d(i,"equals",(function(){return B})),r.d(i,"multiplyScalar",(function(){return V})),r.d(i,"multiplyScalarAndAdd",(function(){return G})),r.d(i,"mul",(function(){return z})),r.d(i,"sub",(function(){return H}));var a={};r.r(a),r.d(a,"create",(function(){return W})),r.d(a,"clone",(function(){return Y})),r.d(a,"copy",(function(){return X})),r.d(a,"identity",(function(){return J})),r.d(a,"fromValues",(function(){return Q})),r.d(a,"set",(function(){return Z})),r.d(a,"invert",(function(){return $})),r.d(a,"determinant",(function(){return K})),r.d(a,"multiply",(function(){return tt})),r.d(a,"rotate",(function(){return et})),r.d(a,"scale",(function(){return rt})),r.d(a,"translate",(function(){return nt})),r.d(a,"fromRotation",(function(){return it})),r.d(a,"fromScaling",(function(){return at})),r.d(a,"fromTranslation",(function(){return ot})),r.d(a,"str",(function(){return st})),r.d(a,"frob",(function(){return ut})),r.d(a,"add",(function(){return ct})),r.d(a,"subtract",(function(){return lt})),r.d(a,"multiplyScalar",(function(){return ft})),r.d(a,"multiplyScalarAndAdd",(function(){return ht})),r.d(a,"exactEquals",(function(){return dt})),r.d(a,"equals",(function(){return pt})),r.d(a,"mul",(function(){return vt})),r.d(a,"sub",(function(){return yt}));var o={};r.r(o),r.d(o,"create",(function(){return gt})),r.d(o,"fromMat4",(function(){return mt})),r.d(o,"clone",(function(){return xt})),r.d(o,"copy",(function(){return bt})),r.d(o,"fromValues",(function(){return Mt})),r.d(o,"set",(function(){return At})),r.d(o,"identity",(function(){return wt})),r.d(o,"transpose",(function(){return Tt})),r.d(o,"invert",(function(){return kt})),r.d(o,"adjoint",(function(){return St})),r.d(o,"determinant",(function(){return _t})),r.d(o,"multiply",(function(){return Rt})),r.d(o,"translate",(function(){return Et})),r.d(o,"rotate",(function(){return Ct})),r.d(o,"scale",(function(){return Ot})),r.d(o,"fromTranslation",(function(){return Lt})),r.d(o,"fromRotation",(function(){return Dt})),r.d(o,"fromScaling",(function(){return Pt})),r.d(o,"fromMat2d",(function(){return jt})),r.d(o,"fromQuat",(function(){return It})),r.d(o,"normalFromMat4",(function(){return qt})),r.d(o,"projection",(function(){return Ft})),r.d(o,"str",(function(){return Nt})),r.d(o,"frob",(function(){return Ut})),r.d(o,"add",(function(){return Bt})),r.d(o,"subtract",(function(){return Vt})),r.d(o,"multiplyScalar",(function(){return Gt})),r.d(o,"multiplyScalarAndAdd",(function(){return zt})),r.d(o,"exactEquals",(function(){return Ht})),r.d(o,"equals",(function(){return Wt})),r.d(o,"mul",(function(){return Yt})),r.d(o,"sub",(function(){return Xt}));var s={};r.r(s),r.d(s,"create",(function(){return Jt})),r.d(s,"clone",(function(){return Qt})),r.d(s,"copy",(function(){return Zt})),r.d(s,"fromValues",(function(){return $t})),r.d(s,"set",(function(){return Kt})),r.d(s,"identity",(function(){return te})),r.d(s,"transpose",(function(){return ee})),r.d(s,"invert",(function(){return re})),r.d(s,"adjoint",(function(){return ne})),r.d(s,"determinant",(function(){return ie})),r.d(s,"multiply",(function(){return ae})),r.d(s,"translate",(function(){return oe})),r.d(s,"scale",(function(){return se})),r.d(s,"rotate",(function(){return ue})),r.d(s,"rotateX",(function(){return ce})),r.d(s,"rotateY",(function(){return le})),r.d(s,"rotateZ",(function(){return fe})),r.d(s,"fromTranslation",(function(){return he})),r.d(s,"fromScaling",(function(){return de})),r.d(s,"fromRotation",(function(){return pe})),r.d(s,"fromXRotation",(function(){return ve})),r.d(s,"fromYRotation",(function(){return ye})),r.d(s,"fromZRotation",(function(){return ge})),r.d(s,"fromRotationTranslation",(function(){return me})),r.d(s,"fromQuat2",(function(){return xe})),r.d(s,"getTranslation",(function(){return be})),r.d(s,"getScaling",(function(){return Me})),r.d(s,"getRotation",(function(){return Ae})),r.d(s,"fromRotationTranslationScale",(function(){return we})),r.d(s,"fromRotationTranslationScaleOrigin",(function(){return Te})),r.d(s,"fromQuat",(function(){return ke})),r.d(s,"frustum",(function(){return Se})),r.d(s,"perspective",(function(){return _e})),r.d(s,"perspectiveFromFieldOfView",(function(){return Re})),r.d(s,"ortho",(function(){return Ee})),r.d(s,"lookAt",(function(){return Ce})),r.d(s,"targetTo",(function(){return Oe})),r.d(s,"str",(function(){return Le})),r.d(s,"frob",(function(){return De})),r.d(s,"add",(function(){return Pe})),r.d(s,"subtract",(function(){return je})),r.d(s,"multiplyScalar",(function(){return Ie})),r.d(s,"multiplyScalarAndAdd",(function(){return qe})),r.d(s,"exactEquals",(function(){return Fe})),r.d(s,"equals",(function(){return Ne})),r.d(s,"mul",(function(){return Ue})),r.d(s,"sub",(function(){return Be}));var u={};r.r(u),r.d(u,"create",(function(){return Ve})),r.d(u,"clone",(function(){return Ge})),r.d(u,"length",(function(){return ze})),r.d(u,"fromValues",(function(){return He})),r.d(u,"copy",(function(){return We})),r.d(u,"set",(function(){return Ye})),r.d(u,"add",(function(){return Xe})),r.d(u,"subtract",(function(){return Je})),r.d(u,"multiply",(function(){return Qe})),r.d(u,"divide",(function(){return Ze})),r.d(u,"ceil",(function(){return $e})),r.d(u,"floor",(function(){return Ke})),r.d(u,"min",(function(){return tr})),r.d(u,"max",(function(){return er})),r.d(u,"round",(function(){return rr})),r.d(u,"scale",(function(){return nr})),r.d(u,"scaleAndAdd",(function(){return ir})),r.d(u,"distance",(function(){return ar})),r.d(u,"squaredDistance",(function(){return or})),r.d(u,"squaredLength",(function(){return sr})),r.d(u,"negate",(function(){return ur})),r.d(u,"inverse",(function(){return cr})),r.d(u,"normalize",(function(){return lr})),r.d(u,"dot",(function(){return fr})),r.d(u,"cross",(function(){return hr})),r.d(u,"lerp",(function(){return dr})),r.d(u,"hermite",(function(){return pr})),r.d(u,"bezier",(function(){return vr})),r.d(u,"random",(function(){return yr})),r.d(u,"transformMat4",(function(){return gr})),r.d(u,"transformMat3",(function(){return mr})),r.d(u,"transformQuat",(function(){return xr})),r.d(u,"rotateX",(function(){return br})),r.d(u,"rotateY",(function(){return Mr})),r.d(u,"rotateZ",(function(){return Ar})),r.d(u,"angle",(function(){return wr})),r.d(u,"zero",(function(){return Tr})),r.d(u,"str",(function(){return kr})),r.d(u,"exactEquals",(function(){return Sr})),r.d(u,"equals",(function(){return _r})),r.d(u,"sub",(function(){return Er})),r.d(u,"mul",(function(){return Cr})),r.d(u,"div",(function(){return Or})),r.d(u,"dist",(function(){return Lr})),r.d(u,"sqrDist",(function(){return Dr})),r.d(u,"len",(function(){return Pr})),r.d(u,"sqrLen",(function(){return jr})),r.d(u,"forEach",(function(){return Ir}));var c={};r.r(c),r.d(c,"create",(function(){return qr})),r.d(c,"clone",(function(){return Fr})),r.d(c,"fromValues",(function(){return Nr})),r.d(c,"copy",(function(){return Ur})),r.d(c,"set",(function(){return Br})),r.d(c,"add",(function(){return Vr})),r.d(c,"subtract",(function(){return Gr})),r.d(c,"multiply",(function(){return zr})),r.d(c,"divide",(function(){return Hr})),r.d(c,"ceil",(function(){return Wr})),r.d(c,"floor",(function(){return Yr})),r.d(c,"min",(function(){return Xr})),r.d(c,"max",(function(){return Jr})),r.d(c,"round",(function(){return Qr})),r.d(c,"scale",(function(){return Zr})),r.d(c,"scaleAndAdd",(function(){return $r})),r.d(c,"distance",(function(){return Kr})),r.d(c,"squaredDistance",(function(){return tn})),r.d(c,"length",(function(){return en})),r.d(c,"squaredLength",(function(){return rn})),r.d(c,"negate",(function(){return nn})),r.d(c,"inverse",(function(){return an})),r.d(c,"normalize",(function(){return on})),r.d(c,"dot",(function(){return sn})),r.d(c,"cross",(function(){return un})),r.d(c,"lerp",(function(){return cn})),r.d(c,"random",(function(){return ln})),r.d(c,"transformMat4",(function(){return fn})),r.d(c,"transformQuat",(function(){return hn})),r.d(c,"zero",(function(){return dn})),r.d(c,"str",(function(){return pn})),r.d(c,"exactEquals",(function(){return vn})),r.d(c,"equals",(function(){return yn})),r.d(c,"sub",(function(){return gn})),r.d(c,"mul",(function(){return mn})),r.d(c,"div",(function(){return xn})),r.d(c,"dist",(function(){return bn})),r.d(c,"sqrDist",(function(){return Mn})),r.d(c,"len",(function(){return An})),r.d(c,"sqrLen",(function(){return wn})),r.d(c,"forEach",(function(){return Tn}));var l={};r.r(l),r.d(l,"create",(function(){return kn})),r.d(l,"identity",(function(){return Sn})),r.d(l,"setAxisAngle",(function(){return _n})),r.d(l,"getAxisAngle",(function(){return Rn})),r.d(l,"getAngle",(function(){return En})),r.d(l,"multiply",(function(){return Cn})),r.d(l,"rotateX",(function(){return On})),r.d(l,"rotateY",(function(){return Ln})),r.d(l,"rotateZ",(function(){return Dn})),r.d(l,"calculateW",(function(){return Pn})),r.d(l,"exp",(function(){return jn})),r.d(l,"ln",(function(){return In})),r.d(l,"pow",(function(){return qn})),r.d(l,"slerp",(function(){return Fn})),r.d(l,"random",(function(){return Nn})),r.d(l,"invert",(function(){return Un})),r.d(l,"conjugate",(function(){return Bn})),r.d(l,"fromMat3",(function(){return Vn})),r.d(l,"fromEuler",(function(){return Gn})),r.d(l,"str",(function(){return zn})),r.d(l,"clone",(function(){return Zn})),r.d(l,"fromValues",(function(){return $n})),r.d(l,"copy",(function(){return Kn})),r.d(l,"set",(function(){return ti})),r.d(l,"add",(function(){return ei})),r.d(l,"mul",(function(){return ri})),r.d(l,"scale",(function(){return ni})),r.d(l,"dot",(function(){return ii})),r.d(l,"lerp",(function(){return ai})),r.d(l,"length",(function(){return oi})),r.d(l,"len",(function(){return si})),r.d(l,"squaredLength",(function(){return ui})),r.d(l,"sqrLen",(function(){return ci})),r.d(l,"normalize",(function(){return li})),r.d(l,"exactEquals",(function(){return fi})),r.d(l,"equals",(function(){return hi})),r.d(l,"rotationTo",(function(){return di})),r.d(l,"sqlerp",(function(){return pi})),r.d(l,"setAxes",(function(){return vi}));var f={};r.r(f),r.d(f,"create",(function(){return yi})),r.d(f,"clone",(function(){return gi})),r.d(f,"fromValues",(function(){return mi})),r.d(f,"fromRotationTranslationValues",(function(){return xi})),r.d(f,"fromRotationTranslation",(function(){return bi})),r.d(f,"fromTranslation",(function(){return Mi})),r.d(f,"fromRotation",(function(){return Ai})),r.d(f,"fromMat4",(function(){return wi})),r.d(f,"copy",(function(){return Ti})),r.d(f,"identity",(function(){return ki})),r.d(f,"set",(function(){return Si})),r.d(f,"getReal",(function(){return _i})),r.d(f,"getDual",(function(){return Ri})),r.d(f,"setReal",(function(){return Ei})),r.d(f,"setDual",(function(){return Ci})),r.d(f,"getTranslation",(function(){return Oi})),r.d(f,"translate",(function(){return Li})),r.d(f,"rotateX",(function(){return Di})),r.d(f,"rotateY",(function(){return Pi})),r.d(f,"rotateZ",(function(){return ji})),r.d(f,"rotateByQuatAppend",(function(){return Ii})),r.d(f,"rotateByQuatPrepend",(function(){return qi})),r.d(f,"rotateAroundAxis",(function(){return Fi})),r.d(f,"add",(function(){return Ni})),r.d(f,"multiply",(function(){return Ui})),r.d(f,"mul",(function(){return Bi})),r.d(f,"scale",(function(){return Vi})),r.d(f,"dot",(function(){return Gi})),r.d(f,"lerp",(function(){return zi})),r.d(f,"invert",(function(){return Hi})),r.d(f,"conjugate",(function(){return Wi})),r.d(f,"length",(function(){return Yi})),r.d(f,"len",(function(){return Xi})),r.d(f,"squaredLength",(function(){return Ji})),r.d(f,"sqrLen",(function(){return Qi})),r.d(f,"normalize",(function(){return Zi})),r.d(f,"str",(function(){return $i})),r.d(f,"exactEquals",(function(){return Ki})),r.d(f,"equals",(function(){return ta}));var h={};r.r(h),r.d(h,"create",(function(){return ea})),r.d(h,"clone",(function(){return ra})),r.d(h,"fromValues",(function(){return na})),r.d(h,"copy",(function(){return ia})),r.d(h,"set",(function(){return aa})),r.d(h,"add",(function(){return oa})),r.d(h,"subtract",(function(){return sa})),r.d(h,"multiply",(function(){return ua})),r.d(h,"divide",(function(){return ca})),r.d(h,"ceil",(function(){return la})),r.d(h,"floor",(function(){return fa})),r.d(h,"min",(function(){return ha})),r.d(h,"max",(function(){return da})),r.d(h,"round",(function(){return pa})),r.d(h,"scale",(function(){return va})),r.d(h,"scaleAndAdd",(function(){return ya})),r.d(h,"distance",(function(){return ga})),r.d(h,"squaredDistance",(function(){return ma})),r.d(h,"length",(function(){return xa})),r.d(h,"squaredLength",(function(){return ba})),r.d(h,"negate",(function(){return Ma})),r.d(h,"inverse",(function(){return Aa})),r.d(h,"normalize",(function(){return wa})),r.d(h,"dot",(function(){return Ta})),r.d(h,"cross",(function(){return ka})),r.d(h,"lerp",(function(){return Sa})),r.d(h,"random",(function(){return _a})),r.d(h,"transformMat2",(function(){return Ra})),r.d(h,"transformMat2d",(function(){return Ea})),r.d(h,"transformMat3",(function(){return Ca})),r.d(h,"transformMat4",(function(){return Oa})),r.d(h,"rotate",(function(){return La})),r.d(h,"angle",(function(){return Da})),r.d(h,"zero",(function(){return Pa})),r.d(h,"str",(function(){return ja})),r.d(h,"exactEquals",(function(){return Ia})),r.d(h,"equals",(function(){return qa})),r.d(h,"len",(function(){return Fa})),r.d(h,"sub",(function(){return Na})),r.d(h,"mul",(function(){return Ua})),r.d(h,"div",(function(){return Ba})),r.d(h,"dist",(function(){return Va})),r.d(h,"sqrDist",(function(){return Ga})),r.d(h,"sqrLen",(function(){return za})),r.d(h,"forEach",(function(){return Ha})),r(0).glMatrix.setMatrixArrayType(Array);var d=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array,v=Math.random;function y(t){p=t}var g=Math.PI/180;function m(t){return t*g}function x(t,e){return Math.abs(t-e)<=d*Math.max(1,Math.abs(t),Math.abs(e))}function b(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function M(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function A(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function w(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function T(t,e,r,n){var i=new p(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function k(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function S(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function _(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*a-i*n;return o?(o=1/o,t[0]=a*o,t[1]=-n*o,t[2]=-i*o,t[3]=r*o,t):null}function R(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function E(t){return t[0]*t[3]-t[2]*t[1]}function C(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],c=r[2],l=r[3];return t[0]=n*s+a*u,t[1]=i*s+o*u,t[2]=n*c+a*l,t[3]=i*c+o*l,t}function O(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=i*u+o*s,t[2]=n*-s+a*u,t[3]=i*-s+o*u,t}function L(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1];return t[0]=n*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t}function D(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function P(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function j(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function I(t){return Math.hypot(t[0],t[1],t[2],t[3])}function q(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function F(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function N(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function U(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function B(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=d*Math.max(1,Math.abs(a),Math.abs(c))}function V(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function G(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)}),r(0).glMatrix.setMatrixArrayType(Array);var z=C,H=N;function W(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function Y(t){var e=new p(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function X(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function J(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Q(t,e,r,n,i,a){var o=new p(6);return o[0]=t,o[1]=e,o[2]=r,o[3]=n,o[4]=i,o[5]=a,o}function Z(t,e,r,n,i,a,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t}function $(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=r*a-n*i;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-i*u,t[3]=r*u,t[4]=(i*s-a*o)*u,t[5]=(n*o-r*s)*u,t):null}function K(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=r[0],l=r[1],f=r[2],h=r[3],d=r[4],p=r[5];return t[0]=n*c+a*l,t[1]=i*c+o*l,t[2]=n*f+a*h,t[3]=i*f+o*h,t[4]=n*d+a*p+s,t[5]=i*d+o*p+u,t}function et(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=Math.sin(r),l=Math.cos(r);return t[0]=n*l+a*c,t[1]=i*l+o*c,t[2]=n*-c+a*l,t[3]=i*-c+o*l,t[4]=s,t[5]=u,t}function rt(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=r[0],l=r[1];return t[0]=n*c,t[1]=i*c,t[2]=a*l,t[3]=o*l,t[4]=s,t[5]=u,t}function nt(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=r[0],l=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=n*c+a*l+s,t[5]=i*c+o*l+u,t}function it(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function at(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function st(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ut(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function ct(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function lt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function ft(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function ht(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function dt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function pt(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=e[0],c=e[1],l=e[2],f=e[3],h=e[4],p=e[5];return Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=d*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-f)<=d*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-h)<=d*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-p)<=d*Math.max(1,Math.abs(s),Math.abs(p))}r(0).glMatrix.setMatrixArrayType(Array);var vt=tt,yt=lt;function gt(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function mt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function xt(t){var e=new p(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function bt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Mt(t,e,r,n,i,a,o,s,u){var c=new p(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=n,c[4]=i,c[5]=a,c[6]=o,c[7]=s,c[8]=u,c}function At(t,e,r,n,i,a,o,s,u,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t}function wt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Tt(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function kt(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=l*o-s*c,h=-l*a+s*u,d=c*a-o*u,p=r*f+n*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-l*n+i*c)*p,t[2]=(s*n-i*o)*p,t[3]=h*p,t[4]=(l*r-i*u)*p,t[5]=(-s*r+i*a)*p,t[6]=d*p,t[7]=(-c*r+n*u)*p,t[8]=(o*r-n*a)*p,t):null}function St(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=o*l-s*c,t[1]=i*c-n*l,t[2]=n*s-i*o,t[3]=s*u-a*l,t[4]=r*l-i*u,t[5]=i*a-r*s,t[6]=a*c-o*u,t[7]=n*u-r*c,t[8]=r*o-n*a,t}function _t(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],c=t[8];return e*(c*a-o*u)+r*(-c*i+o*s)+n*(u*i-a*s)}function Rt(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=r[0],d=r[1],p=r[2],v=r[3],y=r[4],g=r[5],m=r[6],x=r[7],b=r[8];return t[0]=h*n+d*o+p*c,t[1]=h*i+d*s+p*l,t[2]=h*a+d*u+p*f,t[3]=v*n+y*o+g*c,t[4]=v*i+y*s+g*l,t[5]=v*a+y*u+g*f,t[6]=m*n+x*o+b*c,t[7]=m*i+x*s+b*l,t[8]=m*a+x*u+b*f,t}function Et(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=h*n+d*o+c,t[7]=h*i+d*s+l,t[8]=h*a+d*u+f,t}function Ct(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*o,t[1]=d*i+h*s,t[2]=d*a+h*u,t[3]=d*o-h*n,t[4]=d*s-h*i,t[5]=d*u-h*a,t[6]=c,t[7]=l,t[8]=f,t}function Ot(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Lt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Dt(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Pt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function jt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function It(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,u=i+i,c=r*o,l=n*o,f=n*s,h=i*o,d=i*s,p=i*u,v=a*o,y=a*s,g=a*u;return t[0]=1-f-p,t[3]=l-g,t[6]=h+y,t[1]=l+g,t[4]=1-c-p,t[7]=d-v,t[2]=h-y,t[5]=d+v,t[8]=1-c-f,t}function qt(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],g=e[15],m=r*s-n*o,x=r*u-i*o,b=r*c-a*o,M=n*u-i*s,A=n*c-a*s,w=i*c-a*u,T=l*v-f*p,k=l*y-h*p,S=l*g-d*p,_=f*y-h*v,R=f*g-d*v,E=h*g-d*y,C=m*E-x*R+b*_+M*S-A*k+w*T;return C?(C=1/C,t[0]=(s*E-u*R+c*_)*C,t[1]=(u*S-o*E-c*k)*C,t[2]=(o*R-s*S+c*T)*C,t[3]=(i*R-n*E-a*_)*C,t[4]=(r*E-i*S+a*k)*C,t[5]=(n*S-r*R-a*T)*C,t[6]=(v*w-y*A+g*M)*C,t[7]=(y*b-p*w-g*x)*C,t[8]=(p*A-v*b+g*m)*C,t):null}function Ft(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Nt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Ut(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Bt(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function Vt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function Gt(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function zt(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function Ht(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Wt(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=e[0],h=e[1],p=e[2],v=e[3],y=e[4],g=e[5],m=e[6],x=e[7],b=e[8];return Math.abs(r-f)<=d*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-h)<=d*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=d*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-v)<=d*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-y)<=d*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(s-g)<=d*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-m)<=d*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-x)<=d*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(l-b)<=d*Math.max(1,Math.abs(l),Math.abs(b))}r(0).glMatrix.setMatrixArrayType(Array);var Yt=Rt,Xt=Vt;function Jt(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Qt(t){var e=new p(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Zt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function $t(t,e,r,n,i,a,o,s,u,c,l,f,h,d,v,y){var g=new p(16);return g[0]=t,g[1]=e,g[2]=r,g[3]=n,g[4]=i,g[5]=a,g[6]=o,g[7]=s,g[8]=u,g[9]=c,g[10]=l,g[11]=f,g[12]=h,g[13]=d,g[14]=v,g[15]=y,g}function Kt(t,e,r,n,i,a,o,s,u,c,l,f,h,d,p,v,y){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t[9]=l,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=y,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function re(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],g=e[15],m=r*s-n*o,x=r*u-i*o,b=r*c-a*o,M=n*u-i*s,A=n*c-a*s,w=i*c-a*u,T=l*v-f*p,k=l*y-h*p,S=l*g-d*p,_=f*y-h*v,R=f*g-d*v,E=h*g-d*y,C=m*E-x*R+b*_+M*S-A*k+w*T;return C?(C=1/C,t[0]=(s*E-u*R+c*_)*C,t[1]=(i*R-n*E-a*_)*C,t[2]=(v*w-y*A+g*M)*C,t[3]=(h*A-f*w-d*M)*C,t[4]=(u*S-o*E-c*k)*C,t[5]=(r*E-i*S+a*k)*C,t[6]=(y*b-p*w-g*x)*C,t[7]=(l*w-h*b+d*x)*C,t[8]=(o*R-s*S+c*T)*C,t[9]=(n*S-r*R-a*T)*C,t[10]=(p*A-v*b+g*m)*C,t[11]=(f*b-l*A-d*m)*C,t[12]=(s*k-o*_-u*T)*C,t[13]=(r*_-n*k+i*T)*C,t[14]=(v*x-p*M-y*m)*C,t[15]=(l*M-f*x+h*m)*C,t):null}function ne(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],g=e[15];return t[0]=s*(h*g-d*y)-f*(u*g-c*y)+v*(u*d-c*h),t[1]=-(n*(h*g-d*y)-f*(i*g-a*y)+v*(i*d-a*h)),t[2]=n*(u*g-c*y)-s*(i*g-a*y)+v*(i*c-a*u),t[3]=-(n*(u*d-c*h)-s*(i*d-a*h)+f*(i*c-a*u)),t[4]=-(o*(h*g-d*y)-l*(u*g-c*y)+p*(u*d-c*h)),t[5]=r*(h*g-d*y)-l*(i*g-a*y)+p*(i*d-a*h),t[6]=-(r*(u*g-c*y)-o*(i*g-a*y)+p*(i*c-a*u)),t[7]=r*(u*d-c*h)-o*(i*d-a*h)+l*(i*c-a*u),t[8]=o*(f*g-d*v)-l*(s*g-c*v)+p*(s*d-c*f),t[9]=-(r*(f*g-d*v)-l*(n*g-a*v)+p*(n*d-a*f)),t[10]=r*(s*g-c*v)-o*(n*g-a*v)+p*(n*c-a*s),t[11]=-(r*(s*d-c*f)-o*(n*d-a*f)+l*(n*c-a*s)),t[12]=-(o*(f*y-h*v)-l*(s*y-u*v)+p*(s*h-u*f)),t[13]=r*(f*y-h*v)-l*(n*y-i*v)+p*(n*h-i*f),t[14]=-(r*(s*y-u*v)-o*(n*y-i*v)+p*(n*u-i*s)),t[15]=r*(s*h-u*f)-o*(n*h-i*f)+l*(n*u-i*s),t}function ie(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],h=t[11],d=t[12],p=t[13],v=t[14],y=t[15];return(e*o-r*a)*(f*y-h*v)-(e*s-n*a)*(l*y-h*p)+(e*u-i*a)*(l*v-f*p)+(r*s-n*o)*(c*y-h*d)-(r*u-i*o)*(c*v-f*d)+(n*u-i*s)*(c*p-l*d)}function ae(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],y=e[13],g=e[14],m=e[15],x=r[0],b=r[1],M=r[2],A=r[3];return t[0]=x*n+b*s+M*f+A*v,t[1]=x*i+b*u+M*h+A*y,t[2]=x*a+b*c+M*d+A*g,t[3]=x*o+b*l+M*p+A*m,x=r[4],b=r[5],M=r[6],A=r[7],t[4]=x*n+b*s+M*f+A*v,t[5]=x*i+b*u+M*h+A*y,t[6]=x*a+b*c+M*d+A*g,t[7]=x*o+b*l+M*p+A*m,x=r[8],b=r[9],M=r[10],A=r[11],t[8]=x*n+b*s+M*f+A*v,t[9]=x*i+b*u+M*h+A*y,t[10]=x*a+b*c+M*d+A*g,t[11]=x*o+b*l+M*p+A*m,x=r[12],b=r[13],M=r[14],A=r[15],t[12]=x*n+b*s+M*f+A*v,t[13]=x*i+b*u+M*h+A*y,t[14]=x*a+b*c+M*d+A*g,t[15]=x*o+b*l+M*p+A*m,t}function oe(t,e,r){var n,i,a,o,s,u,c,l,f,h,d,p,v=r[0],y=r[1],g=r[2];return e===t?(t[12]=e[0]*v+e[4]*y+e[8]*g+e[12],t[13]=e[1]*v+e[5]*y+e[9]*g+e[13],t[14]=e[2]*v+e[6]*y+e[10]*g+e[14],t[15]=e[3]*v+e[7]*y+e[11]*g+e[15]):(n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=f,t[9]=h,t[10]=d,t[11]=p,t[12]=n*v+s*y+f*g+e[12],t[13]=i*v+u*y+h*g+e[13],t[14]=a*v+c*y+d*g+e[14],t[15]=o*v+l*y+p*g+e[15]),t}function se(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ue(t,e,r,n){var i,a,o,s,u,c,l,f,h,p,v,y,g,m,x,b,M,A,w,T,k,S,_,R,E=n[0],C=n[1],O=n[2],L=Math.hypot(E,C,O);return L<d?null:(E*=L=1/L,C*=L,O*=L,i=Math.sin(r),o=1-(a=Math.cos(r)),s=e[0],u=e[1],c=e[2],l=e[3],f=e[4],h=e[5],p=e[6],v=e[7],y=e[8],g=e[9],m=e[10],x=e[11],b=E*E*o+a,M=C*E*o+O*i,A=O*E*o-C*i,w=E*C*o-O*i,T=C*C*o+a,k=O*C*o+E*i,S=E*O*o+C*i,_=C*O*o-E*i,R=O*O*o+a,t[0]=s*b+f*M+y*A,t[1]=u*b+h*M+g*A,t[2]=c*b+p*M+m*A,t[3]=l*b+v*M+x*A,t[4]=s*w+f*T+y*k,t[5]=u*w+h*T+g*k,t[6]=c*w+p*T+m*k,t[7]=l*w+v*T+x*k,t[8]=s*S+f*_+y*R,t[9]=u*S+h*_+g*R,t[10]=c*S+p*_+m*R,t[11]=l*S+v*_+x*R,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*n,t[5]=o*i+l*n,t[6]=s*i+f*n,t[7]=u*i+h*n,t[8]=c*i-a*n,t[9]=l*i-o*n,t[10]=f*i-s*n,t[11]=h*i-u*n,t}function le(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*n,t[1]=o*i-l*n,t[2]=s*i-f*n,t[3]=u*i-h*n,t[8]=a*n+c*i,t[9]=o*n+l*i,t[10]=s*n+f*i,t[11]=u*n+h*i,t}function fe(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],c=e[4],l=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*n,t[1]=o*i+l*n,t[2]=s*i+f*n,t[3]=u*i+h*n,t[4]=c*i-a*n,t[5]=l*i-o*n,t[6]=f*i-s*n,t[7]=h*i-u*n,t}function he(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function de(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pe(t,e,r){var n,i,a,o=r[0],s=r[1],u=r[2],c=Math.hypot(o,s,u);return c<d?null:(o*=c=1/c,s*=c,u*=c,n=Math.sin(e),a=1-(i=Math.cos(e)),t[0]=o*o*a+i,t[1]=s*o*a+u*n,t[2]=u*o*a-s*n,t[3]=0,t[4]=o*s*a-u*n,t[5]=s*s*a+i,t[6]=u*s*a+o*n,t[7]=0,t[8]=o*u*a+s*n,t[9]=s*u*a-o*n,t[10]=u*u*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function ve(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ye(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ge(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function me(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=n+n,u=i+i,c=a+a,l=n*s,f=n*u,h=n*c,d=i*u,p=i*c,v=a*c,y=o*s,g=o*u,m=o*c;return t[0]=1-(d+v),t[1]=f+m,t[2]=h-g,t[3]=0,t[4]=f-m,t[5]=1-(l+v),t[6]=p+y,t[7]=0,t[8]=h+g,t[9]=p-y,t[10]=1-(l+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function xe(t,e){var r=new p(3),n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=n*n+i*i+a*a+o*o;return f>0?(r[0]=2*(s*o+l*n+u*a-c*i)/f,r[1]=2*(u*o+l*i+c*n-s*a)/f,r[2]=2*(c*o+l*a+s*i-u*n)/f):(r[0]=2*(s*o+l*n+u*a-c*i),r[1]=2*(u*o+l*i+c*n-s*a),r[2]=2*(c*o+l*a+s*i-u*n)),me(t,e,r),t}function be(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Me(t,e){var r=e[0],n=e[1],i=e[2],a=e[4],o=e[5],s=e[6],u=e[8],c=e[9],l=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(a,o,s),t[2]=Math.hypot(u,c,l),t}function Ae(t,e){var r=new p(3);Me(r,e);var n=1/r[0],i=1/r[1],a=1/r[2],o=e[0]*n,s=e[1]*i,u=e[2]*a,c=e[4]*n,l=e[5]*i,f=e[6]*a,h=e[8]*n,d=e[9]*i,v=e[10]*a,y=o+l+v,g=0;return y>0?(g=2*Math.sqrt(y+1),t[3]=.25*g,t[0]=(f-d)/g,t[1]=(h-u)/g,t[2]=(s-c)/g):o>l&&o>v?(g=2*Math.sqrt(1+o-l-v),t[3]=(f-d)/g,t[0]=.25*g,t[1]=(s+c)/g,t[2]=(h+u)/g):l>v?(g=2*Math.sqrt(1+l-o-v),t[3]=(h-u)/g,t[0]=(s+c)/g,t[1]=.25*g,t[2]=(f+d)/g):(g=2*Math.sqrt(1+v-o-l),t[3]=(s-c)/g,t[0]=(h+u)/g,t[1]=(f+d)/g,t[2]=.25*g),t}function we(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3],u=i+i,c=a+a,l=o+o,f=i*u,h=i*c,d=i*l,p=a*c,v=a*l,y=o*l,g=s*u,m=s*c,x=s*l,b=n[0],M=n[1],A=n[2];return t[0]=(1-(p+y))*b,t[1]=(h+x)*b,t[2]=(d-m)*b,t[3]=0,t[4]=(h-x)*M,t[5]=(1-(f+y))*M,t[6]=(v+g)*M,t[7]=0,t[8]=(d+m)*A,t[9]=(v-g)*A,t[10]=(1-(f+p))*A,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function Te(t,e,r,n,i){var a=e[0],o=e[1],s=e[2],u=e[3],c=a+a,l=o+o,f=s+s,h=a*c,d=a*l,p=a*f,v=o*l,y=o*f,g=s*f,m=u*c,x=u*l,b=u*f,M=n[0],A=n[1],w=n[2],T=i[0],k=i[1],S=i[2],_=(1-(v+g))*M,R=(d+b)*M,E=(p-x)*M,C=(d-b)*A,O=(1-(h+g))*A,L=(y+m)*A,D=(p+x)*w,P=(y-m)*w,j=(1-(h+v))*w;return t[0]=_,t[1]=R,t[2]=E,t[3]=0,t[4]=C,t[5]=O,t[6]=L,t[7]=0,t[8]=D,t[9]=P,t[10]=j,t[11]=0,t[12]=r[0]+T-(_*T+C*k+D*S),t[13]=r[1]+k-(R*T+O*k+P*S),t[14]=r[2]+S-(E*T+L*k+j*S),t[15]=1,t}function ke(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,u=i+i,c=r*o,l=n*o,f=n*s,h=i*o,d=i*s,p=i*u,v=a*o,y=a*s,g=a*u;return t[0]=1-f-p,t[1]=l+g,t[2]=h-y,t[3]=0,t[4]=l-g,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+y,t[9]=d-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Se(t,e,r,n,i,a,o){var s=1/(r-e),u=1/(i-n),c=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*u,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function _e(t,e,r,n,i){var a,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(n-i),t[10]=(i+n)*a,t[14]=2*i*n*a):(t[10]=-1,t[14]=-2*n),t}function Re(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(i-a)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function Ee(t,e,r,n,i,a,o){var s=1/(e-r),u=1/(n-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=(o+a)*c,t[15]=1,t}function Ce(t,e,r,n){var i,a,o,s,u,c,l,f,h,p,v=e[0],y=e[1],g=e[2],m=n[0],x=n[1],b=n[2],M=r[0],A=r[1],w=r[2];return Math.abs(v-M)<d&&Math.abs(y-A)<d&&Math.abs(g-w)<d?te(t):(l=v-M,f=y-A,h=g-w,i=x*(h*=p=1/Math.hypot(l,f,h))-b*(f*=p),a=b*(l*=p)-m*h,o=m*f-x*l,(p=Math.hypot(i,a,o))?(i*=p=1/p,a*=p,o*=p):(i=0,a=0,o=0),s=f*o-h*a,u=h*i-l*o,c=l*a-f*i,(p=Math.hypot(s,u,c))?(s*=p=1/p,u*=p,c*=p):(s=0,u=0,c=0),t[0]=i,t[1]=s,t[2]=l,t[3]=0,t[4]=a,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*v+a*y+o*g),t[13]=-(s*v+u*y+c*g),t[14]=-(l*v+f*y+h*g),t[15]=1,t)}function Oe(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=n[0],u=n[1],c=n[2],l=i-r[0],f=a-r[1],h=o-r[2],d=l*l+f*f+h*h;d>0&&(l*=d=1/Math.sqrt(d),f*=d,h*=d);var p=u*h-c*f,v=c*l-s*h,y=s*f-u*l;return(d=p*p+v*v+y*y)>0&&(p*=d=1/Math.sqrt(d),v*=d,y*=d),t[0]=p,t[1]=v,t[2]=y,t[3]=0,t[4]=f*y-h*v,t[5]=h*p-l*y,t[6]=l*v-f*p,t[7]=0,t[8]=l,t[9]=f,t[10]=h,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function Le(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function De(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Pe(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function je(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function Ie(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function qe(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function Fe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Ne(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],h=t[10],p=t[11],v=t[12],y=t[13],g=t[14],m=t[15],x=e[0],b=e[1],M=e[2],A=e[3],w=e[4],T=e[5],k=e[6],S=e[7],_=e[8],R=e[9],E=e[10],C=e[11],O=e[12],L=e[13],D=e[14],P=e[15];return Math.abs(r-x)<=d*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(n-b)<=d*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-M)<=d*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(a-A)<=d*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(o-w)<=d*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-T)<=d*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(u-k)<=d*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(c-S)<=d*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(l-_)<=d*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(f-R)<=d*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(h-E)<=d*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(p-C)<=d*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(v-O)<=d*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(y-L)<=d*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(g-D)<=d*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(m-P)<=d*Math.max(1,Math.abs(m),Math.abs(P))}r(0).glMatrix.setMatrixArrayType(Array);var Ue=ae,Be=je;function Ve(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Ge(t){var e=new p(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function ze(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function He(t,e,r){var n=new p(3);return n[0]=t,n[1]=e,n[2]=r,n}function We(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ye(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function Xe(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Je(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function Qe(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function Ze(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function $e(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Ke(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function er(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function rr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function nr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function ir(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function ar(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.hypot(r,n,i)}function or(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function sr(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function ur(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function cr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function lr(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function fr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function hr(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2];return t[0]=i*u-a*s,t[1]=a*o-n*u,t[2]=n*s-i*o,t}function dr(t,e,r,n){var i=e[0],a=e[1],o=e[2];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t}function pr(t,e,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,c=o*(a-1),l=o*(3-2*a);return t[0]=e[0]*s+r[0]*u+n[0]*c+i[0]*l,t[1]=e[1]*s+r[1]*u+n[1]*c+i[1]*l,t[2]=e[2]*s+r[2]*u+n[2]*c+i[2]*l,t}function vr(t,e,r,n,i,a){var o=1-a,s=o*o,u=a*a,c=s*o,l=3*a*s,f=3*u*o,h=u*a;return t[0]=e[0]*c+r[0]*l+n[0]*f+i[0]*h,t[1]=e[1]*c+r[1]*l+n[1]*f+i[1]*h,t[2]=e[2]*c+r[2]*l+n[2]*f+i[2]*h,t}function yr(t,e){e=e||1;var r=2*v()*Math.PI,n=2*v()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t}function gr(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,t}function mr(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t}function xr(t,e,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=e[0],u=e[1],c=e[2],l=i*c-a*u,f=a*s-n*c,h=n*u-i*s,d=i*h-a*f,p=a*l-n*h,v=n*f-i*l,y=2*o;return l*=y,f*=y,h*=y,d*=2,p*=2,v*=2,t[0]=s+l+d,t[1]=u+f+p,t[2]=c+h+v,t}function br(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function Mr(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function Ar(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function wr(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2],u=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(a*a+o*o+s*s),c=u&&fr(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function Tr(t){return t[0]=0,t[1]=0,t[2]=0,t}function kr(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Sr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function _r(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))}r(0).glMatrix.setMatrixArrayType(Array);var Rr,Er=Je,Cr=Qe,Or=Ze,Lr=ar,Dr=or,Pr=ze,jr=sr,Ir=(Rr=Ve(),function(t,e,r,n,i,a){var o,s;for(e||(e=3),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)Rr[0]=t[o],Rr[1]=t[o+1],Rr[2]=t[o+2],i(Rr,Rr,a),t[o]=Rr[0],t[o+1]=Rr[1],t[o+2]=Rr[2];return t});function qr(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Fr(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Nr(t,e,r,n){var i=new p(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function Ur(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Br(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function Vr(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function Gr(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function zr(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function Hr(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function Wr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Yr(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Xr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function Jr(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function Qr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Zr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function $r(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function Kr(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.hypot(r,n,i,a)}function tn(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a}function en(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function rn(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function nn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function an(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function on(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a*o,t}function sn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function un(t,e,r,n){var i=r[0]*n[1]-r[1]*n[0],a=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],u=r[1]*n[3]-r[3]*n[1],c=r[2]*n[3]-r[3]*n[2],l=e[0],f=e[1],h=e[2],d=e[3];return t[0]=f*c-h*u+d*s,t[1]=-l*c+h*o-d*a,t[2]=l*u-f*o+d*i,t[3]=-l*s+f*a-h*i,t}function cn(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t[3]=s+n*(r[3]-s),t}function ln(t,e){var r,n,i,a,o,s;e=e||1;do{o=(r=2*v()-1)*r+(n=2*v()-1)*n}while(o>=1);do{s=(i=2*v()-1)*i+(a=2*v()-1)*a}while(s>=1);var u=Math.sqrt((1-o)/s);return t[0]=e*r,t[1]=e*n,t[2]=e*i*u,t[3]=e*a*u,t}function fn(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t}function hn(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2],c=r[3],l=c*n+s*a-u*i,f=c*i+u*n-o*a,h=c*a+o*i-s*n,d=-o*n-s*i-u*a;return t[0]=l*c+d*-o+f*-u-h*-s,t[1]=f*c+d*-s+h*-o-l*-u,t[2]=h*c+d*-u+l*-s-f*-o,t[3]=e[3],t}function dn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function pn(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function vn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function yn(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=d*Math.max(1,Math.abs(a),Math.abs(c))}r(0).glMatrix.setMatrixArrayType(Array);var gn=Gr,mn=zr,xn=Hr,bn=Kr,Mn=tn,An=en,wn=rn,Tn=function(){var t=qr();return function(e,r,n,i,a,o){var s,u;for(r||(r=4),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function kn(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Sn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function _n(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function Rn(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>d?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function En(t,e){var r=ii(t,e);return Math.acos(2*r*r-1)}function Cn(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],c=r[2],l=r[3];return t[0]=n*l+o*s+i*c-a*u,t[1]=i*l+o*u+a*s-n*c,t[2]=a*l+o*c+n*u-i*s,t[3]=o*l-n*s-i*u-a*c,t}function On(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-n*s,t}function Ln(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u-a*s,t[1]=i*u+o*s,t[2]=a*u+n*s,t[3]=o*u-i*s,t}function Dn(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=i*u-n*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t}function Pn(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t}function jn(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=Math.sqrt(r*r+n*n+i*i),s=Math.exp(a),u=o>0?s*Math.sin(o)/o:0;return t[0]=r*u,t[1]=n*u,t[2]=i*u,t[3]=s*Math.cos(o),t}function In(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=Math.sqrt(r*r+n*n+i*i),s=o>0?Math.atan2(o,a)/o:0;return t[0]=r*s,t[1]=n*s,t[2]=i*s,t[3]=.5*Math.log(r*r+n*n+i*i+a*a),t}function qn(t,e,r){return In(t,e),ni(t,t,r),jn(t,t),t}function Fn(t,e,r,n){var i,a,o,s,u,c=e[0],l=e[1],f=e[2],h=e[3],p=r[0],v=r[1],y=r[2],g=r[3];return(a=c*p+l*v+f*y+h*g)<0&&(a=-a,p=-p,v=-v,y=-y,g=-g),1-a>d?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-n)*i)/o,u=Math.sin(n*i)/o):(s=1-n,u=n),t[0]=s*c+u*p,t[1]=s*l+u*v,t[2]=s*f+u*y,t[3]=s*h+u*g,t}function Nn(t){var e=v(),r=v(),n=v(),i=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=a*Math.sin(2*Math.PI*n),t[3]=a*Math.cos(2*Math.PI*n),t}function Un(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a,s=o?1/o:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-i*s,t[3]=a*s,t}function Bn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Vn(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*a+o]-e[3*o+a])*r,t[a]=(e[3*a+i]+e[3*i+a])*r,t[o]=(e[3*o+i]+e[3*i+o])*r}return t}function Gn(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(r),u=Math.cos(r),c=Math.sin(n),l=Math.cos(n);return t[0]=a*u*l-o*s*c,t[1]=o*s*l+a*u*c,t[2]=o*u*c-a*s*l,t[3]=o*u*l+a*s*c,t}function zn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}r(0).glMatrix.setMatrixArrayType(Array);var Hn,Wn,Yn,Xn,Jn,Qn,Zn=Fr,$n=Nr,Kn=Ur,ti=Br,ei=Vr,ri=Cn,ni=Zr,ii=sn,ai=cn,oi=en,si=oi,ui=rn,ci=ui,li=on,fi=vn,hi=yn,di=(Hn=Ve(),Wn=He(1,0,0),Yn=He(0,1,0),function(t,e,r){var n=fr(e,r);return n<-.999999?(hr(Hn,Wn,e),Pr(Hn)<1e-6&&hr(Hn,Yn,e),lr(Hn,Hn),_n(t,Hn,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(hr(Hn,e,r),t[0]=Hn[0],t[1]=Hn[1],t[2]=Hn[2],t[3]=1+n,li(t,t))}),pi=(Xn=kn(),Jn=kn(),function(t,e,r,n,i,a){return Fn(Xn,e,i,a),Fn(Jn,r,n,a),Fn(t,Xn,Jn,2*a*(1-a)),t}),vi=(Qn=gt(),function(t,e,r,n){return Qn[0]=r[0],Qn[3]=r[1],Qn[6]=r[2],Qn[1]=n[0],Qn[4]=n[1],Qn[7]=n[2],Qn[2]=-e[0],Qn[5]=-e[1],Qn[8]=-e[2],li(t,Vn(t,Qn))});function yi(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function gi(t){var e=new p(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function mi(t,e,r,n,i,a,o,s){var u=new p(8);return u[0]=t,u[1]=e,u[2]=r,u[3]=n,u[4]=i,u[5]=a,u[6]=o,u[7]=s,u}function xi(t,e,r,n,i,a,o){var s=new p(8);s[0]=t,s[1]=e,s[2]=r,s[3]=n;var u=.5*i,c=.5*a,l=.5*o;return s[4]=u*n+c*r-l*e,s[5]=c*n+l*t-u*r,s[6]=l*n+u*e-c*t,s[7]=-u*t-c*e-l*r,s}function bi(t,e,r){var n=.5*r[0],i=.5*r[1],a=.5*r[2],o=e[0],s=e[1],u=e[2],c=e[3];return t[0]=o,t[1]=s,t[2]=u,t[3]=c,t[4]=n*c+i*u-a*s,t[5]=i*c+a*o-n*u,t[6]=a*c+n*s-i*o,t[7]=-n*o-i*s-a*u,t}function Mi(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function Ai(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function wi(t,e){var r=kn();Ae(r,e);var n=new p(3);return be(n,e),bi(t,r,n),t}function Ti(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function ki(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Si(t,e,r,n,i,a,o,s,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t}r(0).glMatrix.setMatrixArrayType(Array);var _i=Kn;function Ri(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Ei=Kn;function Ci(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Oi(t,e){var r=e[4],n=e[5],i=e[6],a=e[7],o=-e[0],s=-e[1],u=-e[2],c=e[3];return t[0]=2*(r*c+a*o+n*u-i*s),t[1]=2*(n*c+a*s+i*o-r*u),t[2]=2*(i*c+a*u+r*s-n*o),t}function Li(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=.5*r[0],u=.5*r[1],c=.5*r[2],l=e[4],f=e[5],h=e[6],d=e[7];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=o*s+i*c-a*u+l,t[5]=o*u+a*s-n*c+f,t[6]=o*c+n*u-i*s+h,t[7]=-n*s-i*u-a*c+d,t}function Di(t,e,r){var n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=s*o+l*n+u*a-c*i,h=u*o+l*i+c*n-s*a,d=c*o+l*a+s*i-u*n,p=l*o-s*n-u*i-c*a;return On(t,e,r),n=t[0],i=t[1],a=t[2],o=t[3],t[4]=f*o+p*n+h*a-d*i,t[5]=h*o+p*i+d*n-f*a,t[6]=d*o+p*a+f*i-h*n,t[7]=p*o-f*n-h*i-d*a,t}function Pi(t,e,r){var n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=s*o+l*n+u*a-c*i,h=u*o+l*i+c*n-s*a,d=c*o+l*a+s*i-u*n,p=l*o-s*n-u*i-c*a;return Ln(t,e,r),n=t[0],i=t[1],a=t[2],o=t[3],t[4]=f*o+p*n+h*a-d*i,t[5]=h*o+p*i+d*n-f*a,t[6]=d*o+p*a+f*i-h*n,t[7]=p*o-f*n-h*i-d*a,t}function ji(t,e,r){var n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=s*o+l*n+u*a-c*i,h=u*o+l*i+c*n-s*a,d=c*o+l*a+s*i-u*n,p=l*o-s*n-u*i-c*a;return Dn(t,e,r),n=t[0],i=t[1],a=t[2],o=t[3],t[4]=f*o+p*n+h*a-d*i,t[5]=h*o+p*i+d*n-f*a,t[6]=d*o+p*a+f*i-h*n,t[7]=p*o-f*n-h*i-d*a,t}function Ii(t,e,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=e[0],u=e[1],c=e[2],l=e[3];return t[0]=s*o+l*n+u*a-c*i,t[1]=u*o+l*i+c*n-s*a,t[2]=c*o+l*a+s*i-u*n,t[3]=l*o-s*n-u*i-c*a,s=e[4],u=e[5],c=e[6],l=e[7],t[4]=s*o+l*n+u*a-c*i,t[5]=u*o+l*i+c*n-s*a,t[6]=c*o+l*a+s*i-u*n,t[7]=l*o-s*n-u*i-c*a,t}function qi(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],c=r[2],l=r[3];return t[0]=n*l+o*s+i*c-a*u,t[1]=i*l+o*u+a*s-n*c,t[2]=a*l+o*c+n*u-i*s,t[3]=o*l-n*s-i*u-a*c,s=r[4],u=r[5],c=r[6],l=r[7],t[4]=n*l+o*s+i*c-a*u,t[5]=i*l+o*u+a*s-n*c,t[6]=a*l+o*c+n*u-i*s,t[7]=o*l-n*s-i*u-a*c,t}function Fi(t,e,r,n){if(Math.abs(n)<d)return Ti(t,e);var i=Math.hypot(r[0],r[1],r[2]);n*=.5;var a=Math.sin(n),o=a*r[0]/i,s=a*r[1]/i,u=a*r[2]/i,c=Math.cos(n),l=e[0],f=e[1],h=e[2],p=e[3];t[0]=l*c+p*o+f*u-h*s,t[1]=f*c+p*s+h*o-l*u,t[2]=h*c+p*u+l*s-f*o,t[3]=p*c-l*o-f*s-h*u;var v=e[4],y=e[5],g=e[6],m=e[7];return t[4]=v*c+m*o+y*u-g*s,t[5]=y*c+m*s+g*o-v*u,t[6]=g*c+m*u+v*s-y*o,t[7]=m*c-v*o-y*s-g*u,t}function Ni(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t}function Ui(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[4],u=r[5],c=r[6],l=r[7],f=e[4],h=e[5],d=e[6],p=e[7],v=r[0],y=r[1],g=r[2],m=r[3];return t[0]=n*m+o*v+i*g-a*y,t[1]=i*m+o*y+a*v-n*g,t[2]=a*m+o*g+n*y-i*v,t[3]=o*m-n*v-i*y-a*g,t[4]=n*l+o*s+i*c-a*u+f*m+p*v+h*g-d*y,t[5]=i*l+o*u+a*s-n*c+h*m+p*y+d*v-f*g,t[6]=a*l+o*c+n*u-i*s+d*m+p*g+f*y-h*v,t[7]=o*l-n*s-i*u-a*c+p*m-f*v-h*y-d*g,t}var Bi=Ui;function Vi(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t}var Gi=ii;function zi(t,e,r,n){var i=1-n;return Gi(e,r)<0&&(n=-n),t[0]=e[0]*i+r[0]*n,t[1]=e[1]*i+r[1]*n,t[2]=e[2]*i+r[2]*n,t[3]=e[3]*i+r[3]*n,t[4]=e[4]*i+r[4]*n,t[5]=e[5]*i+r[5]*n,t[6]=e[6]*i+r[6]*n,t[7]=e[7]*i+r[7]*n,t}function Hi(t,e){var r=Ji(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t}function Wi(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Yi=oi,Xi=Yi,Ji=ui,Qi=Ji;function Zi(t,e){var r=Ji(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,i=e[1]/r,a=e[2]/r,o=e[3]/r,s=e[4],u=e[5],c=e[6],l=e[7],f=n*s+i*u+a*c+o*l;t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=(s-n*f)/r,t[5]=(u-i*f)/r,t[6]=(c-a*f)/r,t[7]=(l-o*f)/r}return t}function $i(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Ki(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function ta(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=e[0],f=e[1],h=e[2],p=e[3],v=e[4],y=e[5],g=e[6],m=e[7];return Math.abs(r-l)<=d*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-f)<=d*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-h)<=d*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-p)<=d*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-v)<=d*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-y)<=d*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-g)<=d*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(c-m)<=d*Math.max(1,Math.abs(c),Math.abs(m))}function ea(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function ra(t){var e=new p(2);return e[0]=t[0],e[1]=t[1],e}function na(t,e){var r=new p(2);return r[0]=t,r[1]=e,r}function ia(t,e){return t[0]=e[0],t[1]=e[1],t}function aa(t,e,r){return t[0]=e,t[1]=r,t}function oa(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function sa(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function ua(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function ca(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function la(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function fa(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function ha(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function da(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function pa(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function va(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function ya(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function ga(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function ma(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function xa(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function ba(t){var e=t[0],r=t[1];return e*e+r*r}function Ma(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Aa(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function wa(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function Ta(t,e){return t[0]*e[0]+t[1]*e[1]}function ka(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function Sa(t,e,r,n){var i=e[0],a=e[1];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t}function _a(t,e){e=e||1;var r=2*v()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function Ra(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function Ea(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function Ca(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function Oa(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function La(t,e,r,n){var i=e[0]-r[0],a=e[1]-r[1],o=Math.sin(n),s=Math.cos(n);return t[0]=i*s-a*o+r[0],t[1]=i*o+a*s+r[1],t}function Da(t,e){var r=t[0],n=t[1],i=e[0],a=e[1],o=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+a*a),s=o&&(r*i+n*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function Pa(t){return t[0]=0,t[1]=0,t}function ja(t){return"vec2("+t[0]+", "+t[1]+")"}function Ia(t,e){return t[0]===e[0]&&t[1]===e[1]}function qa(t,e){var r=t[0],n=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=d*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))}r(0).glMatrix.setMatrixArrayType(Array);var Fa=xa,Na=sa,Ua=ua,Ba=ca,Va=ga,Ga=ma,za=ba,Ha=function(){var t=ea();return function(e,r,n,i,a,o){var s,u;for(r||(r=2),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}();r(0).glMatrix.setMatrixArrayType(Array)},function(t,e,r){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}r(0).glMatrix.setMatrixArrayType(Array),t.exports=n},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(109),i=r(160),a=r(80),o=r(111);t.exports=function(t,e){return n(t)||i(t,e)||a(t,e)||o()}},function(t,e,r){"use strict";function n(t,e){var r=t.trim().match(/^([\d.]+)(px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin)$/),i=t=r?{size:parseFloat(r[1]),unit:r[2]}:{size:parseFloat(t),unit:"px"},a=i.size,o=i.unit;if("pt"===o)a/=.75;else if("pc"===o)a*=16;else if("in"===o)a*=96;else if("cm"===o)a*=96/2.54;else if("mm"===o)a*=96/25.4;else if("em"===o||"rem"===o||"ex"===o){if(!e&&"function"==typeof getComputedStyle&&"undefined"!=typeof document){var s=getComputedStyle(document.documentElement).fontSize;e=s?n(s,16):16}a*=e,"ex"===o&&(a/=2)}else if("q"===o)a*=96/25.4/4;else if("vw"===o||"vh"===o){if("undefined"!=typeof document)a*=("vw"===o?window.innerWidth||document.documentElement.clientWidth:window.innerHeight||document.documentElement.clientHeight)/100}else if(("vmax"===o||"vmin"===o)&&"undefined"!=typeof document){var u=window.innerWidth||document.documentElement.clientWidth,c=window.innerHeight||document.documentElement.clientHeight;a*="vmax"===o?Math.max(u,c)/100:Math.min(u,c)/100}return a}function i(t){return null==t?t:String(t)}function a(t){if(null==t)return t;if("string"==typeof t&&(t=n(t)),!Number.isFinite(t))throw new TypeError("Invalid value");return t}function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return""===t?null:("string"==typeof t&&(t=t.split(/[\s,]+/g)),Array.isArray(t)&&(e&&(t=t.map(a)),1===t.length)?t[0]:t)}function s(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return null==t&&null==e||t===e}r.d(e,"b",(function(){return n})),r.d(e,"e",(function(){return i})),r.d(e,"d",(function(){return a})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return s})),r(0).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(161),i=r(112),a=r(80),o=r(162);t.exports=function(t){return n(t)||i(t)||a(t)||o()}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(16),i=r(30);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?i(t):e}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(81);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(113);function i(e,r,a){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,r){var i=n(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(r):a.value}},i(e,r,a||e)}t.exports=i},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){"use strict";r.r(e),r.d(e,"create",(function(){return a})),r.d(e,"clone",(function(){return i})),r.d(e,"copy",(function(){return o})),r.d(e,"scaleAndAdd",(function(){return s})),r.d(e,"dot",(function(){return u})),r.d(e,"rotate",(function(){return c})),r.d(e,"cross",(function(){return l})),r.d(e,"sub",(function(){return f})),r.d(e,"add",(function(){return h}));var n=r(0);function i(t){return[t[0],t[1]]}function a(){return[0,0]}r(0).glMatrix.setMatrixArrayType(Array);var o=n.vec2.copy,s=n.vec2.scaleAndAdd,u=n.vec2.dot,c=n.vec2.rotate,l=n.vec2.cross,f=n.vec2.sub,h=n.vec2.add},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=new Map;function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t=t.toLowerCase();var i=n.get(t);if(!i)throw new TypeError("Invalid node: ".concat(t));var a=new i(e);return r.forEach((function(t){a.appendChild(t)})),a}var a={registerNode:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;if(e=e.toLowerCase(),n.has(e))throw new TypeError("Cannot registerNode, ".concat(e," has been taken."));n.set(e,t),Object.defineProperties(t.prototype,{nodeType:{value:r},tagName:{value:e.toUpperCase()},nodeName:{value:e},ownerDocument:{value:a},namespaceURI:{value:"http://spritejs.org/".concat(e)}})},createElement:i,createElementNS:function(t,e){return i(e)},isSpriteNode:function(t){return n.has(t.toLowerCase())}};e.a=a},function(t,e,r){"use strict";r.d(e,"e",(function(){return We})),r.d(e,"b",(function(){return Pt})),r.d(e,"c",(function(){return Se})),r.d(e,"d",(function(){return et})),r.d(e,"f",(function(){return x.a})),r.d(e,"a",(function(){return g.a}));var n=r(2),i=r.n(n),a=r(4),o=r.n(a),s=r(5),u=r.n(s),c=r(6),l=r.n(c),f=r(78),h=r(0),d=r(15),p=r.n(d),v=r(26),y=r.n(v),g=r(34),m=r(28),x=r(52);function b(t,e,r){return t*(1-r)+e*r}function M(t,e){var r=i()(t,2),n=r[0],a=r[1];return[n*e[0]+a*e[2]+e[4],n*e[1]+a*e[3]+e[5]]}function A(t,e){var r=t.canvas;t.save(),t.filter=e,t.drawImage(r,0,0,r.width,r.height),t.restore()}function w(t,e){var r=/rgba\((\d+),(\d+),(\d+),(\d+)\)/;t=t.match(r).slice(1,5).map(Number);for(var n=[],i=(e=e.match(r).slice(1,5).map(Number))[3],a=0;a<4;a++)n[a]=b(t[a],e[a],i);return"rgba(".concat(n.join(),")")}function T(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;e.save();var u=!1,c=!1;if(e.globalAlpha=t.getOpacity(),t._updateMatrix){var l=t.transformScale/t.contours.scale;l>1.5&&t.accurate(t.transformScale)}if(t.lineWidth){var f=t.gradient&&t.gradient.stroke;if(f){var d=f,p=d.vector,v=d.colors;if(6===p.length)f=e.createRadialGradient.apply(e,o()(p));else if(4===p.length)f=e.createLinearGradient.apply(e,o()(p));else{if(3!==p.length)throw new TypeError("Invalid vector dimension.");f=e.createCircularGradient.apply(e,o()(p))}v.forEach((function(t){var e=t.offset,r=t.color,n=Object(m.a)(r);i&&(n=w(n,i)),f.addColorStop(e,n)})),e.strokeStyle=f,u=!0}else t.strokeStyle&&(e.strokeStyle=i?w(t.strokeStyle,i):t.strokeStyle,u=!0)}u&&(e.lineWidth=t.lineWidth,e.lineJoin=t.lineJoin,e.lineCap=t.lineCap,e.miterLimit=t.miterLimit,t.lineDash&&(e.setLineDash(t.lineDash),t.lineDashOffset&&(e.lineDashOffset=t.lineDashOffset)));var y=t.gradient&&t.gradient.fill;if(y){var g=y,b=g.vector,M=g.colors;if(6===b.length)y=e.createRadialGradient.apply(e,o()(b));else if(4===b.length)y=e.createLinearGradient.apply(e,o()(b));else{if(3!==b.length)throw new TypeError("Invalid vector dimension.");y=e.createCircularGradient.apply(e,o()(b))}M.forEach((function(t){var e=t.offset,r=t.color,n=Object(m.a)(r);i&&(n=w(n,i)),y.addColorStop(e,n)})),e.fillStyle=y,c=!0}else t.fillStyle&&(e.fillStyle=n?w(t.fillStyle,n):t.fillStyle,c=!0);s&&e.transform.apply(e,o()(s)),e.transform.apply(e,o()(t.transformMatrix));var T=t.contours.length;if(t.contours.forEach((function(r,n){var i=r.length,s=i>1&&h.vec2.equals(r[0],r[i-1]),l=n===T-1&&t.texture;if(r&&i>0){if(c||u||l){e.beginPath(),e.moveTo.apply(e,o()(r[0]));for(var f=1;f<i;f++)f===i-1&&s?e.closePath():e.lineTo.apply(e,o()(r[f]))}if(c&&e.fill(t.fillRule),l){e.save(),e.clip();var d=t.texture,p=d.image,v=d.options;if(a&&(p=a),v.repeat&&console.warn("Context 2D not supported image repeat yet."),p.font){v.scale&&console.warn("Context 2D not supported text scale yet."),v.srcRect&&console.warn("Context 2D not supported text srcRect yet.");var y=p,g=y.font,b=y.fillColor,M=y.strokeColor,A=y.strokeWidth,w=y.text;b||M||(b="#000"),Array.isArray(b)&&(b=Object(m.a)(b)),Array.isArray(M)&&(M=Object(m.a)(M)),e.font=g;var k=e.measureText(w).width,S=Object(x.a)(g),_=Math.max(S.pxLineHeight,1.13*S.pxHeight);e.textAlign="center",e.textBaseline="middle";var R=v.rect,E=R[0]+.5*_+.06*S.pxHeight,C=R[1]+.5*k;null!=R[2]&&e.scale(R[2]/k,R[3]/_),b&&(e.fillStyle=b,e.fillText(w,C,E)),M&&(e.lineWidth=A,e.strokeStyle=M,e.strokeText(w,C,E))}else{var O=v.rect,L=v.srcRect;v.scale&&(O=[0,0,e.canvas.width,e.canvas.height]),v.rotated&&O&&(O=[-O[1],O[0],O[3],O[2]]),L&&(O=O||[0,0,L[2],L[3]]),v.rotated&&(e.translate(0,O?O[2]:p.width),e.rotate(-.5*Math.PI)),L?e.drawImage.apply(e,[p].concat(o()(L),o()(O))):O?e.drawImage.apply(e,[p].concat(o()(O))):e.drawImage(p,0,0)}e.restore()}u&&e.stroke()}})),e.restore(),r){var k=t.filter;k&&A(e,k)}}r(0).glMatrix.setMatrixArrayType(Array),r(0).glMatrix.setMatrixArrayType(Array),r(0).glMatrix.setMatrixArrayType(Array);var k=Symbol("transform"),S=function(){function t(e,r){u()(this,t),this.context=e.getContext("2d"),this.options=r,this[k]=[1,0,0,1,0,0]}var e;return l()(t,[{key:"createTexture",value:function(t){return{_img:t}}},{key:"loadTexture",value:(e=y()(p.a.mark((function t(e){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.loadImage(e,{useImageBitmap:!1});case 2:return r=t.sent,t.abrupt("return",this.createTexture(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"deleteTexture",value:function(t){return t}},{key:"clear",value:function(t,e,r,n){var i=this.context;t=t||0,e=e||0,r=r||i.canvas.width-t,n=n||i.canvas.height-e,i.clearRect(t,e,r,n)}},{key:"drawMeshCloud",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.clear,n=void 0!==r&&r,i=[],a=0;a<t.amount;a++){var o=t.getTransform(a),s=t.getTextureFrame(a);s&&(s=s._img);var u=t.getFilter(a),c=t.getCloudRGBA(a),l=c.fill,f=c.stroke;i.push({mesh:t.mesh,_cloudOptions:[l,f,s,o,u]})}t.beforeRender&&t.beforeRender(this.context,t),this.drawMeshes(i,{clear:n,hook:!1}),t.afterRender&&t.afterRender(this.context,t)}},{key:"drawMeshes",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clear,a=void 0!==n&&n,s=r.hook,u=void 0===s||s,c=this.context;a&&c.clearRect(0,0,c.canvas.width,c.canvas.height);var l=null,f=c.canvas,h=f.width,d=f.height,p=t.length;t.forEach((function(t,r){var n,a,s,f,v;if(u&&t.beforeRender&&t.beforeRender(c,t),t._cloudOptions){var y=i()(t._cloudOptions,5);n=y[0],a=y[1],s=y[2],f=y[3],v=y[4],t=t.mesh}var m,x=t.filter;if(v&&(x=x?"".concat(x," ").concat(v):v),x&&!e.filterBuffer&&!1!==e.filterBuffer){var b=g.a.createCanvas(h,d);e.filterBuffer=!!b&&b.getContext("2d")}(l&&l!==x&&(A(e.filterBuffer,l),c.drawImage(e.filterBuffer.canvas,0,0,h,d),e.filterBuffer.clearRect(0,0,h,d),l=null),x&&e.filterBuffer)?(e.filterBuffer.save(),(m=e.filterBuffer).transform.apply(m,o()(e[k])),T(t,e.filterBuffer,!1,n,a,s,f),e.filterBuffer.restore(),r===p-1?(A(e.filterBuffer,x),c.drawImage(e.filterBuffer.canvas,0,0,h,d),e.filterBuffer.clearRect(0,0,h,d)):l=x):(c.save(),c.transform.apply(c,o()(e[k])),T(t,c,!1,n,a,s,f),c.restore());u&&t.afterRender&&t.afterRender(c,t)}))}},{key:"setTransform",value:function(t){this[k]=t}}]),t}();r(0).glMatrix.setMatrixArrayType(Array);var _={UNSIGNED_BYTE:Uint8Array,UNSIGNED_SHORT:Uint16Array,BYTE:Int8Array,SHORT:Int16Array,FLOAT:Float32Array};function R(t,e){var r=[],n=[],a=[],s=[],u=[],c=[],l=0,f=0,h=t[0]&&t[0].uniforms||{},d=t[0]?t[0].program:null;e&&(!function(t,e){for(var r=0,n=0,a=0,o=0,s=0,u=0,c=0,l=t[0].program,f=0;f<t.length;f++){var h=t[f].meshData;if(h){c+=h.positions.length;var d=h.positions[0].length;r+=h.positions.length*d,n+=3*h.cells.length,u+=4*h.attributes.a_color.length;var p=h.textureCoord;p&&(a+=p.length*p[0].length);var v=h.attributes.a_sourceRect;v&&(o+=4*v.length);var y=h.attributes.a_clipUV;y&&(s+=2*y.length)}}if((!e.positions||e.positions.length<r)&&(e.positions=new Float32Array(r)),(!e.cells||e.cells.length<n)&&(e.cells=new Uint16Array(n)),a&&(!e.textureCoord||e.textureCoord.length<a)&&(e.textureCoord=new Float32Array(a)),(!e.a_color||e.a_color.length<u)&&(e.a_color=new Uint8Array(u)),o&&(!e.a_sourceRect||e.a_sourceRect.length<o)&&(e.a_sourceRect=new Float32Array(o)),s&&(!e.a_clipUV||e.a_clipUV.length<s)&&(e.a_clipUV=new Float32Array(s)),l)for(var g=Object.entries(l._attribute),m=l._attribOpts||{},x=0;x<g.length;x++){var b=i()(g[x],2),M=b[0],A=b[1];if("a_color"!==M&&"a_sourceRect"!==M&&"ignored"!==A){var w=m[M]?m[M].type:"FLOAT",T=_[w],k=A.size*c;(!e[M]||e[M].length<k)&&(e[M]=new T(k))}}}(t,e),n=e.cells,r=e.positions,a=e.textureCoord,s=e.a_color,u=e.a_sourceRect,c=e.a_clipUV);for(var p=!1,v=!1,y={},g=0;g<t.length;g++){var m=t[g];if(m){var x;if(m.meshData&&(m=m.meshData),e)for(var b=m.positions,M=0;M<b.length;M++)for(var A=b[M],w=3*(l+M),T=0;T<A.length;T++)r[w+T]=A[T];else(x=r).push.apply(x,o()(m.positions));for(var k,S,R,E,C=m.cells,O=0;O<C.length;O++){var L=C[O];if(e){var D=3*(f+O);n[D]=L[0]+l,n[D+1]=L[1]+l,n[D+2]=L[2]+l}else n.push([L[0]+l,L[1]+l,L[2]+l])}if(e)for(var P=m.attributes.a_color,j=0;j<P.length;j++){var I=P[j],q=4*(l+j);s[q]=I[0],s[q+1]=I[1],s[q+2]=I[2],s[q+3]=I[3]}else(k=s).push.apply(k,o()(m.attributes.a_color));if(m.attributes.a_sourceRect)if(p=!0,e)for(var F=m.attributes.a_sourceRect,N=0;N<F.length;N++){var U=F[N],B=4*(l+N);u[B]=U[0],u[B+1]=U[1],u[B+2]=U[2],u[B+3]=U[3]}else(S=u).push.apply(S,o()(m.attributes.a_sourceRect));if(m.attributes.a_clipUV)if(v=!0,e)for(var V=m.attributes.a_clipUV,G=0;G<V.length;G++){var z=V[G],H=2*(l+G);c[H]=z[0],c[H+1]=z[1]}else(R=c).push.apply(R,o()(m.attributes.a_clipUV));if(m.textureCoord)if(e)for(var W=m.textureCoord,Y=0;Y<W.length;Y++)for(var X=W[Y],J=3*(l+Y),Q=0;Q<X.length;Q++)a[J+Q]=X[Q];else(E=a).push.apply(E,o()(m.textureCoord));if(d)for(var Z=Object.entries(d._attribute),$=0;$<Z.length;$++){var K=i()(Z[$],2),tt=K[0],et=K[1];if("a_color"!==tt&&"a_sourceRect"!==tt&&"ignored"!==et)if(y[tt]=[],e){y[tt]=e[tt];for(var rt=m.attributes[tt],nt=rt[0].length,it=0;it<rt.length;it++)for(var at=rt[it],ot=nt*(l+it),st=0;st<at.length;st++)y[tt][ot+st]=at[st]}else{var ut;(ut=y[tt]).push.apply(ut,o()(m.attributes[tt]))}}l+=m.positions.length,f+=m.cells.length}}y.a_color=s,p&&u&&u.length>0&&(y.a_sourceRect=u);var ct={positions:r,cells:n,attributes:y,uniforms:h,cellsCount:3*f,program:d};return a&&a.length&&(ct.textureCoord=a),v&&c.length>0&&(y.a_clipUV=c),ct}var E=r(10),C=r.n(E);function O(t,e){var r=[],n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],p=t[11],v=t[12],y=t[13],g=t[14],m=t[15],x=t[16],b=t[17],M=t[18],A=t[19],w=e[0],T=e[1],k=e[2],S=e[3],_=e[4];return r[0]=w*n+T*u+k*d+S*m,r[1]=w*i+T*c+k*p+S*x,r[2]=w*a+T*l+k*v+S*b,r[3]=w*o+T*f+k*y+S*M,r[4]=w*s+T*h+k*g+S*A+_,w=e[5],T=e[6],k=e[7],S=e[8],_=e[9],r[5]=w*n+T*u+k*d+S*m,r[6]=w*i+T*c+k*p+S*x,r[7]=w*a+T*l+k*v+S*b,r[8]=w*o+T*f+k*y+S*M,r[9]=w*s+T*h+k*g+S*A+_,w=e[10],T=e[11],k=e[12],S=e[13],_=e[14],r[10]=w*n+T*u+k*d+S*m,r[11]=w*i+T*c+k*p+S*x,r[12]=w*a+T*l+k*v+S*b,r[13]=w*o+T*f+k*y+S*M,r[14]=w*s+T*h+k*g+S*A+_,w=e[15],T=e[16],k=e[17],S=e[18],_=e[19],r[15]=w*n+T*u+k*d+S*m,r[16]=w*i+T*c+k*p+S*x,r[17]=w*a+T*l+k*v+S*b,r[18]=w*o+T*f+k*y+S*M,r[19]=w*s+T*h+k*g+S*A+_,r}function L(t){var e=.2126*(t=function(t,e,r){if(e>r){var n=[r,e];e=n[0],r=n[1]}return t<e?e:t>r?r:t}(0,1,t)),r=.7152*t,n=.0722*t;return[e+1-t,r,n,0,0,e,r+1-t,n,0,0,e,r,n+1-t,0,0,0,0,0,1,0]}function D(t){return[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0]}function P(t){var e=.2126*(1-t),r=.7152*(1-t),n=.0722*(1-t);return[e+t,r,n,0,0,e,r+t,n,0,0,e,r,n+t,0,0,0,0,0,1,0]}function j(t){var e=.5*(1-t);return[t,0,0,0,e,0,t,0,0,e,0,0,t,0,e,0,0,0,1,0]}function I(t){var e=1-2*t;return[e,0,0,0,t,0,e,0,0,t,0,0,e,0,t,0,0,0,1,0]}function q(t){return[1-.607*t,.769*t,.189*t,0,0,.349*t,1-.314*t,.168*t,0,0,.272*t,.534*t,1-.869*t,0,0,0,0,0,1,0]}function F(t){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,t,0]}function N(t){var e=t/180*Math.PI,r=Math.cos(e),n=Math.sin(e),i=.2126,a=.7152,o=.0722;return[i+r*(1-i)+n*-i,a+r*-a+n*-a,o+r*-o+n*(1-o),0,0,i+r*-i+.143*n,a+r*(1-a)+.14*n,o+r*-o+-.283*n,0,0,i+r*-i+-.7874*n,a+r*-a+n*a,o+r*(1-o)+n*o,0,0,0,0,0,1,0]}r(0).glMatrix.setMatrixArrayType(Array);var U=r(37),B=r.n(U);function V(t){var e=B()(t);if(!e||!e.length)throw new TypeError("Invalid color value.");return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?G(Object(r),!0).forEach((function(e){C()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}r(0).glMatrix.setMatrixArrayType(Array),r(0).glMatrix.setMatrixArrayType(Array);var H=Symbol("mesh"),W=Symbol("count"),Y=Symbol("blend"),X=Symbol("filter"),J=Symbol("textures"),Q=Symbol("textureOptions"),Z=Symbol("cloudColor"),$=Symbol("cloudFilter"),K=Symbol("buffer");function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new Float32Array(3*t),n=new Float32Array(3*t),i=new Float32Array(4*t),a=new Float32Array(4*t),o=new Float32Array(4*t),s=new Float32Array(4*t),u=new Float32Array(4*t),c=new Uint8Array(t),l=new Uint8Array(4*t),f=new Uint8Array(4*t);return e&&(r.set(e.transform0,0),n.set(e.transform1,0),i.set(e.color0,0),a.set(e.color1,0),o.set(e.color2,0),s.set(e.color3,0),u.set(e.color4,0),c.set(e.frameIndex,0),l.set(e.fillColor,0),f.set(e.strokeColor,0)),{bufferSize:t,transform0:r,transform1:n,color0:i,color1:a,color2:o,color3:s,color4:u,frameIndex:c,fillColor:l,strokeColor:f}}var et=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.buffer,a=void 0===i?1e3:i;u()(this,t),a=Math.max(a,r),this[W]=r,this[H]=e,this[K]=tt(a),this[J]=[],this[X]=[],this[Z]=!1,this[$]=!1,this[Y]=!1,this.initBuffer()}return l()(t,[{key:"initBuffer",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this[W],r=t;r<e;r++)this[K].transform0.set([1,0,0],3*r),this[K].transform1.set([0,1,0],3*r),this[K].frameIndex.set([-1],r),this[K].fillColor.set([0,0,0,0],4*r),this[K].strokeColor.set([0,0,0,0],4*r),this.setColorTransform(r,null)}},{key:"_getFilter",value:function(t){return this[X][t]=this[X][t]||[],this[X][t]}},{key:"getFilter",value:function(t){return this._getFilter(t).join(" ")}},{key:"canIgnore",value:function(){return this[H].canIgnore()}},{key:"delete",value:function(t){if(t>=this[W]||t<0)throw new Error("Out of range.");var e=this[K],r=e.transform0,n=e.transform1,i=e.color0,a=e.color1,o=e.color2,s=e.color3,u=e.color4,c=e.frameIndex,l=e.fillColor,f=e.strokeColor;for(var h in r.set(r.subarray(3*(t+1)),3*t),n.set(n.subarray(3*(t+1)),3*t),i.set(i.subarray(4*(t+1)),4*t),a.set(a.subarray(4*(t+1)),4*t),o.set(o.subarray(4*(t+1)),4*t),s.set(s.subarray(4*(t+1)),4*t),u.set(u.subarray(4*(t+1)),4*t),c.set(c.subarray(t+1),t),l.set(l.subarray(4*(t+1)),4*t),f.set(f.subarray(4*(t+1)),4*t),this[X])h===t?delete this[X][h]:h>t&&(this[X][h-1]=this[X][h],delete this[X][h]);this[W]--}},{key:"setColorTransform",value:function(t,e){if(t>=this[W]||t<0)throw new Error("Out of range.");t*=4;var r=this[K],n=r.color0,i=r.color1,a=r.color2,o=r.color3,s=r.color4;return null!=e?(n.set([e[0],e[5],e[10],e[15]],t),i.set([e[1],e[6],e[11],e[16]],t),a.set([e[2],e[7],e[12],e[17]],t),o.set([e[3],e[8],e[13],e[18]],t),s.set([e[4],e[9],e[14],e[19]],t),this[Y]=this[Y]||e[18]<1,this[$]=!0):(n.set([1,0,0,0],t),i.set([0,1,0,0],t),a.set([0,0,1,0],t),o.set([0,0,0,1],t),s.set([0,0,0,0],t)),this}},{key:"getColorTransform",value:function(t){if(t>=this[W]||t<0)throw new Error("Out of range.");t*=4;var e=this[K],r=e.color0,n=e.color1,i=e.color2,a=e.color3,o=e.color4;return[r[t],n[t],i[t],a[t],o[t],r[t+1],n[t+1],i[t+1],a[t+1],o[t+1],r[t+2],n[t+2],i[t+2],a[t+2],o[t+2],r[t+3],n[t+3],i[t+3],a[t+3],o[t+3]]}},{key:"transformColor",value:function(t,e){var r=this.getColorTransform(t);return r=O(r,e),this.setColorTransform(t,r),this}},{key:"setFillColor",value:function(t,e){if(t>=this[W]||t<0)throw new Error("Out of range.");"string"==typeof e&&(e=V(e)),e[3]>0&&(this[Z]=!0),this[K].fillColor.set(e.map((function(t){return Math.round(255*t)})),4*t)}},{key:"setStrokeColor",value:function(t,e){if(t>=this[W]||t<0)throw new Error("Out of range.");"string"==typeof e&&(e=V(e)),e[3]>0&&(this[Z]=!0),this[K].strokeColor.set(e.map((function(t){return Math.round(255*t)})),4*t)}},{key:"getCloudRGBA",value:function(t){if(t>=this[W]||t<0)throw new Error("Out of range.");t*=4;var e=this[K],r=e.fillColor,n=e.strokeColor,i=[r[t],r[t+1],r[t+2],r[t+3]],a=[n[t],n[t+1],n[t+2],n[t+3]];return i[3]/=255,a[3]/=255,{fill:"rgba(".concat(i.join(),")"),stroke:"rgba(".concat(a.join(),")")}}},{key:"grayscale",value:function(t,e){this.transformColor(t,L(e)),this._getFilter(t).push("grayscale(".concat(100*e,"%)"))}},{key:"brightness",value:function(t,e){this.transformColor(t,D(e)),this._getFilter(t).push("brightness(".concat(100*e,"%)"))}},{key:"saturate",value:function(t,e){this.transformColor(t,P(e)),this._getFilter(t).push("saturate(".concat(100*e,"%)"))}},{key:"contrast",value:function(t,e){this.transformColor(t,j(e)),this._getFilter(t).push("contrast(".concat(100*e,"%)"))}},{key:"invert",value:function(t,e){this.transformColor(t,I(e)),this._getFilter(t).push("invert(".concat(100*e,"%)"))}},{key:"sepia",value:function(t,e){this.transformColor(t,q(e)),this._getFilter(t).push("sepia(".concat(100*e,"%)"))}},{key:"opacity",value:function(t,e){this.transformColor(t,F(e)),this._getFilter(t).push("opacity(".concat(100*e,"%)"))}},{key:"hueRotate",value:function(t,e){this.transformColor(t,N(e)),this._getFilter(t).push("hue-rotate(".concat(e,"deg)"))}},{key:"setTransform",value:function(t,e){if(t>=this[W]||t<0)throw new Error("Out of range.");t*=3,null==e&&(e=[1,0,0,1,0,0]);var r=this[K],n=r.transform0,i=r.transform1;return n.set([e[0],e[2],e[4]],t),i.set([e[1],e[3],e[5]],t),this}},{key:"getTransform",value:function(t){if(t>=this[W]||t<0)throw new Error("Out of range.");t*=3;var e=this[K],r=e.transform0,n=e.transform1;return[r[t],n[t],r[t+1],n[t+1],r[t+2],n[t+2]]}},{key:"getTextureFrame",value:function(t){return this[J][this[K].frameIndex[t]]}},{key:"setTextureFrames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.length>12)throw new Error("Max frames exceed. Allow 12 frames.");if(t.length){var r=this[H];r.setTexture(t[0],e)}this[J]=t,this[Q]=e}},{key:"setFrameIndex",value:function(t,e){if(t>=this[W]||t<0)throw new Error("Out of range.");var r=this[J].length;if(r<=0)throw new Error("No frames");this[K].frameIndex[t]=e%r}},{key:"setProgram",value:function(t){this[H].setProgram(t)}},{key:"transform",value:function(t,e){var r=this.getTransform(t);return e=h.mat2d.multiply(Array.of(0,0,0,0,0,0),r,e),this.setTransform(t,e),this}},{key:"translate",value:function(t,e){var r=i()(e,2),n=r[0],a=r[1],o=h.mat2d.create();return o=h.mat2d.translate(Array.of(0,0,0,0,0,0),o,[n,a]),this.transform(t,o)}},{key:"rotate",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=i()(r,2),a=n[0],o=n[1],s=h.mat2d.create();return s=h.mat2d.translate(Array.of(0,0,0,0,0,0),s,[a,o]),s=h.mat2d.rotate(Array.of(0,0,0,0,0,0),s,e),s=h.mat2d.translate(Array.of(0,0,0,0,0,0),s,[-a,-o]),this.transform(t,s)}},{key:"scale",value:function(t,e){var r=i()(e,2),n=r[0],a=r[1],o=void 0===a?n:a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],u=i()(s,2),c=u[0],l=u[1],f=h.mat2d.create();return f=h.mat2d.translate(Array.of(0,0,0,0,0,0),f,[c,l]),f=h.mat2d.scale(Array.of(0,0,0,0,0,0),f,[n,o]),f=h.mat2d.translate(Array.of(0,0,0,0,0,0),f,[-c,-l]),this.transform(t,f)}},{key:"skew",value:function(t,e){var r=i()(e,2),n=r[0],a=r[1],o=void 0===a?n:a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],u=i()(s,2),c=u[0],l=u[1],f=h.mat2d.create();return f=h.mat2d.translate(Array.of(0,0,0,0,0,0),f,[c,l]),f=h.mat2d.multiply(Array.of(0,0,0,0,0,0),f,h.mat2d.fromValues(1,Math.tan(o),Math.tan(n),1,0,0)),f=h.mat2d.translate(Array.of(0,0,0,0,0,0),f,[-c,-l]),this.transform(t,f)}},{key:"isPointCollision",value:function(t,e){var r,n=i()(e,2),a=n[0],s=n[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both",c=this.getTransform(t),l=M([a,s],h.mat2d.invert(Array.of(0,0,0,0,0,0),c));return(r=this[H]).isPointCollision.apply(r,o()(l).concat([u]))}},{key:"isPointInFill",value:function(t,e){var r=i()(e,2),n=r[0],a=r[1];return this.isPointCollision(t,[n,a],"fill")}},{key:"isPointInStroke",value:function(t,e){var r=i()(e,2),n=r[0],a=r[1];return this.isPointCollision(t,[n,a],"stroke")}},{key:"bufferSize",get:function(){return this[K].bufferSize}},{key:"mesh",get:function(){return this[H]},set:function(t){this[H]=t,this[J]&&this.setTextureFrames(this[J],this[Q])}},{key:"hasCloudColor",get:function(){return this[Z]}},{key:"hasCloudFilter",get:function(){return this[$]}},{key:"enableBlend",get:function(){return this[H].enableBlend||this[Y]}},{key:"amount",get:function(){return this[W]},set:function(t){var e=this[W];t!==e&&(t>this[K].bufferSize&&(this[K]=tt(Math.max(t,this[K].bufferSize+1e3),this[K])),this[W]=t,t>e&&this.initBuffer(e))}},{key:"meshData",get:function(){var t=this[H].meshData,e=t.attributes,r=t.cells,n=t.positions,i=t.textureCoord,a=t.uniforms,o=this[J],s={attributes:z({},e),cells:r,positions:n,textureCoord:i,uniforms:z({},a),instanceCount:this[W],enableBlend:this.enableBlend};o.length&&o.forEach((function(t,e){s.uniforms["u_texFrame".concat(e)]=t}));var u=this[K],c=u.transform0,l=u.transform1,f=u.color0,h=u.color1,d=u.color2,p=u.color3,v=u.color4,y=u.fillColor,g=u.strokeColor,m=u.frameIndex;return this[H].uniforms.u_texSampler&&(s.attributes.a_frameIndex={data:m,divisor:1}),s.attributes.a_transform0={data:c,divisor:1},s.attributes.a_transform1={data:l,divisor:1},s.attributes.a_colorCloud0={data:f,divisor:1},s.attributes.a_colorCloud1={data:h,divisor:1},s.attributes.a_colorCloud2={data:d,divisor:1},s.attributes.a_colorCloud3={data:p,divisor:1},s.attributes.a_colorCloud4={data:v,divisor:1},this.hasCloudColor&&(s.attributes.a_fillCloudColor={data:y,divisor:1},s.attributes.a_strokeCloudColor={data:g,divisor:1}),s}},{key:"program",get:function(){return this[H].program}}]),t}();r(0).glMatrix.setMatrixArrayType(Array);var rt=p.a.mark(ot);function nt(t,e,r){var n=t.uniforms||{},i=e.uniforms||{};if(n.u_texSampler&&i.u_texSampler&&n.u_texSampler!==i.u_texSampler)return!1;var a=Object.keys(n),o=Object.keys(i),s=a.indexOf("u_texSampler"),u=o.indexOf("u_texSampler");if(s>=0&&a.splice(s,1),u>=0&&o.splice(u,1),a.length!==o.length)return!1;var c=a.every((function(t){var e=n[t],r=i[t];if(e===r)return!0;if(e.length&&r.length&&e.length===r.length){for(var a=0;a<e.length;a++)if(e[a]!==r[a])return!1;return!0}return!1}));if(c)if(n.u_texSampler&&!i.u_texSampler)e.setTexture(n.u_texSampler,{hidden:!0});else if(!n.u_texSampler&&i.u_texSampler)for(var l=0;l<r.length;l++)r[l].setTexture(i.u_texSampler,{hidden:!0});return c}var it={};function at(t,e){if(t.length){var r=R(t,it);return r.enableBlend=e,t[0].filterCanvas&&(r.filterCanvas=!0),r.packIndex=t[0].packIndex,r.packLength=t.length,r.beforeRender=t[0].beforeRender,r.pass=t[0].pass,r.afterRender=t[t.length-1].afterRender,t.length=0,r}}function ot(t,e){var r,n,i,a,o,s,u,c,l,f,h,d,v=arguments;return p.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:r=v.length>2&&void 0!==v[2]&&v[2],n=[],i=t.options.bufferSize,a=0,o=!1,s=0;case 6:if(!(s<e.length)){p.next=50;break}if(!((u=e[s])instanceof et)){p.next=18;break}if(!n.length){p.next=12;break}return p.next=12,at(n,o);case 12:return a=0,o=!1,p.next=16,u;case 16:p.next=47;break;case 18:if((c=u.meshData).clipPath&&!c.uniforms.u_clipSampler&&(l=t.createTexture(c.clipPath),c.uniforms.u_clipSampler=l),f=0,r&&u.canIgnore()||!c||!c.positions.length){p.next=43;break}if(u.packIndex=s,h=u.filterCanvas,f=c.positions.length,!(h||a+f>i)){p.next=33;break}if(!n.length){p.next=29;break}return p.next=29,at(n,o);case 29:a=0,o=!1,p.next=40;break;case 33:if(!a){p.next=40;break}if(!(d=n[n.length-1])||!(d.filterCanvas||d.afterRender||u.beforeRender||d.pass.length||u.pass.length||d.program!==u.program)&&nt(d,u,n)){p.next=40;break}return p.next=38,at(n,o);case 38:a=0,o=!1;case 40:n.push(u),o=o||u.enableBlend,a+=f;case 43:if(s!==e.length-1){p.next=47;break}if(!n.length){p.next=47;break}return p.next=47,at(n,o);case 47:s++,p.next=6;break;case 50:case"end":return p.stop()}}),rt)}var st=r(157),ut=r.n(st),ct=r(105),lt=r.n(ct),ft=r(67),ht=r.n(ft),dt=r(106),pt=r.n(dt);r(0).glMatrix.setMatrixArrayType(Array);var vt=2*Math.PI;function yt(t,e,r,n){var i=t*r+e*n;return i>1&&(i=1),i<-1&&(i=-1),(t*n-e*r<0?-1:1)*Math.acos(i)}function gt(t,e){var r=4/3*Math.tan(e/4),n=Math.cos(t),i=Math.sin(t),a=Math.cos(t+e),o=Math.sin(t+e);return[n,i,n-i*r,i+n*r,a+o*r,o-a*r,a,o]}function mt(t,e,r,n,i,a,o,s,u){var c=Math.sin(u*vt/360),l=Math.cos(u*vt/360),f=l*(t-r)/2+c*(e-n)/2,h=-c*(t-r)/2+l*(e-n)/2;if(0===f&&0===h)return[];if(0===o||0===s)return[];o=Math.abs(o),s=Math.abs(s);var d=f*f/(o*o)+h*h/(s*s);d>1&&(o*=Math.sqrt(d),s*=Math.sqrt(d));var p=function(t,e,r,n,i,a,o,s,u,c){var l=c*(t-r)/2+u*(e-n)/2,f=-u*(t-r)/2+c*(e-n)/2,h=o*o,d=s*s,p=l*l,v=f*f,y=h*d-h*v-d*p;y<0&&(y=0),y/=h*v+d*p;var g=(y=Math.sqrt(y)*(i===a?-1:1))*o/s*f,m=y*-s/o*l,x=c*g-u*m+(t+r)/2,b=u*g+c*m+(e+n)/2,M=(l-g)/o,A=(f-m)/s,w=(-l-g)/o,T=(-f-m)/s,k=yt(1,0,M,A),S=yt(M,A,w,T);return 0===a&&S>0&&(S-=vt),1===a&&S<0&&(S+=vt),[x,b,k,S]}(t,e,r,n,i,a,o,s,c,l),v=[],y=p[2],g=p[3],m=Math.max(Math.ceil(Math.abs(g)/(vt/4)),1);g/=m;for(var x=0;x<m;x++)v.push(gt(y,g)),y+=g;return v.map((function(t){for(var e=0;e<t.length;e+=2){var r=t[e+0],n=t[e+1],i=l*(r*=o)-c*(n*=s),a=c*r+l*n;t[e+0]=i+p[0],t[e+1]=a+p[1]}return t}))}function xt(t){for(var e,r=[],n=0,a=0,o=0,s=0,u=null,c=null,l=0,f=0,h=0,d=t.length;h<d;h++){var p=t[h],v=p[0];switch(v){case"M":o=p[1],s=p[2];break;case"A":var y=mt(l,f,p[6],p[7],p[4],p[5],p[1],p[2],p[3]);if(!y.length)continue;y=y.map((function(t){var e=i()(t,8);e[0],e[1];return{x1:e[2],y1:e[3],x2:e[4],y2:e[5],x:e[6],y:e[7]}}));for(var g,m=0;m<y.length;m++)p=["C",(g=y[m]).x1,g.y1,g.x2,g.y2,g.x,g.y],m<y.length-1&&r.push(p);break;case"S":var x=l,b=f;"C"!=e&&"S"!=e||(x+=x-n,b+=b-a),p=["C",x,b,p[1],p[2],p[3],p[4]];break;case"T":"Q"==e||"T"==e?(u=2*l-u,c=2*f-c):(u=l,c=f),p=Mt(l,f,u,c,p[1],p[2]);break;case"Q":u=p[1],c=p[2],p=Mt(l,f,p[1],p[2],p[3],p[4]);break;case"L":p=bt(l,f,p[1],p[2]);break;case"H":p=bt(l,f,p[1],f);break;case"V":p=bt(l,f,l,p[1]);break;case"Z":p=bt(l,f,o,s)}e=v,l=p[p.length-2],f=p[p.length-1],p.length>4?(n=p[p.length-4],a=p[p.length-3]):(n=l,a=f),r.push(p)}return r}function bt(t,e,r,n){return["C",t,e,r,n,r,n]}function Mt(t,e,r,n,i,a){return["C",t/3+2/3*r,e/3+2/3*n,i/3+2/3*r,a/3+2/3*n,i,a]}r(0).glMatrix.setMatrixArrayType(Array);var At=r(74),wt=r.n(At);function Tt(t,e){var r=i()(t,3),n=r[0],a=r[1],o=r[2],s=void 0===o?0:o,u=i()(e,3),c=u[0],l=u[1],f=u[2],h=void 0===f?0:f;return Math.hypot(c-n,l-a,h-s)}function kt(t){if(null!=t.totalLength)return t.totalLength;var e=0;return t.forEach((function(t){for(var r=t[0],n=1;n<t.length;n++){var i=t[n];e+=Tt(r,i),r=i}})),t.totalLength=e,e}function St(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e=Number(e),!Number.isFinite(e))throw new TypeError("Failed to execute 'getPointAtLength' on figure: The provided float value is non-finite.");if(e<=0)throw new TypeError("Length must > 0");var n=kt(t);if(e>=n){var i=t[t.length-1],a=i[i.length-2],s=i[i.length-1],u=Math.atan2(s[1]-a[1],s[0]-a[0]);return{current:t.map((function(t){return o()(t)})),point:{x:s[0],y:s[1],angle:u}}}for(var c=[],l=0;l<t.length;l++){c[l]=[];for(var f=t[l],h=f[0],d=1;d<f.length;d++){var p=f[d],v=Tt(h,p);if(e<v){var y=e/v,g=Math.atan2(p[1]-h[1],p[0]-h[0]),m={x:h[0]*(1-y)+p[0]*y,y:h[1]*(1-y)+p[1]*y,angle:g};if(c[l].push(h),e>0&&c[l].push([m.x,m.y]),!r)return{current:c,point:m};for(var x=[],b=l;l<t.length;l++){for(x[l-b]=[],l===b&&x[0].push([m.x,m.y]);d<f.length;d++)x[l-b].push(f[d]);d=0}return{current:c,point:m,rest:x}}e-=v,c[l].push(h),h=p}}}function _t(t,e){if(e=Number(e),!Number.isFinite(e))throw new TypeError("Failed to execute 'getPointAtLength' on figure: The provided float value is non-finite.");if(t.length<=0)return{x:0,y:0,angle:0};if(e<=0){var r=t[0][0],n=t[0][1],i=Math.atan2(n[1]-r[1],n[0]-r[0]);return{x:r[0],y:r[1],angle:i}}return St(t,e,!1).point}r(0).glMatrix.setMatrixArrayType(Array),r(0).glMatrix.setMatrixArrayType(Array),r(0).glMatrix.setMatrixArrayType(Array);var Rt=2*Math.PI;function Et(t,e,r,n,i){(i%=Rt)<0&&(i+=Rt);var a=Math.tan(i);if(Math.abs(a)<1e5){var o=e-a*t,s=1/Math.pow(r,2)+Math.pow(a,2)/Math.pow(n,2),u=-1;(i<=Math.PI/2||i>3*Math.PI/2)&&(u=1);var c=u*Math.sqrt(1/s)+t;return[c,a*c+o]}return i<Math.PI?[t,e+n]:[t,e-n]}r(0).glMatrix.setMatrixArrayType(Array);var Ct=Symbol("contours"),Ot=Symbol("path"),Lt=Symbol("simplify"),Dt=Symbol("scale"),Pt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u()(this,t),"string"==typeof e&&(e={path:e}),e.path?this[Ot]=lt()(e.path):this[Ot]=[],this[Ct]=null,this[Lt]=null!=e.simplify?e.simplify:.05,this[Dt]=null!=e.scale?e.scale:2}return l()(t,[{key:"normalize",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=xt(pt()(this[Ot])).map((function(t){for(var n=ut()(t),i=n[0],a=n.slice(1),o=[i],s=0;s<a.length;s+=2){var u=a[s]-e,c=a[s+1]-r;o.push(u,c)}return o}));return this.beginPath(),(t=this[Ot]).push.apply(t,o()(n)),this}},{key:"getPointAtLength",value:function(t){return this.contours?_t(this[Ct],t):null}},{key:"getTotalLength",value:function(){return this.contours?kt(this[Ct]):0}},{key:"addPath",value:function(t){var e;this[Ct]=null,"string"==typeof t&&(t=lt()(t)),(e=this[Ot]).push.apply(e,o()(t))}},{key:"beginPath",value:function(){this[Ot]=[],this[Ct]=null}},{key:"clear",value:function(){this.beginPath()}},{key:"ellipse",value:function(t,e,r,n,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(a+=i,o+=i,!(r<=0||n<=0||o===a)){var u=2*Math.PI;o<a&&(o=a+u+(o-a)%u),o-a>u&&(o=a+u);var c=o-a,l=this[Ot].length>0&&c<u?"L":"M",f=s?-1:1,h=Et(t,e,r,n,a),d=Et(t,e,r,n,o),p=Number(!s),v=c>Math.PI?1:0;s&&(v=1-v),c>=u&&(d[1]-=.01*f),l+=h.join(" "),l+="A".concat(r," ").concat(n," 0 ").concat(v," ").concat(p," ").concat(d.join(" ")),c>=u&&(l+="Z"),this.addPath(l)}}},{key:"arc",value:function(t,e,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return this.ellipse(t,e,r,r,0,n,i,a)}},{key:"arcTo",value:function(t,e,r,n,i,a,o){this[Ct]=null,this[Ot].push(["A",t,e,r,n,i,a,o])}},{key:"moveTo",value:function(t,e){this[Ct]=null,this[Ot].push(["M",t,e])}},{key:"lineTo",value:function(t,e){this[Ct]=null,this[Ot].push(["L",t,e])}},{key:"bezierCurveTo",value:function(t,e,r,n,i,a){this[Ct]=null,this[Ot].push(["C",t,e,r,n,i,a])}},{key:"quadraticCurveTo",value:function(t,e,r,n){this[Ct]=null,this[Ot].push(["Q",t,e,r,n])}},{key:"rect",value:function(t,e,r,n){var i="M".concat(t," ").concat(e,"L").concat(t+r," ").concat(e,"L").concat(t+r," ").concat(e+n,"L").concat(t," ").concat(e+n,"Z");this.addPath(i)}},{key:"closePath",value:function(){this[Ct]=null;var t=[],e=this[Ot].length;e>0&&(t=this[Ot][e-1]),"Z"!==t[0]&&"z"!==t[0]&&this[Ot].push(["Z"])}},{key:"contours",get:function(){var t=null;if(!this[Ct]&&this[Ot]){var e=xt(pt()(this[Ot]));this[Ct]=wt()(e,this[Dt],this[Lt]),this[Ct].path=e,this[Ct].simplify=this[Lt],this[Ct].scale=this[Dt]}return this[Ct]&&((t=this[Ct].map((function(t){return o()(t)}))).path=this[Ct].path,t.simplify=this[Ct].simplify,t.scale=this[Ct].scale),t}},{key:"path",get:function(){return this[Ot]}},{key:"simplify",get:function(){return this[Lt]}},{key:"boundingBox",get:function(){var t=this.contours;if(t&&t.length){var e=t.reduce((function(t,e){return[].concat(o()(t),o()(e))}));return ht()(e)}return[[0,0],[0,0]]}},{key:"boundingCenter",get:function(){var t=this.boundingBox;return t?[.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])]:[0,0]}}]),t}(),jt=r(53),It=r.n(jt),qt=r(107),Ft=r.n(qt),Nt=r(11);r(0).glMatrix.setMatrixArrayType(Array);var Ut=Nt.create(),Bt=Nt.create(),Vt=Nt.create(),Gt=Nt.create(),zt=Nt.create(),Ht=Nt.create(),Wt=r(177),Yt=Wt.computeMiter,Xt=Wt.normal,Jt=Wt.direction;function Qt(t){if(!(this instanceof Qt))return new Qt(t);t=t||{},this.miterLimit=Ft()(t.miterLimit,10),this.thickness=Ft()(t.thickness,1),this.join=t.join||"miter",this.cap=t.cap||"butt",this.roundSegments=t.roundSegments||20,this._normal=null,this._lastFlip=-1,this._started=!1}function Zt(t,e,r,n){var i=t.positions;Nt.scaleAndAdd(Ut,e,r,-n),i.push(Nt.clone(Ut)),Nt.scaleAndAdd(Ut,e,r,n),i.push(Nt.clone(Ut))}function $t(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,o=t.positions,s=Nt.create();o.push(Nt.clone(e));for(var u=0;u<=a;u++){var c=i*Math.PI*u/a;Nt.rotate(s,r,[0,0],c),Nt.scaleAndAdd(Ut,e,s,-n),o.push(Nt.clone(Ut))}}Qt.prototype.mapThickness=function(t,e,r){return this.thickness},Qt.prototype.build=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={positions:[],cells:[]};if((t=o()(t)).length<=1)return r;var n=null;if(e){var a=t,s=i()(a,2),u=s[0],c=s[1],l=[c[0]-u[0],c[1]-u[1]];n=Nt.scaleAndAdd(Nt.create(),u,l,1e-7),t.unshift(o()(t[t.length-2]))}var f=t.length;this._lastFlip=-1,this._started=!1,this._normal=null;for(var h=1,d=0;h<f;h++){var p=t[h-1],v=t[h],y=h<t.length-1?t[h+1]:null,g=h<t.length-2?t[h+2]:null,m=this.mapThickness(v,h,t);this._seg(r,d,p,v,y,g,m/2,e,n),d=r.positions.length-2}return e&&(r.positions=r.positions.slice(2),r.cells=r.cells.slice(2).map((function(t){var e=i()(t,3);return[e[0]-2,e[1]-2,e[2]-2]}))),r},Qt.prototype._seg=function(t,e,r,n,i,a,o,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:this.cap,l=t.cells,f=t.positions,h="square"===c,d="round"===c,p="roundStart"===c,v="roundEnd"===c,y="bevel"===this.join,g="round"===this.join;if(Jt(Vt,n,r),this._normal||(this._normal=Nt.create(),Xt(this._normal,Vt)),!this._started){if(this._started=!0,h&&(Nt.scaleAndAdd(Bt,r,Vt,-o),r=Bt),d||p){$t(t,r,this._normal,o,-1,this.roundSegments);for(var m=1;m<=this.roundSegments;m++)l.push([e,e+m,e+m+1]);e+=this.roundSegments+2}Zt(t,r,this._normal,o)}if(l.push([e+0,e+1,e+2]),s||i){Jt(Gt,i||u,n);var x=Yt(zt,Ht,Vt,Gt,o);x=Math.min(x,1e20);var b=Nt.dot(zt,this._normal)<0?-1:1,M=y||g;if(!M&&"miter"===this.join){var A=x/o;A>this.miterLimit&&(x=this.miterLimit*o,M=!0)}var w=1/0;if(i&&!a&&(w=Math.hypot(i[0]-n[0],i[1]-n[1])),M){if(Nt.scaleAndAdd(Ut,n,this._normal,-o*b),f.push(Nt.clone(Ut)),f.push(Nt.clone(n)),l.push(this._lastFlip!==-b?[e,e+2,e+3]:[e+2,e+1,e+3]),w<x?f.push(Nt.clone(i)):(Nt.scaleAndAdd(Ut,n,Ht,x*b),f.push(Nt.clone(Ut))),g||l.push(this._lastFlip!==-b?[e,e+3,e+4]:[e+3,e+1,e+4]),i){Xt(Ut,Gt),Nt.copy(this._normal,Ut),Nt.scaleAndAdd(Ut,n,Ut,-o*b);var T=Nt.clone(Ut);if(g){for(var k=f.pop(),S=f[e+3],_=Nt.sub(Nt.create(),f[e+2],S),R=Nt.sub(Nt.create(),T,S),E=Math.PI/this.roundSegments,C=0;C<this.roundSegments;C++){if(Nt.rotate(_,_,[0,0],b*E),C>0&&Math.sign(Nt.cross(Ut,_,R)[2])!==b){Nt.add(Ut,R,S),f.push(Nt.clone(Ut)),0===C?l.push([e+3,e+2,e+5]):l.push([e+3,e+5+C-1,e+5+C]);break}Nt.add(Ut,_,S),f.push(Nt.clone(Ut)),0===C?l.push([e+3,e+2,e+5]):l.push([e+3,e+5+C-1,e+5+C])}l.push(this._lastFlip!==-b?[e,e+3,f.length]:[e+3,e+1,f.length]),f.push(k)}else l.push([e+2,e+3,e+5]);f.push(T)}i&&g||l.push([e+3,e+4,e+5])}else-1===b&&w<x?f.push(Nt.clone(i)):(Nt.scaleAndAdd(Ut,n,Ht,-x),f.push(Nt.clone(Ut))),1===b&&w<x?f.push(Nt.clone(i)):(Nt.scaleAndAdd(Ut,n,Ht,x),f.push(Nt.clone(Ut))),l.push(1===this._lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3]),b=-1,Nt.copy(this._normal,Ht);this._lastFlip=b}else if(Xt(this._normal,Vt),h&&(Nt.scaleAndAdd(Bt,n,Vt,o),n=Bt),Zt(t,n,this._normal,o),l.push(1===this._lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3]),d||v){var O=t.positions.length;$t(t,n,this._normal,o,1,this.roundSegments);for(var L=1;L<=this.roundSegments;L++)l.push([O,O+L,O+L+1]);e+=this.roundSegments+2}};var Kt=Qt;function te(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}r(0).glMatrix.setMatrixArrayType(Array);var ee=r(158),re=r.n(ee);r(0).glMatrix.setMatrixArrayType(Array);var ne=Symbol("mesh"),ie=Symbol("contours"),ae=Symbol("stroke"),oe=Symbol("fill"),se=Symbol("strokeColor"),ue=Symbol("fillColor"),ce=Symbol("transform"),le=Symbol("uniforms"),fe=Symbol("texOptions"),he=Symbol("blend"),de=Symbol("applyTexture"),pe=Symbol("applyTransform"),ve=Symbol("applyGradientTransform"),ye=Symbol("applyProgram"),ge=Symbol("gradient"),me=Symbol("filter"),xe=Symbol("opacity"),be=Symbol("program"),Me=Symbol("attributes"),Ae=Symbol("pass"),we=Symbol("clipContext"),Te=Symbol("applyClipPath");function ke(t,e){for(var r=t[1][0]-t[0][0],n=t[1][1]-t[0][1],i=[],a=0;a<e.length;a++){var o=e[a],s=[(o[0]-t[0][0])/r,1-(o[1]-t[0][1])/n];i.push(s)}return i}var Se=function(){function t(e){u()(this,t),this[ae]=null,this[oe]=null,this[ce]=[1,0,0,1,0,0],this[xe]=1,this[le]={},this[me]=[],this[he]=null,this[fe]={},this.contours=e.contours,this[be]=null,this[Me]={},this[Ae]=[]}return l()(t,[{key:"setProgram",value:function(t){this[be]=t,this[ne]&&this[ye](t)}},{key:"setAttribute",value:function(t,e){null==e?delete this[Me][t]:this[Me][t]=e}},{key:"getOpacity",value:function(){return this[xe]}},{key:"setOpacity",value:function(t){if(t<0||t>1)throw new TypeError("Invalid opacity value.");this[ne]&&this[ne].positions.forEach((function(e){e[2]=1/e[2]>0?t:-t})),this[xe]=t}},{key:"setClipPath",value:function(t){this.clipPath=t,this[le].u_clipSampler&&this[le].u_clipSampler.delete(),this.setUniforms({u_clipSampler:null}),this[ne]&&delete this[ne].attributes.a_clipUV,t&&this[ne]&&this[Te]()}},{key:Te,value:function(){if(this.clipPath){this[we]||(this[we]=g.a.createCanvas(1,1));var t=i()(this.boundingBox,2),e=i()(t[0],2),r=e[0],n=e[1],a=i()(t[1],2),o=a[0],s=a[1];o&&s&&(this[we].width=o-r,this[we].height=s-n);var u=this[we].getContext("2d"),c=new Path2D(this.clipPath);u.clearRect(0,0,this[we].width,this[we].height),u.save(),u.translate(-r,-n),u.fillStyle="white",u.fill(c),u.restore(),this[ne].clipPath=this[we];var l=ke(this.boundingBox,this[ne].position0);this[ne].attributes.a_clipUV=l}}},{key:"getPointAtLength",value:function(t){return _t(this[ie],t)}},{key:"getTotalLength",value:function(){return kt(this[ie])}},{key:ye,value:function(t){for(var e=this[Me],r=this[ne].position0,n=Object.entries(t._attribute),a=0;a<n.length;a++){var o=i()(n[a],2),s=o[0],u=o[1];if("a_color"!==s&&"a_sourceRect"!==s&&"ignored"!==u){var c=e[s];if("uv"!==s||c){this[ne].attributes[s]=[];for(var l=0;l<r.length;l++){var f=r[l];this[ne].attributes[s].push(c?c(f,a,r):Array(u.size).fill(0))}}else{var h=this[ne].boundingBox||ht()(r);this[ne].attributes[s]=ke(h,r)}}}}},{key:pe,value:function(t,e){for(var r=t.positions,n=t.position0,a=0;a<r.length;a++){var o=i()(n[a],2),s=o[0],u=o[1],c=r[a];c[0]=s*e[0]+u*e[2]+e[4],c[1]=s*e[1]+u*e[3]+e[5]}this._updateMatrix=!1}},{key:ve,value:function(){var t=this[ce],e=o()(this._radialGradientVector);if(e){var r=i()(e,5),n=r[0],a=r[1],s=r[3],u=r[4];e[0]=n*t[0]+a*t[2]+t[4],e[1]=n*t[1]+a*t[3]+t[5],e[3]=s*t[0]+u*t[2]+t[4],e[4]=s*t[1]+u*t[3]+t[5],this[le].u_radialGradientVector=e}}},{key:de,value:function(t,e){var r=this[le].u_texSampler;if(r){var n,a,o=r._img,s=o.width,u=o.height,c=e.srcRect,l=e.rect||[0,0];if(e.rotated&&(l=[-l[1],l[0],l[3],l[2]]),null==l[2]&&(l[2]=c?c[2]:s),null==l[3]&&(l[3]=c?c[3]:u),e.hidden)t.textureCoord=t.positions.map((function(){return[-1,-1,-1]}));else if(!(t.textureCoord&&(n=this[fe].rect,a=e.rect,null==n&&null==a||null!=n&&null!=a&&n[0]===a[0]&&n[1]===a[1]&&n[2]===a[2]&&n[3]===a[3])&&this[fe].hidden===e.hidden&&this[fe].rotated===e.rotated)){var f=null;e.rotated&&(f=h.mat2d.rotate(Array.of(0,0,0,0,0,0),h.mat2d.fromValues(1,0,0,1,0,0),.5*Math.PI),f=h.mat2d.translate(Array.of(0,0,0,0,0,0),f,[0,-l[2]])),t.textureCoord=t.position0.map((function(t){var r=i()(t,3),n=r[0],a=r[1];if(1/r[2]>0){if(e.rotated){var o=n*f[0]+a*f[2]+f[4],s=n*f[1]+a*f[3]+f[5];n=o,a=s}var u=function(t,e,r){var n=i()(t,2),a=n[0],o=n[1],s=i()(e,4),u=s[0],c=s[1],l=s[2],f=s[3];return r.scale||(a/=l,o=1-o/f,a-=u,o+=c),[a,o,0]}([n,a],[l[0]/l[2],l[1]/l[3],l[2],l[3]],e);return e.repeat&&(u[2]=1),u}return[-1,-1,-1]}))}if(c){var d=[c[0]/s,c[1]/u,c[2]/s,c[3]/u];t.attributes.a_sourceRect=t.positions.map((function(){return[].concat(d)}))}else t.attributes.a_sourceRect=t.positions.map((function(){return[0,0,0,0]}))}}},{key:"accurate",value:function(t){if(this.contours&&this.contours.path){var e=this.contours.simplify,r=function(t,e,r){var n=wt()(t,e,r);return n.path=t,n.simplify=r,n.scale=e,n}(this.contours.path,2*t,e);this[ne]=null,this[ie]=r}}},{key:"canIgnore",value:function(){var t=null==this[ae]||0===this[ae].thickness||0===this[se][3],e=null==this[oe]||0===this[ue][3],r=null==this[le].u_radialGradientVector,n=null==this[le].u_texSampler;return 0===this[xe]||null==this[be]&&t&&e&&r&&n&&!this.beforeRender&&!this.afterRender}},{key:"setStroke",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.thickness,r=void 0===e?1:e,n=t.cap,i=void 0===n?"butt":n,a=t.join,o=void 0===a?"miter":a,s=t.miterLimit,u=void 0===s?10:s,c=t.color,l=void 0===c?[0,0,0,0]:c,f=t.lineDash,h=void 0===f?null:f,d=t.lineDashOffset,p=void 0===d?0:d,v=t.roundSegments,y=void 0===v?20:v;return this[ne]=null,this[ae]=Kt({thickness:r,cap:i,join:o,miterLimit:u,roundSegments:y}),"string"==typeof l&&(l=V(l)),this[se]=l,this[ae].lineDash=h,this[ae].lineDashOffset=p,this}},{key:"setFill",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.rule,r=void 0===e?"nonzero":e,n=t.color,i=void 0===n?[0,0,0,0]:n;return this[ne]=null,this[oe]={rule:r},"string"==typeof i&&(i=V(i)),this[ue]=i,this}},{key:"setTexture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&t.image){var r=t,n=r.image,i=r.rect;if(t=n,e.rect)for(var a=0;a<e.rect.length;a++)i[a]=e.rect[a];e.rect=i}return this[oe]||this.setFill(),this.setUniforms({u_texSampler:t}),this[ne]&&this[de](this[ne],e),this[fe]=e,this}},{key:"setCircularGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vector,r=t.colors,n=t.type,i=void 0===n?"fill":n;if(3!==e.length)throw new TypeError("Invalid linearGradient.");this.setGradient({vector:e,colors:r,type:i})}},{key:"setLinearGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vector,r=t.colors,n=t.type,i=void 0===n?"fill":n;if(4!==e.length)throw new TypeError("Invalid linearGradient.");this.setGradient({vector:e,colors:r,type:i})}},{key:"setRadialGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vector,r=t.colors,n=t.type,i=void 0===n?"fill":n;if(6!==e.length)throw new TypeError("Invalid radialGradient.");this.setGradient({vector:e,colors:r,type:i})}},{key:"setGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vector,r=t.colors,n=t.type,i=void 0===n?"fill":n;r=r.map((function(t){var e=t.offset,r=t.color;return"string"==typeof r&&(r=V(r)),{offset:e,color:r}})),this[ge]=this[ge]||{},this[ge][i]={vector:e,colors:r},r.sort((function(t,e){return t.offset-e.offset}));var a,s=[];if(r.forEach((function(t){var e=t.offset,r=t.color;s.push.apply(s,[e].concat(o()(r)))})),a=4===e.length?[e[0],e[1],0,e[2],e[3],0]:o()(e),s.length<40&&s.push(-1),s.length>40)throw new Error("Too many colors, should be less than 8 colors");return this._radialGradientVector=a,this[le].u_colorSteps=s,this[le].u_gradientType="fill"===i?1:0,this[ve](),this}},{key:"setUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this[le],t),this}},{key:"setTransform",value:function(){for(var t=this[ce],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return h.mat2d.equals(r,t)||(this[ce]=r,this._updateMatrix=!0),this}},{key:"transform",value:function(){for(var t=this[ce],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this[ce]=h.mat2d.multiply(Array.of(0,0,0,0,0,0),t,r),this._updateMatrix=!0,this}},{key:"translate",value:function(t,e){var r=h.mat2d.create();return r=h.mat2d.translate(Array.of(0,0,0,0,0,0),r,[t,e]),this.transform.apply(this,o()(r))}},{key:"rotate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],r=i()(e,2),n=r[0],a=r[1],s=h.mat2d.create();return s=h.mat2d.translate(Array.of(0,0,0,0,0,0),s,[n,a]),s=h.mat2d.rotate(Array.of(0,0,0,0,0,0),s,t),s=h.mat2d.translate(Array.of(0,0,0,0,0,0),s,[-n,-a]),this.transform.apply(this,o()(s))}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=i()(r,2),a=n[0],s=n[1],u=h.mat2d.create();return u=h.mat2d.translate(Array.of(0,0,0,0,0,0),u,[a,s]),u=h.mat2d.scale(Array.of(0,0,0,0,0,0),u,[t,e]),u=h.mat2d.translate(Array.of(0,0,0,0,0,0),u,[-a,-s]),this.transform.apply(this,o()(u))}},{key:"skew",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=i()(r,2),a=n[0],s=n[1],u=h.mat2d.create();return u=h.mat2d.translate(Array.of(0,0,0,0,0,0),u,[a,s]),u=h.mat2d.multiply(Array.of(0,0,0,0,0,0),u,h.mat2d.fromValues(1,Math.tan(e),Math.tan(t),1,0,0)),u=h.mat2d.translate(Array.of(0,0,0,0,0,0),u,[-a,-s]),this.transform.apply(this,o()(u))}},{key:"clearFilter",value:function(){return this.setColorTransform(null),this[me].length=0,this}},{key:"setColorTransform",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return null===e[0]?this.setUniforms({u_filterFlag:0,u_colorMatrix:0}):this.setUniforms({u_filterFlag:1,u_colorMatrix:e}),this}},{key:"transformColor",value:function(){for(var t=this.uniforms.u_colorMatrix,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t=t?O(t,r):r,this.setColorTransform.apply(this,o()(t)),this}},{key:"blur",value:function(t){return this[me].push("blur(".concat(t,"px)")),this}},{key:"brightness",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[me].push("brightness(".concat(100*t,"%)")),this.transformColor.apply(this,o()(D(t)))}},{key:"contrast",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[me].push("contrast(".concat(100*t,"%)")),this.transformColor.apply(this,o()(j(t)))}},{key:"dropShadow",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0,0,1];return Array.isArray(n)&&(n=Object(m.a)(n)),this[me].push("drop-shadow(".concat(t,"px ").concat(e,"px ").concat(r,"px ").concat(n,")")),this}},{key:"grayscale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[me].push("grayscale(".concat(100*t,"%)")),this.transformColor.apply(this,o()(L(t)))}},{key:"hueRotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this[me].push("hue-rotate(".concat(t,"deg)")),this.transformColor.apply(this,o()(N(t)))}},{key:"invert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[me].push("invert(".concat(100*t,"%)")),this.transformColor.apply(this,o()(I(t)))}},{key:"opacity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[me].push("opacity(".concat(100*t,"%)")),this.transformColor.apply(this,o()(F(t)))}},{key:"saturate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[me].push("saturate(".concat(100*t,"%)")),this.transformColor.apply(this,o()(P(t)))}},{key:"sepia",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[me].push("sepia(".concat(100*t,"%)")),this.transformColor.apply(this,o()(q(t)))}},{key:"url",value:function(t){return this[me].push("url(".concat(t,")")),this}},{key:"isPointCollision",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both",n=this.meshData,a=n.positions,o=n.cells;function s(t,e,r){var n=i()(t,2),a=n[0],o=n[1],s=i()(e,2),u=s[0],c=s[1],l=i()(r,2),f=l[0]-u,h=l[1]-c,d=((a-u)*f+(o-c)*h)/(Math.pow(f,2)+Math.pow(h,2));return d>=0&&d<=1}for(var u=0;u<o.length;u++){var c=o[u];if("fill"===r&&c[0]>=n.fillPointCount)break;if(!("stroke"===r&&c[0]<n.fillPointCount)){var l=c.map((function(t){return a[t]})),f=i()(l,3),h=i()(f[0],2),d=h[0],p=h[1],v=i()(f[1],2),y=v[0],g=v[1],m=i()(f[2],2),x=m[0],b=m[1],M=Math.sign((t-d)*(g-p)-(y-d)*(e-p));if(0===M&&s([t,e],[d,p],[y,g]))return!0;var A=Math.sign((t-y)*(b-g)-(x-y)*(e-g));if(0===A&&s([t,e],[y,g],[x,b]))return!0;var w=Math.sign((t-x)*(p-b)-(d-x)*(e-b));if(0===w&&s([t,e],[x,b],[d,p]))return!0;if(1===M&&1===A&&1===w||-1===M&&-1===A&&-1===w)return!0}}return!1}},{key:"isPointInFill",value:function(t,e){return this.isPointCollision(t,e,"fill")}},{key:"isPointInStroke",value:function(t,e){return this.isPointCollision(t,e,"stroke")}},{key:"addPass",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,i=r.height,a=It()(r,["width","height"]),o=new Pt;o.rect(0,0,n,i);var s=new t(o,{width:n,height:i});s.setUniforms(a),s.setProgram(e),this[Ae].push(s)}},{key:"contours",get:function(){return this[ie]},set:function(t){this[ne]=null,this[ie]=t;var e=t.scale;this.transformScale/e>1.5&&this.accurate(this.transformScale)}},{key:"program",get:function(){return this[be]}},{key:"blend",get:function(){return null==this[he]?"auto":this[he]},set:function(t){this[he]=t,this[ne]&&(this[ne].enableBlend=this.enableBlend)}},{key:"boundingBox",get:function(){if(this[ne]&&this[ne].boundingBox)return this[ne].boundingBox;var t=this.meshData;if(t){var e=t.position0;return e.length?(t.boundingBox=ht()(e),t.boundingBox):[[0,0],[0,0]]}return[[0,0],[0,0]]}},{key:"boundingCenter",get:function(){var t=this.boundingBox;return t?[.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])]:[0,0]}},{key:"fillRule",get:function(){return this[oe]?this[oe].rule:"nonzero"}},{key:"lineWidth",get:function(){return this[ae]?this[ae].thickness:0}},{key:"lineCap",get:function(){return this[ae]?this[ae].cap:""}},{key:"lineJoin",get:function(){return this[ae]?this[ae].join:""}},{key:"miterLimit",get:function(){return this[ae]?this[ae].miterLimit:0}},{key:"strokeStyle",get:function(){return this[se]&&0!==this[se][3]?Object(m.a)(this[se]):""}},{key:"lineDash",get:function(){return this[ae]?this[ae].lineDash:null}},{key:"lineDashOffset",get:function(){return this[ae]?this[ae].lineDashOffset:0}},{key:"fillStyle",get:function(){return this[ue]&&0!==this[ue][3]?Object(m.a)(this[ue]):""}},{key:"gradient",get:function(){return this[ge]}},{key:"texture",get:function(){return this[le].u_texSampler?{image:this[le].u_texSampler._img,options:this[fe]}:null}},{key:"enableBlend",get:function(){return!0===this[he]||!1===this[he]?this[he]:this[xe]<1||null!=this[se]&&this[se][3]<1||null!=this[ue]&&this[ue][3]<1||null!=this[le].u_colorMatrix&&this[le].u_colorMatrix[18]<1||null!=this[le].u_radialGradientVector||this.beforeRender||this.afterRender}},{key:"filterCanvas",get:function(){return/blur|drop-shadow|url/.test(this.filter)}},{key:"filter",get:function(){return this[me].join(" ")}},{key:"transformMatrix",get:function(){return this[ce]}},{key:"transformScale",get:function(){var t=this[ce];return Math.max(Math.hypot(t[0],t[1]),Math.hypot(t[2],t[3]))}},{key:"uniforms",get:function(){return this[le]}},{key:"pass",get:function(){return this[Ae]}},{key:"meshData",get:function(){var t=this;this._updateMatrix&&(this.transformScale/this.contours.scale>1.5&&this.accurate(this.transformScale));if(!this[ne]){this[oe]||this[ae]||this.setFill();var e=this[ie],r={};if(e&&e.length){if(this[oe])try{var n=re()(e,this[oe]);n.positions=n.positions.map((function(e){return e.push(t[xe]),e})),n.attributes={a_color:Array.from({length:n.positions.length}).map((function(){return t[ue].map((function(t){return Math.round(255*t)}))}))},r.fill=n}catch(t){}if(this[ae]){var a=this[ae].lineDash,s=e;if(a)s=function(t,e,r){var n=0,i=e[0],a=t,s=[],u=e.length;if(r>0){do{r-=e[n%u],n++}while(r>0);r<0&&(i=-r,n--)}else if(r<0){n=-1;do{r+=e[n%u+u],n--}while(r<0);r>0&&(i=e[++n%u+u]-r)}do{var c=St(a,i);a=c.rest,++n%2&&s.push.apply(s,o()(c.current));var l=n%u;l<0&&(l+=u),i=e[l]}while(a);return s}(e,a,this[ae].lineDashOffset);var u=s.map((function(e,r){var n=e.length>1&&h.vec2.equals(e[0],e[e.length-1]);return t[ae].build(e,n)}));u.forEach((function(e){e.positions=e.positions.map((function(e){return e.push(-t[xe]),e})),e.attributes={a_color:Array.from({length:e.positions.length}).map((function(){return t[se].map((function(t){return Math.round(255*t)}))}))}})),r.stroke=R(u)}}var c=R([r.fill,r.stroke]);c.fillPointCount=r.fill?r.fill.positions.length:0,c.enableBlend=this.enableBlend,c.position0=c.positions.map((function(t){var e=i()(t,3);return[e[0],e[1],e[2]]})),c.uniforms=this[le],this[ne]=c,this[le].u_texSampler&&this[de](c,this[fe]);var l=this[ce];te(l)||(this[pe](c,l),this[le].u_radialGradientVector&&this[ve]()),this.clipPath&&this[Te](),this[be]&&this[ye](this[be])}return this._updateMatrix&&(this[ne].matrix=this[ce],this[pe](this[ne],this[ce]),this[le].u_radialGradientVector&&this[ve]()),this[ne]}}]),t}();r(0).glMatrix.setMatrixArrayType(Array);var _e=Symbol("shaders");function Re(t){t[_e]=[];for(var e=0;e<16;e++){var r=[],n=!!(1&e),i=!!(2&e),a=!!(4&e),o=!!(8&e);n&&r.push("#define TEXTURE 1"),i&&r.push("#define FILTER 1"),a&&r.push("#define GRADIENT 1"),o&&r.push("#define CLIPPATH 1");var s="".concat(r.join("\n"),"\n"),u=[];n&&u.push("uniform sampler2D u_texSampler;"),o&&u.push("uniform sampler2D u_clipSampler;"),t[_e][e]=[s+u.join("\n")+"precision mediump float;\n\nvarying vec4 vColor;\nvarying float flagBackground;\n\n#ifdef TEXTURE\nvarying vec3 vTextureCoord;\nvarying vec4 vSourceRect;\n#endif\n\n#ifdef CLIPPATH\nvarying vec2 vClipUV;\n#endif\n\n#ifdef FILTER\nuniform int u_filterFlag;\nuniform float u_colorMatrix[20];\n#endif\n\n#ifdef GRADIENT\nvarying vec3 vGradientVector1;\nvarying vec3 vGradientVector2;\nuniform float u_colorSteps[40];\nuniform int u_gradientType;\n// uniform float u_radialGradientVector[6];\n\nvoid gradient(inout vec4 color, vec3 gv1, vec3 gv2, float colorSteps[40]) {\n  float t;\n  // center circle radius\n  float cr = gv1.z;\n  // focal circle radius\n  float fr = gv2.z;\n\n  if(cr > 0.0 || fr > 0.0) {\n    // radial gradient\n    vec2 center = gv1.xy;\n    vec2 focal = gv2.xy;\n    float x = focal.x - gl_FragCoord.x;\n    float y = focal.y - gl_FragCoord.y;\n    float dx = focal.x - center.x;\n    float dy = focal.y - center.y;\n    float dr = cr - fr;\n    float a = dx * dx + dy * dy - dr * dr;\n    float b = -2.0 * (y * dy + x * dx + fr * dr);\n    float c = x * x + y * y - fr * fr;\n    t = 1.0 - 0.5 * (1.0 / a) * (-b + sqrt(b * b - 4.0 * a * c));\n  } else {\n    // linear gradient\n    vec2 v1 = gl_FragCoord.xy - gv1.xy;\n    vec2 v2 = gv2.xy - gv1.xy;\n    t = (v1.x * v2.x + v1.y * v2.y) / (v2.x * v2.x + v2.y * v2.y);\n  }\n\n  vec4 colors[8];\n  colors[0] = vec4(colorSteps[1], colorSteps[2], colorSteps[3], colorSteps[4]);\n  colors[1] = vec4(colorSteps[6], colorSteps[7], colorSteps[8], colorSteps[9]);\n  colors[2] = vec4(colorSteps[11], colorSteps[12], colorSteps[13], colorSteps[14]);\n  colors[3] = vec4(colorSteps[16], colorSteps[17], colorSteps[18], colorSteps[19]);\n  colors[4] = vec4(colorSteps[21], colorSteps[22], colorSteps[23], colorSteps[24]);\n  colors[5] = vec4(colorSteps[26], colorSteps[27], colorSteps[28], colorSteps[29]);\n  colors[6] = vec4(colorSteps[31], colorSteps[32], colorSteps[33], colorSteps[34]);\n  colors[7] = vec4(colorSteps[36], colorSteps[37], colorSteps[38], colorSteps[39]);\n  \n  float steps[8];\n  steps[0] = colorSteps[0];\n  steps[1] = colorSteps[5];\n  steps[2] = colorSteps[10];\n  steps[3] = colorSteps[15];\n  steps[4] = colorSteps[20];\n  steps[5] = colorSteps[25];\n  steps[6] = colorSteps[30];\n  steps[7] = colorSteps[35];\n\n  color = colors[0];\n  for (int i = 1; i < 8; i++) {\n    if (steps[i] < 0.0 || steps[i] > 1.0) {\n      break;\n    }\n    if(steps[i] == steps[i - 1]) {\n      color = colors[i];\n    } else {\n      color = mix(color, colors[i], clamp((t - steps[i - 1]) / (steps[i] - steps[i - 1]), 0.0, 1.0));\n    }\n    if (steps[i] >= t) {\n      break;\n    }\n  }\n}\n#endif\n\n#ifdef FILTER\nvoid transformColor(inout vec4 color, in float colorMatrix[20]) {\n  float r = color.r, g = color.g, b = color.b, a = color.a;\n  color[0] = colorMatrix[0] * r + colorMatrix[1] * g + colorMatrix[2] * b + colorMatrix[3] * a + colorMatrix[4];\n  color[1] = colorMatrix[5] * r + colorMatrix[6] * g + colorMatrix[7] * b + colorMatrix[8] * a + colorMatrix[9];\n  color[2] = colorMatrix[10] * r + colorMatrix[11] * g + colorMatrix[12] * b + colorMatrix[13] * a + colorMatrix[14];\n  color[3] = colorMatrix[15] * r + colorMatrix[16] * g + colorMatrix[17] * b + colorMatrix[18] * a + colorMatrix[19];\n}\n#endif\n\nvoid main() {\n  vec4 color = vColor;\n  float opacity = abs(flagBackground);\n\n#ifdef GRADIENT\n  if(u_gradientType > 0 && flagBackground > 0.0 || u_gradientType == 0 && flagBackground <= 0.0) {\n    gradient(color, vGradientVector1, vGradientVector2, u_colorSteps);\n  }\n#endif\n\n  if(opacity < 1.0) {\n    color.a *= opacity;\n  }\n\n#ifdef TEXTURE\n  if(flagBackground > 0.0) {\n    vec3 texCoord = vTextureCoord;\n\n    if(texCoord.z == 1.0) {\n      texCoord = fract(texCoord);\n    }\n\n    if(texCoord.x <= 1.0 && texCoord.x >= 0.0\n      && texCoord.y <= 1.0 && texCoord.y >= 0.0) {\n      if(vSourceRect.z > 0.0) {\n        texCoord.x = vSourceRect.x + texCoord.x * vSourceRect.z;\n        texCoord.y = 1.0 - (vSourceRect.y + (1.0 - texCoord.y) * vSourceRect.w);\n      }\n      vec4 texColor = texture2D(u_texSampler, texCoord.xy);\n      float alpha = texColor.a;\n      if(opacity < 1.0) {\n        texColor.a *= opacity;\n        alpha *= mix(0.465, 1.0, opacity);\n      }\n      // color = mix(color, texColor, texColor.a);\n      color.rgb = mix(color.rgb, texColor.rgb, alpha);\n      // color.rgb = mix(texColor.rgb, color.rgb, color.a);\n      color.rgb = mix(texColor.rgb, color.rgb, clamp(color.a / max(0.0001, texColor.a), 0.0, 1.0));\n      color.a = texColor.a + (1.0 - texColor.a) * color.a;\n    }\n  }\n#endif\n\n#ifdef FILTER\n  if(u_filterFlag > 0) {\n    transformColor(color, u_colorMatrix);\n  }\n#endif\n\n#ifdef CLIPPATH\n  float clip = texture2D(u_clipSampler, vClipUV).r;\n  color *= clip;\n#endif\n\n  gl_FragColor = color;\n}",s+"attribute vec3 a_vertexPosition;\nattribute vec4 a_color;\nvarying vec4 vColor;\nvarying float flagBackground;\nuniform vec2 u_resolution;\nuniform mat3 viewMatrix;\nuniform mat3 projectionMatrix;\n\n#ifdef TEXTURE\nattribute vec3 a_vertexTextureCoord;\nvarying vec3 vTextureCoord;\nattribute vec4 a_sourceRect;\nvarying vec4 vSourceRect;\n#endif\n\n#ifdef CLIPPATH\nattribute vec2 a_clipUV;\nvarying vec2 vClipUV;\n#endif\n\n#ifdef GRADIENT\nuniform float u_radialGradientVector[6];\nvarying vec3 vGradientVector1;\nvarying vec3 vGradientVector2;\n#endif\n\nvoid main() {\n  gl_PointSize = 1.0;\n\n  vec3 pos = projectionMatrix * viewMatrix * vec3(a_vertexPosition.xy, 1.0);\n  gl_Position = vec4(pos.xy, 1.0, 1.0);\n\n#ifdef GRADIENT\n  vec3 vg1 = viewMatrix * vec3(u_radialGradientVector[0], u_radialGradientVector[1], 1.0);\n  vec3 vg2 = viewMatrix * vec3(u_radialGradientVector[3], u_radialGradientVector[4], 1.0);\n  float h = u_resolution.y;\n  vg1.y = h - vg1.y;\n  vg2.y = h - vg2.y;\n  vGradientVector1 = vec3(vg1.xy, u_radialGradientVector[2]);\n  vGradientVector2 = vec3(vg2.xy, u_radialGradientVector[5]);\n#endif\n  \n  flagBackground = a_vertexPosition.z;\n  vColor = a_color;\n\n#ifdef TEXTURE\n  vTextureCoord = a_vertexTextureCoord;\n  vSourceRect = a_sourceRect;\n#endif\n\n#ifdef CLIPPATH\n  vClipUV = a_clipUV;\n#endif\n}"]}}function Ee(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.hasTexture,n=void 0!==r&&r,i=e.hasFilter,a=void 0!==i&&i,s=e.hasGradient,u=void 0!==s&&s,c=e.hasClipPath,l=void 0!==c&&c,f=n|a<<1|u<<2|l<<3,h=t[_e][f];Array.isArray(h)&&(h=t.createProgram.apply(t,o()(h)),t[_e][f]=h),t.program!==h&&t.useProgram(h,{a_color:{type:"UNSIGNED_BYTE",normalize:!0}})}var Ce=[];function Oe(t){for(var e=0;e<64;e++){var r=[],n=!!(1&e),i=!!(2&e),a=!!(4&e),o=!!(8&e),s=!!(16&e),u=!!(32&e);n&&r.push("#define TEXTURE 1"),i&&r.push("#define FILTER 1"),a&&r.push("#define GRADIENT 1"),o&&r.push("#define CLOUDCOLOR 1"),s&&r.push("#define CLOUDFILTER 1"),u&&r.push("#define CLIPPATH 1");var c="".concat(r.join("\n"),"\n"),l=[];if(n){l.push("uniform sampler2D u_texSampler;");for(var f=0;f<12;f++)l.push("uniform sampler2D u_texFrame".concat(f,";"))}u&&l.push("uniform sampler2D u_clipSampler;"),Ce[e]=[c+l.join("\n")+"precision mediump float;\n\nvarying vec4 vColor;\nvarying float flagBackground;\n\n#ifdef TEXTURE\nvarying float frameIndex;\nvarying vec3 vTextureCoord;\nvarying vec4 vSourceRect;\n#endif\n\n#ifdef CLIPPATH\nvarying vec2 vClipUV;\n#endif\n\n#ifdef FILTER\nuniform int u_filterFlag;\nuniform float u_colorMatrix[20];\n#endif\n\n#ifdef CLOUDFILTER\nvarying vec4 colorCloud0;\nvarying vec4 colorCloud1;\nvarying vec4 colorCloud2;\nvarying vec4 colorCloud3;\nvarying vec4 colorCloud4;\n#endif\n\n#ifdef GRADIENT\nvarying vec3 vGradientVector1;\nvarying vec3 vGradientVector2;\nuniform float u_colorSteps[40];\nuniform int u_gradientType;\n\nvoid gradient(inout vec4 color, vec3 gv1, vec3 gv2, float colorSteps[40]) {\n  float t;\n  // center circle radius\n  float cr = gv1.z;\n  // focal circle radius\n  float fr = gv2.z;\n\n  if(cr > 0.0 || fr > 0.0) {\n    // radial gradient\n    vec2 center = gv1.xy;\n    vec2 focal = gv2.xy;\n    float x = focal.x - gl_FragCoord.x;\n    float y = focal.y - gl_FragCoord.y;\n    float dx = focal.x - center.x;\n    float dy = focal.y - center.y;\n    float dr = cr - fr;\n    float a = dx * dx + dy * dy - dr * dr;\n    float b = -2.0 * (y * dy + x * dx + fr * dr);\n    float c = x * x + y * y - fr * fr;\n    t = 1.0 - 0.5 * (1.0 / a) * (-b + sqrt(b * b - 4.0 * a * c));\n  } else {\n    // linear gradient\n    vec2 v1 = gl_FragCoord.xy - gv1.xy;\n    vec2 v2 = gv2.xy - gv1.xy;\n    t = (v1.x * v2.x + v1.y * v2.y) / (v2.x * v2.x + v2.y * v2.y);\n  }\n\n  vec4 colors[8];\n  colors[0] = vec4(colorSteps[1], colorSteps[2], colorSteps[3], colorSteps[4]);\n  colors[1] = vec4(colorSteps[6], colorSteps[7], colorSteps[8], colorSteps[9]);\n  colors[2] = vec4(colorSteps[11], colorSteps[12], colorSteps[13], colorSteps[14]);\n  colors[3] = vec4(colorSteps[16], colorSteps[17], colorSteps[18], colorSteps[19]);\n  colors[4] = vec4(colorSteps[21], colorSteps[22], colorSteps[23], colorSteps[24]);\n  colors[5] = vec4(colorSteps[26], colorSteps[27], colorSteps[28], colorSteps[29]);\n  colors[6] = vec4(colorSteps[31], colorSteps[32], colorSteps[33], colorSteps[34]);\n  colors[7] = vec4(colorSteps[36], colorSteps[37], colorSteps[38], colorSteps[39]);\n  \n  float steps[8];\n  steps[0] = colorSteps[0];\n  steps[1] = colorSteps[5];\n  steps[2] = colorSteps[10];\n  steps[3] = colorSteps[15];\n  steps[4] = colorSteps[20];\n  steps[5] = colorSteps[25];\n  steps[6] = colorSteps[30];\n  steps[7] = colorSteps[35];\n\n  color = colors[0];\n  for (int i = 1; i < 8; i++) {\n    if (steps[i] < 0.0 || steps[i] > 1.0) {\n      break;\n    }\n    if(steps[i] == steps[i - 1]) {\n      color = colors[i];\n    } else {\n      color = mix(color, colors[i], clamp((t - steps[i - 1]) / (steps[i] - steps[i - 1]), 0.0, 1.0));\n    }\n    if (steps[i] >= t) {\n      break;\n    }\n  }\n}\n#endif\n\nvoid transformColor(inout vec4 color, in float colorMatrix[20]) {\n  float r = color.r, g = color.g, b = color.b, a = color.a;\n  color[0] = colorMatrix[0] * r + colorMatrix[1] * g + colorMatrix[2] * b + colorMatrix[3] * a + colorMatrix[4];\n  color[1] = colorMatrix[5] * r + colorMatrix[6] * g + colorMatrix[7] * b + colorMatrix[8] * a + colorMatrix[9];\n  color[2] = colorMatrix[10] * r + colorMatrix[11] * g + colorMatrix[12] * b + colorMatrix[13] * a + colorMatrix[14];\n  color[3] = colorMatrix[15] * r + colorMatrix[16] * g + colorMatrix[17] * b + colorMatrix[18] * a + colorMatrix[19];\n}\n\n#ifdef CLOUDFILTER\nvoid buildCloudColor(inout float colorCloudMatrix[20]) {\n  colorCloudMatrix[0] = colorCloud0[0];\n  colorCloudMatrix[1] = colorCloud1[0];\n  colorCloudMatrix[2] = colorCloud2[0];\n  colorCloudMatrix[3] = colorCloud3[0];\n  colorCloudMatrix[4] = colorCloud4[0];\n\n  colorCloudMatrix[5] = colorCloud0[1];\n  colorCloudMatrix[6] = colorCloud1[1];\n  colorCloudMatrix[7] = colorCloud2[1];\n  colorCloudMatrix[8] = colorCloud3[1];\n  colorCloudMatrix[9] = colorCloud4[1];\n\n  colorCloudMatrix[10] = colorCloud0[2];\n  colorCloudMatrix[11] = colorCloud1[2];\n  colorCloudMatrix[12] = colorCloud2[2];\n  colorCloudMatrix[13] = colorCloud3[2];\n  colorCloudMatrix[14] = colorCloud4[2];\n\n  colorCloudMatrix[15] = colorCloud0[3];\n  colorCloudMatrix[16] = colorCloud1[3];\n  colorCloudMatrix[17] = colorCloud2[3];\n  colorCloudMatrix[18] = colorCloud3[3];\n  colorCloudMatrix[19] = colorCloud4[3];\n}\n#endif\n\nvoid main() {\n  vec4 color = vColor;\n  float opacity = abs(flagBackground);\n\n#ifdef GRADIENT\n  if(u_gradientType > 0 && flagBackground > 0.0 || u_gradientType == 0 && flagBackground <= 0.0) {\n    gradient(color, vGradientVector1, vGradientVector2, u_colorSteps);\n  }\n#endif\n\n  if(opacity < 1.0) {\n    color.a *= opacity;\n  }\n\n#ifdef TEXTURE\n  if(flagBackground > 0.0) {\n    vec3 texCoord = vTextureCoord;\n\n    if(texCoord.z == 1.0) {\n      texCoord = fract(texCoord);\n    }\n\n    if(texCoord.x <= 1.0 && texCoord.x >= 0.0\n      && texCoord.y <= 1.0 && texCoord.y >= 0.0) {\n      if(vSourceRect.z > 0.0) {\n        texCoord.x = vSourceRect.x + texCoord.x * vSourceRect.z;\n        texCoord.y = 1.0 - (vSourceRect.y + (1.0 - texCoord.y) * vSourceRect.w);\n      }\n      if(frameIndex < 0.0) {\n        vec4 texColor = texture2D(u_texSampler, texCoord.xy);\n        color = mix(color, texColor, texColor.a);\n      } else {\n        int index = int(floor(clamp(0.0, 11.0, frameIndex)));\n        vec4 texColor;\n        if(index == 0) texColor = texture2D(u_texFrame0, texCoord.xy);\n        else if(index == 1) texColor = texture2D(u_texFrame1, texCoord.xy);\n        else if(index == 2) texColor = texture2D(u_texFrame2, texCoord.xy);\n        else if(index == 3) texColor = texture2D(u_texFrame3, texCoord.xy);\n        else if(index == 4) texColor = texture2D(u_texFrame4, texCoord.xy);\n        else if(index == 5) texColor = texture2D(u_texFrame5, texCoord.xy);\n        else if(index == 6) texColor = texture2D(u_texFrame6, texCoord.xy);\n        else if(index == 7) texColor = texture2D(u_texFrame7, texCoord.xy);\n        else if(index == 8) texColor = texture2D(u_texFrame8, texCoord.xy);\n        else if(index == 9) texColor = texture2D(u_texFrame9, texCoord.xy);\n        else if(index == 10) texColor = texture2D(u_texFrame10, texCoord.xy);\n        else texColor = texture2D(u_texFrame11, texCoord.xy);\n        float alpha = texColor.a;\n        if(opacity < 1.0) {\n          texColor.a *= opacity;\n          alpha *= mix(0.465, 1.0, opacity);\n        }\n        // color = mix(color, texColor, texColor.a);\n        color.rgb = mix(color.rgb, texColor.rgb, alpha);\n        // color.rgb = mix(texColor.rgb, color.rgb, color.a);\n        color.rgb = mix(texColor.rgb, color.rgb, clamp(color.a / max(0.0001, texColor.a), 0.0, 1.0));\n        color.a = texColor.a + (1.0 - texColor.a) * color.a;\n      }\n    }\n  }\n#endif\n\n#ifdef FILTER\n  if(u_filterFlag > 0) {\n    transformColor(color, u_colorMatrix);\n  }\n#endif\n\n#ifdef CLOUDFILTER\n  float colorCloudMatrix[20];\n  buildCloudColor(colorCloudMatrix);\n  transformColor(color, colorCloudMatrix);\n#endif\n\n#ifdef CLIPPATH\n  float clip = texture2D(u_clipSampler, vClipUV).r;\n  color *= clip;\n#endif\n\n  gl_FragColor = color;\n}",c+"attribute vec3 a_vertexPosition;\nattribute vec4 a_color;\nvarying vec4 vColor;\nvarying float flagBackground;\nattribute vec3 a_transform0;\nattribute vec3 a_transform1;\nuniform vec2 u_resolution;\nuniform mat3 viewMatrix;\nuniform mat3 projectionMatrix;\n\n#ifdef TEXTURE\nattribute vec3 a_vertexTextureCoord;\nvarying vec3 vTextureCoord;\nattribute float a_frameIndex;\nvarying float frameIndex;\nattribute vec4 a_sourceRect;\nvarying vec4 vSourceRect;\n#endif\n\n#ifdef CLIPPATH\nattribute vec2 a_clipUV;\nvarying vec2 vClipUV;\n#endif\n\n#ifdef CLOUDFILTER\nattribute vec4 a_colorCloud0;\nattribute vec4 a_colorCloud1;\nattribute vec4 a_colorCloud2;\nattribute vec4 a_colorCloud3;\nattribute vec4 a_colorCloud4;\nvarying vec4 colorCloud0;\nvarying vec4 colorCloud1;\nvarying vec4 colorCloud2;\nvarying vec4 colorCloud3;\nvarying vec4 colorCloud4;\n#endif\n\n#ifdef CLOUDCOLOR\nattribute vec4 a_fillCloudColor;\nattribute vec4 a_strokeCloudColor;\n#endif\n\n#ifdef GRADIENT\nuniform float u_radialGradientVector[6];\nvarying vec3 vGradientVector1;\nvarying vec3 vGradientVector2;\n#endif\n\nvoid main() {\n  gl_PointSize = 1.0;\n\n  mat3 modelMatrix = mat3(\n    a_transform0.x, a_transform1.x, 0, \n    a_transform0.y, a_transform1.y, 0,\n    a_transform0.z, a_transform1.z, 1\n  );\n\n  vec3 pos = projectionMatrix * viewMatrix * modelMatrix * vec3(a_vertexPosition.xy, 1.0);\n  gl_Position = vec4(pos.xy, 1.0, 1.0);\n\n#ifdef GRADIENT\n  vec3 vg1 = viewMatrix * vec3(u_radialGradientVector[0], u_radialGradientVector[1], 1.0);\n  vec3 vg2 = viewMatrix * vec3(u_radialGradientVector[3], u_radialGradientVector[4], 1.0);\n  float h = u_resolution.y;\n  vg1.y = h - vg1.y;\n  vg2.y = h - vg2.y;\n  vGradientVector1 = vec3(vg1.xy, u_radialGradientVector[2]);\n  vGradientVector2 = vec3(vg2.xy, u_radialGradientVector[5]);\n#endif\n  \n  flagBackground = a_vertexPosition.z;\n\n#ifdef CLOUDCOLOR\n  if(flagBackground > 0.0) {\n    vColor = mix(a_color, a_fillCloudColor, a_fillCloudColor.a);\n  } else {\n    vColor = mix(a_color, a_strokeCloudColor, a_strokeCloudColor.a);\n  }\n#else\n  vColor = a_color;\n#endif\n\n#ifdef TEXTURE\n  vTextureCoord = a_vertexTextureCoord;\n  frameIndex = a_frameIndex;\n  vSourceRect = a_sourceRect;\n#endif\n\n#ifdef CLIPPATH\n  vClipUV = a_clipUV;\n#endif\n\n#ifdef CLOUDFILTER\n  colorCloud0 = a_colorCloud0;\n  colorCloud1 = a_colorCloud1;\n  colorCloud2 = a_colorCloud2;\n  colorCloud3 = a_colorCloud3;\n  colorCloud4 = a_colorCloud4;\n#endif\n}"]}}function Le(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.hasTexture,n=void 0!==r&&r,i=e.hasFilter,a=void 0!==i&&i,s=e.hasGradient,u=void 0!==s&&s,c=e.hasCloudColor,l=void 0!==c&&c,f=e.hasCloudFilter,h=void 0!==f&&f,d=e.hasClipPath,p=void 0!==d&&d,v=n|a<<1|u<<2|l<<3|h<<4|p<<5,y=Ce[v];Array.isArray(y)&&(y=t.createProgram.apply(t,o()(y)),Ce[v]=y),t.program!==y&&t.useProgram(y,{a_color:{type:"UNSIGNED_BYTE",normalize:!0},a_fillCloudColor:{type:"UNSIGNED_BYTE",normalize:!0},a_strokeCloudColor:{type:"UNSIGNED_BYTE",normalize:!0},a_frameIndex:{type:"UNSIGNED_BYTE",normalize:!1}})}function De(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return Pe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pe(t,e)}(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function Pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r(0).glMatrix.setMatrixArrayType(Array);var je={autoUpdate:!1,preserveDrawingBuffer:!1,bufferSize:1500},Ie="attribute vec3 a_vertexPosition;\nattribute vec3 a_vertexTextureCoord;\nvarying vec3 vTextureCoord;\nuniform mat3 viewMatrix;\nuniform mat3 projectionMatrix;\n\nvoid main() {\n  gl_PointSize = 1.0;\n  vec3 pos = projectionMatrix * viewMatrix * vec3(a_vertexPosition.xy, 1.0);\n  gl_Position = vec4(pos.xy, 1.0, 1.0);    \n  vTextureCoord = a_vertexTextureCoord;              \n}\n",qe="precision mediump float;\nvarying vec3 vTextureCoord;\nuniform sampler2D u_texSampler;\nvoid main() {\n  gl_FragColor = texture2D(u_texSampler, vTextureCoord.xy);\n}\n",Fe=Symbol("glRenderer"),Ne=Symbol("canvasRenderer"),Ue=Symbol("options"),Be=Symbol("globalTransform"),Ve=Symbol("applyGlobalTransform"),Ge=Symbol("canvas");function ze(t){var e=t.gl,r=t.fbo;r&&e.bindFramebuffer(e.FRAMEBUFFER,r),t._draw(),r&&e.bindFramebuffer(e.FRAMEBUFFER,null)}function He(t,e,r,n){var i=t.createTexture(e.canvas),a=[[[0,0],[r,0],[r,n],[0,n],[0,0]]];a.closed=!0;var o=new Se({contours:a});o.setTexture(i),t.setMeshData([o.meshData]),ze(t),i.delete(),e.clearRect(0,0,r,n),delete e._filter}var We=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u()(this,t);var n=r.contextType;if(n||(n="function"==typeof WebGL2RenderingContext?"webgl2":"function"==typeof WebGLRenderingContext?"webgl":"2d"),!e.getContext){var i=e;e={getContext:function(){return i},width:r.width,height:r.height},i.canvas=e,n="2d"}if(this[Ge]=e,"webgl"!==n&&"webgl2"!==n&&"2d"!==n)throw new Error("Unknown context type ".concat(n));if(r.contextType=n,this[Ue]=Object.assign({},je,r),"webgl"===n||"webgl2"===n){"webgl2"===n&&(this[Ue].webgl2=!0);var a=new f.a(e,this[Ue]);"webgl2"!==n||a.isWebGL2||(r.contextType="webgl"),Re(a),Ee(a),Oe();var o=a.gl;o.clearColor(0,0,0,0),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),this[Fe]=a}else this[Ne]=new S(e,this[Ue]);this[Be]=[1,0,0,0,1,0,0,0,1],this.updateResolution()}return l()(t,[{key:Ve,value:function(){var t=this[Fe]||this[Ne];if(this[Fe]){var e=this.canvas,r=e.width,n=e.height;t.uniforms.viewMatrix=this.viewMatrix,t.uniforms.projectionMatrix=this.projectionMatrix,t.uniforms.u_resolution=[r,n]}}},{key:"updateResolution",value:function(){var t=this.canvas,e=t.width,r=t.height,n=[1,0,0,0,1,0,-e/2,-r/2,1],i=[2/e,0,0,0,-2/r,0,0,0,1],a=h.mat3.multiply(Array.of(0,0,0,0,0,0,0,0,0),i,n);this.projectionMatrix=a,this[Fe]&&this[Fe].gl.viewport(0,0,e,r)}},{key:"createTexture",value:function(t,e){return(this[Fe]||this[Ne]).createTexture(t,e)}},{key:"loadTexture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useImageBitmap,n=void 0!==r&&r,i=this[Fe]||this[Ne];return i.loadTexture(t,{useImageBitmap:n})}},{key:"createText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.font,n=void 0===r?"16px arial":r,i=e.fillColor,a=void 0===i?null:i,o=e.strokeColor,s=void 0===o?null:o,u=e.strokeWidth,c=void 0===u?1:u;if(this[Fe]){var l=g.a.createText(t,{font:n,fillColor:a,strokeColor:s,strokeWidth:c});return{image:this.createTexture(l.image),rect:l.rect}}return{_img:{font:n,fillColor:a,strokeColor:s,strokeWidth:c,text:t}}}},{key:"createProgram",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vertex,r=t.fragment,n=t.options;if(this[Fe]){var i=this[Fe].compileSync(r,e);return i._attribOpts=n,i}throw new Error("Context 2D cannot create webgl program.")}},{key:"createPassProgram",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vertex,r=void 0===e?Ie:e,n=t.fragment,i=void 0===n?qe:n,a=t.options;return this.createProgram({vertex:r,fragment:i,options:a})}},{key:"useProgram",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this[Fe]){var r=Object.assign({},t._attribOpts,e);return this[Fe].useProgram(t,r)}throw new Error("Context 2D cannot use webgl program.")}},{key:"deleteTexture",value:function(t){return(this[Fe]||this[Ne]).deleteTexture(t)}},{key:"clear",value:function(){if(this[Fe]){var t=this[Fe].gl;t.clear(t.COLOR_BUFFER_BIT)}else{var e;(e=this[Ne]).clear.apply(e,arguments)}}},{key:"drawMeshCloud",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.clear,n=void 0!==r&&r,i=e.program,a=void 0===i?null:i,o=this[Fe]||this[Ne],s=a||t.program;if(this[Fe]){var u=o.gl;if(n&&u.clear(u.COLOR_BUFFER_BIT),s)o.program!==s&&this.useProgram(s,{a_color:{type:"UNSIGNED_BYTE",normalize:!0},a_fillCloudColor:{type:"UNSIGNED_BYTE",normalize:!0},a_strokeCloudColor:{type:"UNSIGNED_BYTE",normalize:!0},a_frameIndex:{type:"UNSIGNED_BYTE",normalize:!1}});else{var c=t.mesh.meshData,l=!!c.uniforms.u_texSampler,f=!!c.uniforms.u_filterFlag,h=!!c.uniforms.u_radialGradientVector,d=t.hasCloudColor,p=t.hasCloudFilter,v=!!c.uniforms.u_clipSampler;Le(o,{hasTexture:l,hasFilter:f,hasGradient:h,hasCloudColor:d,hasCloudFilter:p,hasClipPath:v})}this[Ve](),o.setMeshData([t.meshData]),t.beforeRender&&t.beforeRender(u,t),ze(o),t.afterRender&&t.afterRender(u,t)}else o.setTransform(this.globalTransformMatrix),o.drawMeshCloud(t,{clear:n,hook:!1})}},{key:"drawMeshes",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clear,i=void 0!==n&&n,a=r.program,o=void 0===a?null:a,s=this[Fe]||this[Ne];this[Fe]?function(){var r=s.fbo,n=ot(e,t,null==o),a=s.gl;i&&a.clear(a.COLOR_BUFFER_BIT);var u=!te(e.globalTransformMatrix);e._drawCalls=0;var c,l=De(n);try{var f=function(){var n=c.value;e._drawCalls++;var l=o||n.program;if(n instanceof et)e.drawMeshCloud(n,{clear:i,program:l});else{var f=e.canvas,h=f.width,d=f.height;if(n.beforeRender&&n.beforeRender(a,n),n.pass.length&&(e.fbo&&e.fbo.width===h&&e.fbo.height===d||(e.fbo={width:h,height:d,target:s.createFBO(),buffer:s.createFBO(),swap:function(){var t=[this.buffer,this.target];this.target=t[0],this.buffer=t[1]}}),s.bindFBO(e.fbo.target)),!l&&n.filterCanvas){Ee(s,{hasTexture:!0});var p=e.filterContext;if(!p)p=g.a.createCanvas(h,d).getContext("2d"),e.filterContext=p;var v=t[n.packIndex],y=v.filter,m=t[n.packIndex+1],x=t[n.packIndex-1];x&&x.filterCanvas&&x.filter===y||m&&m.filterCanvas&&m.filter===y?(u&&p.save(),T(v,p,!1),u&&p.restore(),m&&m.filterCanvas&&v.filter===m.filter||(A(p,y),e[Ve](),He(s,p,h,d))):(u?(p.save(),T(v,p,!1),p.restore(),A(p,y)):T(v,p,!0),e[Ve](),He(s,p,h,d))}else{if(l)s.program!==l&&e.useProgram(l,{a_color:{type:"UNSIGNED_BYTE",normalize:!0}});else{var b=!!n.uniforms.u_texSampler,M=!!n.uniforms.u_filterFlag,w=!!n.uniforms.u_radialGradientVector,k=!!n.uniforms.u_clipSampler;Ee(s,{hasTexture:b,hasFilter:M,hasGradient:w,hasClipPath:k})}n.filterCanvas&&console.warn("User program ignored some filter effects."),e[Ve](),s.setMeshData([n]),ze(s)}if(n.pass.length){var S=n.pass.length;n.pass.forEach((function(t,i){t.blend=n.enableBlend,t.setTexture(s.fbo.texture),i===S-1?s.bindFBO(r):(e.fbo.swap(),s.bindFBO(e.fbo.target)),t.program?s.useProgram(t.program):(e.defaultPassProgram=e.defaultPassProgram||e.createPassProgram(),s.useProgram(e.defaultPassProgram)),s.setMeshData([t.meshData]),a.clear(a.COLOR_BUFFER_BIT),ze(s)}))}n.afterRender&&n.afterRender(a,n)}};for(l.s();!(c=l.n()).done;)f()}catch(t){l.e(t)}finally{l.f()}}():(s.setTransform(this.globalTransformMatrix),s.drawMeshes(t,{clear:i}))}},{key:"drawImage",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=r.length;if(i<2)throw new TypeError("Failed to execute 'drawImage' on 'Renderer': 3 arguments required, but only ".concat(r.length+1," present."));if(2!==i&&4!==i&&8!==i)throw new TypeError("Failed to execute 'drawImage' on 'Renderer': Valid arities are: [3, 5, 9], but ".concat(r.length+1," arguments provided."));var a=null,o=null;2===i?a=[r[0],r[1],t.width,t.height]:4===i?a=r:8===i&&(o=r.slice(0,4),a=r.slice(4));var s=this.createTexture(t),u=this.canvas,c=u.width,l=u.height,f=new Pt;f.rect(a[0],a[1],c,l);var h=new Se(f,{width:c,height:l});h.setTexture(s,{rect:a,srcRect:o}),this.drawMeshes([h]),this.deleteTexture(s)}},{key:"setGlobalTransform",value:function(){return this[Be]=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0,arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0,arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5],1],this}},{key:"globalTransform",value:function(){for(var t=this[Be],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this[Be]=h.mat3.multiply(Array.of(0,0,0,0,0,0,0,0,0),t,r),this}},{key:"globalTranslate",value:function(t,e){var r=h.mat3.create();return r=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),r,[t,e]),this.globalTransform.apply(this,o()(r))}},{key:"globalRotate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],r=i()(e,2),n=r[0],a=r[1],s=h.mat3.create();return s=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),s,[n,a]),s=h.mat3.rotate(Array.of(0,0,0,0,0,0,0,0,0),s,t),s=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),s,[-n,-a]),this.globalTransform.apply(this,o()(s))}},{key:"globalScale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=i()(r,2),a=n[0],s=n[1],u=h.mat3.create();return u=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),u,[a,s]),u=h.mat3.scale(Array.of(0,0,0,0,0,0,0,0,0),u,[t,e]),u=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),u,[-a,-s]),this.globalTransform.apply(this,o()(u))}},{key:"globalSkew",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=i()(r,2),a=n[0],s=n[1],u=h.mat3.create();return u=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),u,[a,s]),u=h.mat3.multiply(Array.of(0,0,0,0,0,0,0,0,0),u,h.mat3.fromValues(1,Math.tan(e),Math.tan(t),1,0,0)),u=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),u,[-a,-s]),this.globalTransform.apply(this,o()(u))}},{key:"transformPoint",value:function(t,e,r){var n=this.globalTransformMatrix;return r&&(n=h.mat3.multiply(Array.of(0,0,0,0,0,0,0,0,0),n,r)),[t*n[0]+e*n[2]+n[4],t*n[1]+e*n[3]+n[5]]}},{key:"canvas",get:function(){return this[Ge]}},{key:"canvasRenderer",get:function(){return this[Ne]}},{key:"glRenderer",get:function(){return this[Fe]}},{key:"isWebGL2",get:function(){return this[Fe]&&this[Fe].isWebGL2}},{key:"options",get:function(){return this[Ue]}},{key:"globalTransformMatrix",get:function(){var t=this[Be];return[t[0],t[1],t[3],t[4],t[6],t[7]]}},{key:"viewMatrix",get:function(){return this[Be]}}]),t}();r(0).glMatrix.setMatrixArrayType(Array)},function(t,e,r){"use strict";r.d(e,"b",(function(){return A})),r.d(e,"c",(function(){return w})),r.d(e,"d",(function(){return k})),r.d(e,"e",(function(){return S})),r.d(e,"a",(function(){return _}));var n=r(2),i=r.n(n),a=r(30),o=r.n(a),s=r(8),u=r.n(s),c=r(7),l=r.n(c),f=r(1),h=r.n(f),d=r(104),p=r.n(d),v=r(5),y=r.n(v),g=r(6),m=r.n(g),x=r(37),b=r.n(x);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var A=function(){function t(e){var r=e.vector,n=e.colors;if(y()(this,t),!Array.isArray(r)||4!==r.length&&6!==r.length&&3!==r.length)throw new TypeError("Invalid gradient");this.vector=r,this.colors=n.map((function(t){return{offset:t.offset,color:w(t.color)}}))}return m()(t,[{key:"toString",value:function(){return JSON.stringify({vector:this.vector,colors:this.colors})}}]),t}();function w(t){if(null==t)return t;if(t||(t="transparent"),t instanceof A)return t;var e=b()(t);if(!e||!e.length)throw new TypeError("Invalid color value.");return"rgba(".concat(e.join(),")")}function T(t,e,r){var n=t.boundingBox[0];if(r.vector){var i=r.vector,a=r.colors;4===i.length?(i=[i[0]+n[0],i[1]+n[1],i[2]+n[0],i[3]+n[1]],t.setLinearGradient({vector:i,colors:a,type:e})):3===i.length?(i=[i[0]+n[0],i[1]+n[1],i[2]],t.setCircularGradient({vector:i,colors:a,type:e})):(i=[i[0]+n[0],i[1]+n[1],i[2],i[3]+n[0],i[4]+n[1],i[5]],t.setRadialGradient({vector:i,colors:a,type:e}))}else t.gradient&&t.gradient[e]&&(delete t.gradient[e],delete t.uniforms.u_radialGradientVector)}function k(t,e){var r=e.color,n=e.rule,i=void 0===n?"nonzero":n;return T(t,"fill",r),r.vector||t.setFill({color:r,rule:i}),t}function S(t,e){var r=e.color,n=e.lineWidth,i=e.lineCap,a=e.lineJoin,o=e.lineDash,s=e.lineDashOffset,u=e.miterLimit,c=e.roundSegments;T(t,"stroke",r),r.vector&&(r=[0,0,0,1]),t.setStroke({color:r,thickness:n,cap:i,join:a,miterLimit:u,lineDash:o,lineDashOffset:s,roundSegments:c})}var _=function(t){u()(r,t);var e=M(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(y()(this,r),Array.isArray(n)){var c=n,f=i()(c,4);n=f[0],a=f[1],s=f[2],u=f[3]}if("string"==typeof n){var h=b()(n),d=i()(h,4);n=d[0],a=d[1],s=d[2],u=d[3],n/=255,a/=255,s/=255}return t=e.call(this,n,a,s,u),l()(t,o()(t))}return m()(r,[{key:"fromColor",value:function(t){return"string"==typeof t&&((t=b()(t))[0]/=255,t[1]/=255,t[2]/=255),this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this}},{key:"r",get:function(){return Math.round(255*this[0])},set:function(t){this[0]=t/255}},{key:"g",get:function(){return Math.round(255*this[1])},set:function(t){this[1]=t/255}},{key:"b",get:function(){return Math.round(255*this[2])},set:function(t){this[2]=t/255}},{key:"a",get:function(){return this[3]},set:function(t){this[3]=t}},{key:"hex",get:function(){var t,e="0".concat(this.r.toString(16)).slice(-2),r="0".concat(this.g.toString(16)).slice(-2),n="0".concat(this.b.toString(16)).slice(-2);return this.a<1&&(t=Math.round(255*this[3]),t="0".concat(t.toString(16)).slice(-2)),"#".concat(e).concat(r).concat(n).concat(t||"")}},{key:"rgba",get:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")")}}]),r}(p()(Array))},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=r(163)},function(t,e,r){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}r(0).glMatrix.setMatrixArrayType(Array),t.exports=n},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(113),i=r(10);function a(t,e,r,o){return(a="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,a){var o,s=n(t,e);if(s){if((o=Object.getOwnPropertyDescriptor(s,e)).set)return o.set.call(a,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(a,e)){if(!o.writable)return!1;o.value=r,Object.defineProperty(a,e,o)}else i(a,e,r);return!0})(t,e,r,o)}t.exports=function(t,e,r,n,i){if(!a(t,e,r,n||t)&&i)throw new Error("failed to set property");return r}},function(t,e,r){"use strict";(function(t,n){r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return a}));var i,a,o=r(2),s=r.n(o);r(0).glMatrix.setMatrixArrayType(Array),void 0!==n&&"function"==typeof n.requestAnimationFrame?(i=n.requestAnimationFrame,a=n.cancelAnimationFrame):(i=function(e){return setTimeout((function(){e(function(){if("undefined"!=typeof performance&&performance.now)return performance.now();if(void 0!==t&&t.hrtime){var e=t.hrtime(),r=s()(e,2);return 1e3*r[0]+1e-6*r[1]}return Date.now?Date.now():(new Date).getTime()}())}),16)},a=function(t){return clearTimeout(t)})}).call(this,r(186),r(79))},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(91)("wks"),i=r(70),a=r(20).Symbol,o="function"==typeof a;(t.exports=function(t){return n[t]||(n[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=n},function(t,e,r){"use strict";r.d(e,"f",(function(){return h})),r.d(e,"a",(function(){return d})),r.d(e,"b",(function(){return y})),r.d(e,"c",(function(){return g})),r.d(e,"d",(function(){return x})),r.d(e,"e",(function(){return b}));var n=r(2),i=r.n(n),a=r(15),o=r.n(a),s=r(26),u=r.n(s),c=r(13),l=r(3);r(0).glMatrix.setMatrixArrayType(Array);var f={};function h(t,e){if(f[t])return f[t];var r=c.a.loadImage(t,{alias:e,useImageBitmap:!1});return null!=r?r:t}function d(t,e,r){return p.apply(this,arguments)}function p(){return(p=u()(o.a.mark((function t(e,r,n){var i,a,s,u,c,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r,"string"==typeof r&&(i=h(r)),!i||"function"!=typeof i.then){t.next=6;break}return t.next=5,i;case 5:i=t.sent;case 6:return r===e.attributes.texture&&(i&&i.image&&(i.sourceRect&&(e.attributes.sourceRect=i.sourceRect),e.textureImageRotated=!!i.rotated,i=i.image),a=e.attributes,s=a.width,u=a.height,c=a.textureRect,l=e.textureImage,e.textureImage=i,!n||l===i||c||null!=s&&null!=u||e.updateContours(),e.forceUpdate()),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var v=Symbol("textureMap");function y(t,e){if(e[v]=e[v]||new Map,e[v].has(t))return e[v].get(t);var r=e.createTexture(t);return/^blob:/.test(t.src)||e[v].set(t,r),r}function g(t,e){if(e[v]&&e[v].has(t)){var r=e[v].get(t);return e.deleteTexture(r),e[v].delete(t),!0}return!1}var m=Symbol("textureContext");function x(t,e){var r=t.textureImage instanceof String?String(t.textureImage):t.textureImage,n=t.textureImageRotated,i=e.texture;if(r){var a=t.originalContentRect,o=t.attributes.textureRect,s=t.attributes.textureRepeat,u=t.attributes.sourceRect,c=t.renderer;if(!i||t[m]&&t[m]!==c||i.image!==r||i.options.repeat!==s||!Object(l.a)(i.options.rect,o)||!Object(l.a)(i.options.srcRect,u)){var f=y(r,c);o?(o[0]+=a[0],o[1]+=a[1]):o=a;var h=null;i&&!c[v].has(i.image)&&(h=e.uniforms.u_texSampler),e.setTexture(f,{rect:o,repeat:s,srcRect:u,rotated:n}),h&&h.delete&&h.delete(),t[m]=c}}else i&&e.setTexture(null)}function b(t,e){return M.apply(this,arguments)}function M(){return(M=u()(o.a.mark((function t(e,r){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof r){t.next=7;break}return t.next=3,fetch(r,{method:"GET",mode:"cors",cache:"default"});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent;case 7:return t.next=9,h(e);case 9:return a=t.sent,s=r.frames,Object.entries(s).forEach((function(t){var e=i()(t,2),r=e[0],n=e[1],o=n.frame,s=[o.x,o.y,o.w,o.h],u=n.rotated;u&&(s=[s[0],s[1],s[3],s[2]]),f[r]={image:a,sourceRect:s,rotated:u}})),t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(20),i=r(17),a=r(40),o=r(41),s=r(46),u=function t(e,r,u){var c,l,f,h=e&t.F,d=e&t.G,p=e&t.S,v=e&t.P,y=e&t.B,g=e&t.W,m=d?i:i[r]||(i[r]={}),x=m.prototype,b=d?n:p?n[r]:(n[r]||{}).prototype;for(c in d&&(u=r),u)(l=!h&&b&&void 0!==b[c])&&s(m,c)||(f=l?b[c]:u[c],m[c]=d&&"function"!=typeof b[c]?u[c]:y&&l?a(f,n):g&&b[c]==f?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?a(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[c]=f,e&t.R&&x&&!x[c]&&o(x,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0}),e.Timeline=e.Effects=e.Easings=e.Animator=void 0;var n=s(r(114)),i=s(r(133)),a=r(101),o=s(r(234));function s(t){return t&&t.__esModule?t:{default:t}}e.Animator=o.default,e.Easings=a.Easings,e.Effects=i.default,e.Timeline=n.default},function(t,e,r){"use strict";r.d(e,"b",(function(){return d})),r.d(e,"a",(function(){return p}));var n=r(2),i=r.n(n),a=r(14),o=r(12);r(0).glMatrix.setMatrixArrayType(Array);var s=r(255);function u(t){return 1===t.nodeType||o.a.isSpriteNode(t.nodeName)}function c(t){return Array.from(t.childNodes||[])}function l(t){return o.a.isSpriteNode(t.nodeName)?t.parent||t.canvas||t.container:t.parentElement}var f={isTag:u,existsOne:function(t,e){return e.some((function(e){return!!u(e)&&(t(e)||f.existsOne(t,c(e)))}))},getSiblings:function(t){var e=l(t);return e&&c(e)},getChildren:c,getParent:l,getAttributeValue:function(t,e){if(1===t.nodeType&&"class"===e||"id"===e)return t[e];if(this.hasAttrib(t,e)){var r=t.attributes[e];return Array.isArray(r)&&(r="[".concat(r.join(),"]")),String(r)}},hasAttrib:function(t,e){return null!=t.attributes[e]},removeSubsets:function(t){for(var e,r,n,i=t.length;--i>-1;){for(e=r=t[i],t[i]=null,n=!0;r;){if(t.indexOf(r)>-1){n=!1,t.splice(i,1);break}r=l(r)}n&&(t[i]=e)}return t},getName:function(t){return t.tagName?t.tagName.toLowerCase():null},findOne:function t(e,r){for(var n=null,i=0,a=r.length;i<a&&!n;i++)if(e(r[i]))n=r[i];else{var o=c(r[i]);o&&o.length>0&&(n=t(e,o))}return n},findAll:function t(e,r){for(var n=[],i=0,a=r.length;i<a;i++)if(u(r[i])){e(r[i])&&n.push(r[i]);var o=c(r[i]);o&&(n=n.concat(t(e,o)))}return n},getText:function t(e){return Array.isArray(e)?e.map(t).join(""):u(e)?t(c(e)):3===e.nodeType?e.nodeValue:o.a.isSpriteNode(e.nodeName)?e.text:""}};function h(t){if("string"!=typeof t)return t;var e=t.match(/\[(bgcolor|fillColor|strokeColor|color)\s*=\s*['"]?\w+['"]?\]/g);return e&&(e=e.map((function(t){var e=t.slice(1,-1).split("="),r=Object(a.c)(e[1].replace(/['"]/g,""));return[t,"[".concat(e[0],'="').concat(r,'"]')]}))).forEach((function(e){var r=i()(e,2),n=r[0],a=r[1];t=t.replace(n,a)})),(e=t.match(/\[\w+\s*=\s*['"]\[.+?\]['"]\]/g))&&(e=e.map((function(t){var e=t.slice(1,-1).split("="),r=e[1].slice(2,-2).split(/,/g).map((function(t){return t.trim()}));return[t,"[".concat(e[0],'="[').concat(r,']"]')]}))).forEach((function(e){var r=i()(e,2),n=r[0],a=r[1];t=t.replace(n,a)})),t}function d(t,e){return s.selectAll(h(t),e,{adapter:f})}function p(t,e){return s.selectOne(h(t),e,{adapter:f})}},function(t,e,r){function n(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,a){var o=t.apply(e,r);function s(t){n(o,i,a,s,u,"next",t)}function u(t){n(o,i,a,s,u,"throw",t)}s(void 0)}))}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=!r(45)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,r){"use strict";function n(t){return"rgba(".concat(t.map((function(t,e){return e<3?Math.round(255*t):t})).join(),")")}r.d(e,"a",(function(){return n})),r(0).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(38),i=r(116),a=r(87),o=Object.defineProperty;e.f=r(27)?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),i)try{return o(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,r){"use strict";r.r(e),function(t){var e=r(16),n=r.n(e);r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){return"object"===n()(t)?null!==t:"function"==typeof t}}.call(this,r(48)(t))},function(t,e,r){"use strict";r.d(e,"a",(function(){return E}));var n=r(4),i=r.n(n),a=r(5),o=r.n(a),s=r(6),u=r.n(s),c=r(9),l=r.n(c),f=r(8),h=r.n(f),d=r(7),p=r.n(d),v=r(1),y=r.n(v),g=r(10),m=r.n(g),x=r(13),b=r(55),M=r(39),A=r(35),w=r(14),T=r(22),k=r(12),S=r(75);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var i=y()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var R=Symbol("mesh"),E=function(t){h()(r,t);var e=_(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),"string"==typeof n&&(n={d:n}),(t=e.call(this,n)).effects={d:function(t,e,r,n,a){var o=(r-n)/(a-n);if(o<=0)return t;if(o>=1)return e;var s=b.default._preprocessing(b.default.path2shapes(t),b.default.path2shapes(e)),u=b.default._lerp.apply(b.default,i()(s).concat([o]))[0];return u.reduce((function(t,e){return"".concat(t).concat(e.slice(2).join(" ")," ")}),"M".concat(u[0][0]," ").concat(u[0][1],"C")).trim()}},t}return u()(r,[{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];l()(y()(r.prototype),"draw",this).call(this,t);var e=this.mesh;return e&&Object(T.d)(this,e),t}},{key:"getBoundingClientRect",value:function(){var t=null;return this.mesh&&(t=this.mesh.boundingBox),Object(S.a)(t,this.renderMatrix)}},{key:"getPathLength",value:function(){return this.mesh?this.mesh.getTotalLength():0}},{key:"getPointAtLength",value:function(t){if(this.mesh){var e=this.mesh.getPointAtLength(t);if(e)return[e.x,e.y]}return[0,0]}},{key:"onPropertyChange",value:function(t,e,n){if(l()(y()(r.prototype),"onPropertyChange",this).call(this,t,e,n),"d"!==t&&"normalize"!==t||this.updateContours(),this[R]&&("fillColor"===t||"fillRule"===t)){var i=this.attributes,a=i.fillColor,o=i.fillRule;Object(w.d)(this[R],{color:a,rule:o})}if(this[R]&&("strokeColor"===t||"lineWidth"===t||"lineCap"===t||"lineJoin"===t||"lineDash"===t||"lineDashOffset"===t||"roundSegments"===t)){var s=this.attributes,u=s.strokeColor,c=s.lineWidth;if(u&&c>0){var f=this.attributes,h=f.lineCap,d=f.lineJoin,p=f.lineDash,v=f.lineDashOffset,g=f.miterLimit,m=f.roundSegments;Object(w.e)(this[R],{color:u,lineCap:h,lineJoin:d,lineWidth:c,lineDash:p,lineDashOffset:v,miterLimit:g,roundSegments:m})}}this[R]&&"clipPath"===t&&this[R].setClipPath(e),"texture"===t&&Object(T.a)(this,e)}},{key:"updateContours",value:function(){var t;(this.path=new x.b,this.path.addPath(this.attributes.d),this.attributes.normalize)&&(t=this.path).normalize.apply(t,i()(this.path.boundingCenter))}},{key:"isVisible",get:function(){return!!this.d}},{key:"mesh",get:function(){if("none"===this.attributes.display)return null;var t=this.path;if(t){var e,r=this[R];if(r)r.path!==t&&(r.contours=t.contours,r.path=t);else{(r=new x.c(this.path)).path=t;var n=this.attributes.fillColor,a=this.attributes.fillRule;n&&Object(w.d)(r,{color:n,rule:a});var o=this.attributes.lineWidth,s=this.attributes.strokeColor;if(s&&o>0){var u=this.attributes,c=u.lineCap,l=u.lineJoin,f=u.miterLimit,h=u.lineDash,d=u.lineDashOffset,p=u.roundSegments;Object(w.e)(r,{color:s,lineWidth:o,lineCap:c,lineJoin:l,miterLimit:f,lineDash:h,lineDashOffset:d,roundSegments:p})}this[R]=r;var v=this.attributes.clipPath;v&&this[R].setClipPath(v)}var y=this.opacity;return r.getOpacity()!==y&&r.setOpacity(y),(e=r).setTransform.apply(e,i()(this.renderMatrix)),r}return null}},{key:"originalContentRect",get:function(){if(this.path){var t=this.path.boundingBox;return[t[0][0],t[0][1],t[1][0]-t[0][0],t[1][1]-t[0][1]]}return[0,0,0,0]}},{key:"originalClientRect",get:function(){if(this.mesh){var t=this.mesh.boundingBox;return[t[0][0],t[0][1],t[1][0]-t[0][0],t[1][1]-t[0][1]]}return[0,0,0,0]}},{key:"originalClientCenter",get:function(){return this.mesh?this.mesh.boundingCenter:[0,0]}},{key:"d",set:function(t){this.attributes.d=t},get:function(){return this.attributes.d}}]),r}(M.a);m()(E,"Attr",A.a),k.a.registerNode(E,"path")},function(t,e,r){"use strict";r.d(e,"a",(function(){return M}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a),s=r(9),u=r.n(s),c=r(8),l=r.n(c),f=r(7),h=r.n(f),d=r(1),p=r.n(d),v=r(10),y=r.n(v),g=r(32),m=r(12),x=r(36);function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var M=function(t){l()(r,t);var e=b(r);function r(){return i()(this,r),e.apply(this,arguments)}return o()(r,[{key:"isVisible",get:function(){return this.attributes.points.length>0&&u()(p()(r.prototype),"isVisible",this)}}]),r}(g.a);y()(M,"Attr",x.a),m.a.registerNode(M,"polyline")},function(t,e,r){"use strict";(function(t){var n=r(16),i=r.n(n),a=r(4),o=r.n(a),s=r(78),u=r(52),c=r(28);r(0).glMatrix.setMatrixArrayType(Array);var l={};var f=!1;if("object"===("undefined"==typeof navigator?"undefined":i()(navigator))&&"string"==typeof navigator.userAgent){var h=navigator.userAgent.toLowerCase().match(/chrome\/(\d+)/);h&&(f=Number(h[1])<70)}function d(e,r){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.offscreen||!f&&!1!==i.offscreen;return"function"==typeof t.createCanvas?n=t.createCanvas(e,r,i):a&&"function"==typeof OffscreenCanvas?n=new OffscreenCanvas(e,r):((n=document.createElement("canvas")).width=e,n.height=r),n}var p={createCanvas:d,createText:function(t,e){var r,n=e.font,i=e.fillColor,a=e.strokeColor,s=e.strokeWidth,f=e.ratio,h=void 0===f?1:f,p=e.textCanvas,v=e.cachable,y=void 0!==v&&v;if(y){r=[t,n,String(i),String(a),String(s)].join("###");var g=l[r];if(g)return g}p||(p=d(1,1));var m=p.getContext("2d");m.save(),m.font=n;var x=m.measureText(t).width;m.restore();var b=Object(u.a)(n),M=Math.max(b.pxLineHeight,1.13*b.pxHeight);/italic|oblique/.test(n)&&(x+=M*Math.tan(15*Math.PI/180)),i||a||(i="#000");var A=m.canvas,w=Math.ceil(x),T=Math.ceil(M);A.width=Math.round(w*h),A.height=Math.round(T*h),m.save(),m.font=function(t,e){var r=t.style,n=t.variant,i=t.weight,a=t.stretch,o=t.size,s=t.pxLineHeight,u=t.family;return"".concat(r," ").concat(n," ").concat(i," ").concat(a," ").concat(o*e,"px/").concat(s*e,"px ").concat(u)}(b,h),m.textAlign="center",m.textBaseline="middle";var k=.5*A.height+.05*b.pxHeight*h,S=.5*A.width;if(i){if(Array.isArray(i))i=Object(c.a)(i);else if(i.vector){var _,R=i,E=R.vector,C=R.colors;_=6===E.length?m.createRadialGradient.apply(m,o()(E)):m.createLinearGradient.apply(m,o()(E)),C.forEach((function(t){var e=t.offset,r=t.color;_.addColorStop(e,r)})),i=_}m.fillStyle=i,m.fillText(t,S,k)}if(a){if(m.lineWidth=s*h,Array.isArray(a))a=Object(c.a)(a);else if(a.vector){var O,L=a,D=L.vector,P=L.colors;O=6===D.length?m.createRadialGradient.apply(m,o()(D)):m.createLinearGradient.apply(m,o()(D)),P.forEach((function(t){var e=t.offset,r=t.color;O.addColorStop(e,r)})),a=O}m.strokeStyle=a,m.strokeText(t,S,k)}m.restore();var j={image:p,rect:[0,0,w,T]};return y&&(l[r]=j),j},loadImage:s.a.loadImage};e.a=p}).call(this,r(79))},function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a),s=r(8),u=r.n(s),c=r(7),l=r.n(c),f=r(1),h=r.n(f),d=r(54),p=r(14),v=r(3);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var g=Symbol.for("spritejs_setAttributeDefault"),m=Symbol.for("spritejs_setAttribute"),x=Symbol.for("spritejs_getAttribute"),b=function(t){u()(r,t);var e=y(r);function r(t){var n;return i()(this,r),(n=e.call(this,t))[g]({d:"",normalize:!1,fillColor:void 0,fillRule:"nonzero",strokeColor:void 0,lineWidth:1,lineJoin:"miter",lineCap:"butt",roundSegments:20,lineDash:void 0,lineDashOffset:0,miterLimit:10,texture:void 0,textureRect:void 0,textureRepeat:!1,sourceRect:void 0,clipPath:void 0}),n}return o()(r,[{key:"d",get:function(){return this[x]("d")},set:function(t){this[m]("d",t)}},{key:"normalize",get:function(){return this[x]("normalize")},set:function(t){this[m]("normalize",!!t)}},{key:"fillColor",get:function(){return this[x]("fillColor")},set:function(t){this[m]("fillColor",Object(p.c)(t))}},{key:"fillRule",get:function(){return this[x]("fillRule")},set:function(t){if(null!=t&&"nonzero"!==t&&"evenodd"!==t)throw new TypeError("Invalid fill rule.");this[m]("fillRule",t)}},{key:"strokeColor",get:function(){return this[x]("strokeColor")},set:function(t){this[m]("strokeColor",Object(p.c)(t))}},{key:"lineWidth",get:function(){return this[x]("lineWidth")},set:function(t){this[m]("lineWidth",Object(v.d)(t))}},{key:"lineJoin",get:function(){return this[x]("lineJoin")},set:function(t){if(null!=t&&"miter"!==t&&"bevel"!==t&&"round"!==t)throw new TypeError("Invalid lineJoin type.");this[m]("lineJoin",t)}},{key:"lineCap",get:function(){return this[x]("lineCap")},set:function(t){if(null!=t&&"butt"!==t&&"square"!==t&&"round"!==t)throw new TypeError("Invalid lineCap type.");this[m]("lineCap",t)}},{key:"lineDash",get:function(){return this[x]("lineDash")},set:function(t){null==(t=Object(v.c)(t,!0))||Array.isArray(t)||(t=[t]),this[m]("lineDash",t?t.map(v.d):null)}},{key:"lineDashOffset",get:function(){return this[x]("lineDashOffset")},set:function(t){this[m]("lineDashOffset",Object(v.d)(t))}},{key:"miterLimit",get:function(){return this[x]("miterLimit")},set:function(t){this[m]("miterLimit",Object(v.d)(t))}},{key:"roundSegments",get:function(){return this[x]("roundSegments")},set:function(t){this[m]("roundSegments",t)}},{key:"texture",get:function(){return this[x]("texture")},set:function(t){this[m]("texture",t)}},{key:"textureRect",get:function(){return this[x]("textureRect")},set:function(t){this[m]("textureRect",t)}},{key:"sourceRect",get:function(){return this[x]("sourceRect")},set:function(t){this[m]("sourceRect",t)}},{key:"textureRepeat",get:function(){return this[x]("textureRepeat")},set:function(t){this[m]("textureRepeat",!!t)}},{key:"clipPath",get:function(){return this[x]("clipPath")},set:function(t){this[m]("clipPath",t)}}]),r}(d.a)},function(t,e,r){"use strict";r.d(e,"a",(function(){return k}));var n=r(4),i=r.n(n),a=r(5),o=r.n(a),s=r(6),u=r.n(s),c=r(8),l=r.n(c),f=r(7),h=r.n(f),d=r(1),p=r.n(d),v=r(35),y=r(3),g=r(2),m=r.n(g);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array),r(0).glMatrix.setMatrixArrayType(Array);var b=Symbol.for("spritejs_setAttributeDefault"),M=Symbol.for("spritejs_setAttribute"),A=Symbol.for("spritejs_getAttribute"),w=Symbol.for("spritejs_declareAlias");function T(t){for(var e=t.points,r=t.smooth,n=t.smoothRange,i=t.close,a=[],o=0;o<e.length;o+=2)a.push([e[o],e[o+1]]);var s="";return r?s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];function r(e){var r,n,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.168,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.168;if(t[e].x!==t[e+1].x&&t[e].y!==t[e+1].y||(o=0,s=0),e<1?(r=t[0].x+(t[1].x-t[0].x)*o,n=t[0].y+(t[1].y-t[0].y)*o):(r=t[e].x+(t[e+1].x-t[e-1].x)*o,n=t[e].y+(t[e+1].y-t[e-1].y)*o),e>t.length-3){var u=t.length-1;i=t[u].x-(t[u].x-t[u-1].x)*s,a=t[u].y-(t[u].y-t[u-1].y)*s}else i=t[e+1].x-(t[e+2].x-t[e].x)*s,a=t[e+1].y-(t[e+2].y-t[e].y)*s;return[{x:r,y:n},{x:i,y:a}]}t=t.map((function(t){var e=m()(t,2);return{x:e[0],y:e[1]}}));var n="",i=0;return t.forEach((function(t,a){if(0===a)n+="M".concat(t.x," ").concat(t.y);else{for(;a>e[i];)i++;if(i%2){var o=r(a-1),s=m()(o,2),u=s[0],c=s[1];n+="C".concat([u.x,u.y,c.x,c.y,t.x,t.y].join(" "))}else n+="L".concat(t.x," ").concat(t.y)}})),n}(a,n):a.length&&(s="M".concat(a.map((function(t){return t.join(" ")})).join("L"))),s&&i&&(s+="Z"),s}var k=function(t){l()(r,t);var e=x(r);function r(t){var n;return o()(this,r),(n=e.call(this,t))[b]({points:[],smooth:!1,smoothRange:[0],closeType:"none"}),n[w]("close"),n}return u()(r,[{key:"d",get:function(){return this[A]("d")},set:function(t){}},{key:"close",get:function(){return"none"!==this.closeType},set:function(t){t=t?"normal":"none",this.closeType=t}},{key:"closeType",get:function(){return this[A]("closeType")},set:function(t){if(null!=t&&"none"!==t&&"normal"!==t)throw new TypeError("Invalid closeType type.");if(this[M]("closeType",t)){var e=T(this);this[M]("d",e)}}},{key:"smooth",get:function(){return this[A]("smooth")},set:function(t){if(this[M]("smooth",t)){var e=T(this);this[M]("d",e)}}},{key:"smoothRange",get:function(){return this[A]("smoothRange")},set:function(t){if(t&&!Array.isArray(t)&&(t=[t]),this[M]("smoothRange",t)&&this.smooth){var e=T(this);this[M]("d",e)}}},{key:"points",get:function(){return this[A]("points")},set:function(t){if(t=Object(y.c)(t),Array.isArray(t)&&(t=t.reduce((function(t,e){return Array.isArray(e)?[].concat(i()(t),i()(e.map((function(t){return Object(y.d)(t)})))):[].concat(i()(t),[Object(y.d)(e)])}),[])),this[M]("points",t)){var e=T(this);this[M]("d",e)}}}]),r}(v.a)},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(164),i=r(168),a=r(170);t.exports=function(t){var e,r=n(t);return r.space?((e=Array(3))[0]=a(r.values[0],0,255),e[1]=a(r.values[1],0,255),e[2]=a(r.values[2],0,255),"h"===r.space[0]&&(e=i.rgb(e)),e.push(a(r.alpha,0,1)),e):[]}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(31);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){"use strict";r.d(e,"a",(function(){return $}));var n=r(16),i=r.n(n),a=r(4),o=r.n(a),s=r(2),u=r.n(s),c=r(5),l=r.n(c),f=r(6),h=r.n(f),d=r(10),p=r.n(d),v=r(0),y=r(54),g=r(159),m=r.n(g),x=r(9),b=r.n(x),M=r(8),A=r.n(M),w=r(7),T=r.n(w),k=r(1),S=r.n(k),_=r(24),R=r(37),E=r.n(R),C=r(19),O=r(3);function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=S()(t);if(e){var i=S()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return T()(this,r)}}function D(t){if("string"==typeof t){if(t=t.trim(),/^[0-9.]+%$/.test(t))return parseFloat(t)/100;if(/^([\d.]+)(px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin)$/.test(t))return Object(O.b)(t)}return t}function P(t,e,r,n,i){return"string"==typeof t&&(t=E()(t)),"string"==typeof e&&(e=E()(e)),_.Effects.default(t,e,r,n,i)}r(0).glMatrix.setMatrixArrayType(Array),_.Effects.default=function(t,e,r,n,i){return Array.isArray(t)&&Array.isArray(e)?t.map((function(t,a){return t+(r-n)/(i-n)*(e[a]-t)})):"number"==typeof t&&"number"==typeof e?t+(r-n)/(i-n)*(e-t):r-n>i-r?e:t},_.Effects.fillColor=P,_.Effects.strokeColor=P,_.Effects.bgcolor=P,_.Effects.borderColor=P,_.Effects.text=function(t,e,r,n,i){return _.Effects.default(t,e,r,n,i)};var j=function(t){A()(r,t);var e=L(r);function r(t,n,i){var a;l()(this,r);var o=t.attr();return Object.entries(o).forEach((function(t){var e=u()(t,2),r=e[0],n=e[1];o[r]=_.Effects[r]?n:D(n)})),n=n.map((function(t){var e=m()({},t),r={};return Object.entries(e).forEach((function(t){var e=u()(t,2),n=e[0],i=e[1];r[n]=_.Effects[n]?i:D(i)})),r})),(a=e.call(this,o,n,i)).target=t,a.setter=function(t,e){e.attr(t)},a}return h()(r,[{key:"finish",value:function(){b()(S()(r.prototype),"finish",this).call(this),Object(C.a)(this.requestId),this.setter(this.frame,this.target)}},{key:"play",value:function(){if(this.target.parent&&"running"!==this.playState){b()(S()(r.prototype),"play",this).call(this),this.setter(this.frame,this.target);var t=this;this.ready.then((function(){t.setter(t.frame,t.target),t.requestId=Object(C.b)((function e(){var r=t.target;if("undefined"!=typeof document&&document.documentElement&&document.documentElement.contains&&r.layer&&r.layer.canvas&&!document.documentElement.contains(r.layer.canvas))t.cancel();else{var n=t.playState;t.setter(t.frame,t.target),"idle"!==n&&("running"===n?t.requestId=Object(C.b)(e):("paused"===n||"pending"===n&&t.timeline.currentTime<0)&&t.ready.then((function(){t.setter(t.frame,t.target),t.requestId=Object(C.b)(e)})))}}))}))}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(C.a)(this.requestId),t?(this.setter(this.frame,this.target),b()(S()(r.prototype),"cancel",this).call(this)):(b()(S()(r.prototype),"cancel",this).call(this),this.setter(this.frame,this.target))}},{key:"playState",get:function(){return this.target.parent?b()(S()(r.prototype),"playState",this):"idle"}},{key:"finished",get:function(){var t=this;return b()(S()(r.prototype),"finished",this).then((function(){var e=t;return new Promise((function(t){!function r(){e.setter(e.frame,e.target);var n=e.playState;"finished"===n||"idle"===n?(Object(C.a)(e.requestId),t()):Object(C.b)(r)}()}))}))}}]),r}(_.Animator),I=r(12),q=r(47);function F(t,e){t.clearFilter(),e&&e.forEach((function(e){var r=e.type,n=e.args,i=r;"drop-shadow"===i?i="dropShadow":"hue-rotate"===i&&(i="hueRotate"),t[i].apply(t,o()(n))}))}function N(t,e){if(e){var r=t.getListeners("beforerender"),n=t.getListeners("afterrender");r.length&&!e.beforeRender?e.beforeRender=function(e){t.dispatchEvent({type:"beforerender",detail:{context:e}})}:r.length||(e.beforeRender=null),n.length&&!e.afterRender?e.afterRender=function(e){t.dispatchEvent({type:"afterrender",detail:{context:e}})}:n.length||(e.afterRender=null)}}function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}r(0).glMatrix.setMatrixArrayType(Array),r(0).glMatrix.setMatrixArrayType(Array),r(0).glMatrix.setMatrixArrayType(Array);var B=Symbol.for("spritejs_changedAttrs"),V=Symbol.for("spritejs_attributes"),G=Symbol("resolution"),z=Symbol("animations"),H=Symbol("eventListeners"),W=Symbol("captureEventListeners"),Y=Symbol("filters"),X=Symbol("display"),J=Symbol("program"),Q=Symbol("shaderAttrs"),Z=Symbol("uniforms"),$=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.attributes=new this.constructor.Attr(this),this[G]={width:300,height:150},Object.assign(this.attributes,e),this[z]=new Set,this[H]={},this[W]={}}return h()(t,[{key:"activateAnimations",value:function(){var t=this.layer;if(t){var e=this[z];e.forEach((function(r){r.baseTimeline=t.timeline,r.play(),r.finished.then((function(){e.delete(r)}))}));var r=this.children;r&&r.forEach((function(t){t.activateAnimations&&t.activateAnimations()}))}}},{key:"addEventListener",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"boolean"==typeof r&&(r={capture:r});var n=r,i=n.capture,a=n.once,o=i?W:H;return this[o][t]=this[o][t]||[],this[o][t].push({listener:e,once:a}),this}},{key:"animate",value:function(t,e){var r=this,n=new j(this,t,e);return this.effects&&n.applyEffects(this.effects),this.layer&&(n.baseTimeline=this.layer.timeline,n.play(),n.finished.then((function(){r[z].delete(n)}))),this[z].add(n),n}},{key:"attr",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)return this.attributes[V];if(e.length>1){var n=e[0],i=e[1];return"function"==typeof i&&(i=i(this.attr(n))),this.setAttribute(n,i),this}return"string"==typeof e[0]?this.getAttribute(e[0]):(Object.assign(this.attributes,e[0]),this)}},{key:"cloneNode",value:function(){var t=new this.constructor,e=this.attributes[B];return t.attr(e),t}},{key:"connect",value:function(t,e){Object.defineProperty(this,"parent",{value:t,writable:!1,configurable:!0}),Object.defineProperty(this,"zOrder",{value:e,writable:!1,configurable:!0}),t.timeline&&this.activateAnimations(),this.setResolution(t.getResolution()),this.forceUpdate(),this.dispatchEvent({type:"append",detail:{parent:t,zOrder:e}})}},{key:"contains",value:function(t){for(;t&&this!==t;)t=t.parent;return!!t}},{key:"deactivateAnimations",value:function(){this[z].forEach((function(t){return t.cancel()}));var t=this.children;t&&t.forEach((function(t){t.deactivateAnimations&&t.deactivateAnimations()}))}},{key:"disconnect",value:function(){var t=this.parent,e=this.zOrder;delete this.parent,delete this.zOrder,this.deactivateAnimations(),this.dispatchEvent({type:"remove",detail:{parent:t,zOrder:e}}),t&&t.forceUpdate()}},{key:"dispatchEvent",value:function(t){var e=this;t instanceof q.a||(t=new q.a(t)),t.target=this;for(var r=t.type,n=[this],i=this.parent;t.bubbles&&i;)n.push(i),i=i.parent;for(var a=n.length-1;a>=0;a--){var o=n[a],s=o[W]&&o[W][r];if(s&&s.length&&s.forEach((function(r){var i=r.listener,a=r.once;i.call(e,t),a&&n.removeEventListener(i)})),!t.bubbles&&t.cancelBubble)break}if(!t.cancelBubble)for(var u=0;u<n.length;u++){var c=n[u],l=c[H]&&c[H][r];if(l&&l.length&&l.forEach((function(r){var i=r.listener,a=r.once;i.call(e,t),a&&n.removeEventListener(i)})),!t.bubbles||t.cancelBubble)break}}},{key:"dispatchPointerEvent",value:function(t){var e=t.x,r=t.y;return!!this.isPointCollision(e,r)&&(this.dispatchEvent(t),!0)}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=this.mesh;if(r){if(F(r,this.filters),e.push(r),this[J]){r.setProgram(this[J]);var n=this[Q];n&&Object.entries(n).forEach((function(t){var e=u()(t,2),n=e[0],i=e[1];r.setAttribute(n,i)}));var i=this[Z];if(this[Z]){var a={};Object.entries(i).forEach((function(e){var r=u()(e,2),n=r[0],i=r[1];"function"==typeof i&&(i=i(t,n)),a[n]=i})),r.setUniforms(a)}}N(this,r)}return e}},{key:"forceUpdate",value:function(){this.parent&&this.parent.forceUpdate()}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"getListeners",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.capture,n=void 0!==r&&r,i=n?W:H;return o()(this[i][t]||[])}},{key:"getNodeNearBy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.parent)return null;if(0===t)return this;var e=this.parent.children,r=e.indexOf(this);return e[r+t]}},{key:"getWorldPosition",value:function(t,e){var r=this.renderMatrix;return[t*r[0]+e*r[2]+r[4],t*r[1]+e*r[3]+r[5]]}},{key:"getOffsetPosition",value:function(t,e){var r=v.mat2d.invert(Array.of(0,0,0,0,0,0),this.renderMatrix);return[t*r[0]+e*r[2]+r[4],t*r[1]+e*r[3]+r[5]]}},{key:"getResolution",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){p()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this[G])}},{key:"isPointCollision",value:function(t,e){if(!this.mesh)return!1;var r=this.attributes.pointerEvents;if("none"===r)return!1;if("all"!==r&&!this.isVisible)return!1;var n="both";return"visibleFill"===r&&(n="fill"),"visibleStroke"===r&&(n="stroke"),this.mesh.isPointCollision(t,e,n)}},{key:"onPropertyChange",value:function(t,e,r){"id"!==t&&"name"!==t&&"className"!==t&&"pointerEvents"!==t&&"passEvents"!==t&&this.forceUpdate(),"filter"===t&&(this[Y]=function(t){if(!(t=t.trim())||"none"===t)return null;var e=/^(?:(url|blur|brightness|contrast|drop-shadow|grayscale|hue-rotate|invert|opacity|saturate|sepia)\(([^()]+)\))+$/i,r=t.match(/^(?:(url|blur|brightness|contrast|drop-shadow|grayscale|hue-rotate|invert|opacity|saturate|sepia)\(([^()]+)\))+$/gi),n=[];return r&&r.forEach((function(t){var r=t.match(e);if(!r)throw new TypeError("Invalid fitler string.");var i=u()(r,3),a=i[1],o=i[2];o=o.trim().split(/\s+/g).map((function(t,e){var r;return r="url"===a||"drop-shadow"===a&&3===e?t:Object(O.d)(t),/%$/.test(t)&&(r/=100),r})),n.push({type:a,args:o})})),n}(e)),"zIndex"===t&&this.parent&&this.parent.reorder()}},{key:"setAttribute",value:function(t,e){"attrs"===t&&this.attr(e),this.attributes[t]=e}},{key:"setMouseCapture",value:function(){this.layer&&(this.layer.__mouseCapturedTarget=this)}},{key:"setProgram",value:function(t){this[J]=t,this.forceUpdate()}},{key:"setShaderAttribute",value:function(t,e){this[Q]=this[Q]||{},this[Q][t]=e,this.forceUpdate()}},{key:"setUniforms",value:function(t){this[Z]=this[Z]||{},Object.assign(this[Z],t),this.forceUpdate()}},{key:"setResolution",value:function(t){var e=t.width,r=t.height,n=this[G],i=n.width,a=n.height;i===e&&a===r||(this[G]={width:e,height:r},this.forceUpdate(),this.dispatchEvent({type:"resolutionchange",detail:{width:e,height:r}}))}},{key:"show",value:function(){"none"===this.attributes.display&&(this.attributes.display=this[X]||"")}},{key:"hide",value:function(){"none"!==this.attributes.display&&(this[X]=this.attributes.display,this.attributes.display="none")}},{key:"releaseMouseCapture",value:function(){this.layer&&this.layer.__mouseCapturedTarget===this&&(this.layer.__mouseCapturedTarget=null)}},{key:"remove",value:function(){return!(!this.parent||!this.parent.removeChild)&&(this.parent.removeChild(this),!0)}},{key:"removeAllListeners",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&(e={capture:e});var r=e.capture,n=r?W:H;return this[n][t]&&(this[n][t]=[]),this}},{key:"removeAttribute",value:function(t){this.setAttribute(t,null)}},{key:"removeEventListener",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"boolean"==typeof r&&(r={capture:r});var n=r.capture,i=n?W:H;if(this[i][t]){var a=this[i][t];if(a)for(var o=0;o<a.length;o++){var s=a[o].listener;if(s===e){this[i][t].splice(o,1);break}}}return this}},{key:"transition",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"linear",n=this,a=Symbol("animation");r=r||"linear";var o=0;return"object"===i()(t)&&(o=t.delay||0,t=t.duration),e={},p()(e,a,null),p()(e,"cancel",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this[a];e&&e.cancel(t)})),p()(e,"end",(function(){var t=this[a];!t||"running"!==t.playState&&"pending"!==t.playState||t.finish()})),p()(e,"reverse",(function(){var t=this[a];if(t)if("running"===t.playState||"pending"===t.playState)t.playbackRate=-t.playbackRate;else{var e=t.timing.direction;t.timing.direction="reverse"===e?"normal":"reverse",t.play()}return t.finished})),p()(e,"attr",(function(e,i){return this.end(),"string"==typeof e&&(e=p()({},e,i)),Object.entries(e).forEach((function(t){var r=u()(t,2),i=r[0],a=r[1];"function"==typeof a&&(e[i]=a(n.attr(i)))})),this[a]=n.animate([e],{duration:1e3*t,delay:1e3*o,fill:"forwards",easing:r}),this[a].finished})),e}},{key:"updateContours",value:function(){}},{key:"ancestors",get:function(){for(var t=this.parent,e=[];t;)e.push(t),t=t.parent;return e}},{key:"animations",get:function(){return this[z]}},{key:"filters",get:function(){return this[Y]||this.parent&&this.parent.filters}},{key:"isVisible",get:function(){return!1}},{key:"layer",get:function(){return this.parent?this.parent.layer:null}},{key:"localMatrix",get:function(){var t=this.transformMatrix,e=this.attributes,r=e.x,n=e.y;return t[4]+=r,t[5]+=n,t}},{key:"opacity",get:function(){var t=this.attributes.opacity;return this.parent&&null!=this.parent.opacity&&(t*=this.parent.opacity),t}},{key:"parentNode",get:function(){return this.parent}},{key:"nextSibling",get:function(){return this.getNodeNearBy(1)}},{key:"previousSibling",get:function(){return this.getNodeNearBy(-1)}},{key:"program",get:function(){return this[J]}},{key:"renderer",get:function(){return this.parent?this.parent.renderer:null}},{key:"renderMatrix",get:function(){if(this.__cacheRenderMatrix)return this.__cacheRenderMatrix;var t=this.localMatrix,e=this.parent;if(e){var r=e.__cacheRenderMatrix||e.renderMatrix;r&&(t=v.mat2d.multiply(Array.of(0,0,0,0,0,0),r,t))}return t}},{key:"worldScaling",get:function(){var t=this.renderMatrix;return[Math.hypot(t[0],t[1]),Math.hypot(t[2],t[3])]}},{key:"worldRotation",get:function(){var t=this.renderMatrix;return Math.atan2(t[1],t[3])}},{key:"worldPosition",get:function(){var t=this.renderMatrix;return[t[4],t[5]]}},{key:"uniforms",get:function(){return this[Z]}},{key:"className",get:function(){return this.attributes.className},set:function(t){this.attributes.className=t}},{key:"id",get:function(){return this.attributes.id},set:function(t){this.attributes.id=t}},{key:"name",get:function(){return this.attributes.name},set:function(t){this.attributes.name=t}},{key:"zIndex",get:function(){return this.attributes.zIndex},set:function(t){this.attributes.zIndex=t}},{key:"mesh",get:function(){return null}},{key:"shaderAttrs",get:function(){return this[Q]||{}}}]),t}();p()($,"Attr",y.a),I.a.registerNode($,"node")},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(58);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(29),i=r(59);t.exports=r(27)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){"use strict";r.d(e,"a",(function(){return C}));var n=r(2),i=r.n(n),a=r(4),o=r.n(a),s=r(5),u=r.n(s),c=r(6),l=r.n(c),f=r(9),h=r.n(f),d=r(8),p=r.n(d),v=r(7),y=r.n(v),g=r(1),m=r.n(g),x=r(10),b=r.n(x),M=r(13),A=r(39),w=r(43),T=r(14);function k(t,e,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"leftTop",o=.5522848,s=n/2*o,u=i/2*o,c=e+n,l=r+i,f=e+n/2,h=r+i/2;"leftTop"===a?(t.moveTo(e,h),t.bezierCurveTo(e,h-u,f-s,r,f,r)):"rightTop"===a?t.bezierCurveTo(f+s,r,c,h-u,c,h):"rightBottom"===a?t.bezierCurveTo(c,h+u,f+s,l,f,l):"leftBottom"===a&&t.bezierCurveTo(f-s,l,e,h+u,e,h)}r(0).glMatrix.setMatrixArrayType(Array);var S=r(12),_=r(75);function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m()(t);if(e){var i=m()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var E=Symbol("mesh"),C=function(t){p()(r,t);var e=R(r);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u()(this,r),e.call(this,t)}return l()(r,[{key:"getBoundingClientRect",value:function(){var t=null;if(this.mesh){t=o()(this.mesh.boundingBox);var e=this.attributes.borderWidth;e&&(t[0]=[t[0][0]-e,t[0][1]-e],t[1]=[t[1][0]+e,t[1][1]+e])}return Object(_.a)(t,this.renderMatrix)}},{key:"onPropertyChange",value:function(t,e,n){if(h()(m()(r.prototype),"onPropertyChange",this).call(this,t,e,n),("anchorX"===t||"anchorY"===t||"boxSizing"===t||"width"===t||"height"===t||"borderWidth"===t||"paddingLeft"===t||"paddingRight"===t||"paddingTop"===t||"paddingBottom"===t||/^border(TopLeft|TopRight|BottomRight|BottomLeft)Radius$/.test(t))&&this.updateContours(),this[E]&&"clipPath"===t&&this[E].setClipPath(e),this[E]&&"bgcolor"===t&&Object(T.d)(this[E],{color:e}),this[E]&&("borderColor"===t||"borderWidth"===t||"borderDash"===t||"borderDashOffset"===t)){var i=this.attributes,a=i.borderColor,o=i.borderWidth,s=i.borderDash,u=i.borderDashOffset;Object(T.e)(this[E],{color:a,lineWidth:o,lineDash:s,lineDashOffset:u})}}},{key:"updateContours",value:function(){var t=this.attributes,e=t.anchorX,r=t.anchorY,n=t.borderWidth,a=t.borderRadius,o=i()(this.borderSize,2),s=o[0],u=o[1],c=this.offsetSize,l=.5*n,f=-e*c[0]+l,h=-r*c[1]+l;this.clientBox=new M.b,function(t,e,r){var n=i()(e,4),a=n[0],o=n[1],s=n[2],u=n[3];if(!r||Array.isArray(r)&&r.every((function(t){return 0===t})))t.beginPath(),t.rect(a,o,s,u);else{"number"==typeof r&&(r=Array(8).fill(r));var c=r.map((function(t,e){return e%2?Math.min(t,u/2):Math.min(t,s/2)})),l=i()(c,8),f=l[0],h=l[1],d=l[2],p=l[3],v=l[4],y=l[5],g=l[6],m=l[7];t.beginPath(),t.moveTo(a,o+h),k(t,a,o,2*f,2*h,"leftTop"),t.lineTo(a+s-d,o),k(t,a+s-2*d,o,2*d,2*p,"rightTop"),t.lineTo(a+s,o+u-y),k(t,a+s-2*v,o+u-2*y,2*v,2*y,"rightBottom"),t.lineTo(a+g,o+u),k(t,a,o+u-2*m,2*g,2*m,"leftBottom"),t.closePath()}}(this.clientBox,[f,h,s,u],a)}},{key:"borderSize",get:function(){var t=this.attributes,e=t.paddingTop,r=t.paddingRight,n=t.paddingBottom,a=t.paddingLeft,o=t.borderWidth,s=i()(this.contentSize,2);return[a+s[0]+r+o,e+s[1]+n+o]}},{key:"clientSize",get:function(){var t=this.attributes,e=t.paddingTop,r=t.paddingRight,n=t.paddingBottom,a=t.paddingLeft,o=i()(this.contentSize,2);return[a+o[0]+r,e+o[1]+n]}},{key:"contentSize",get:function(){var t=this.attributes,e=t.width,r=t.height,n=t.boxSizing,i=t.paddingTop,a=t.paddingRight,o=t.paddingBottom,s=t.paddingLeft;if(e=e||0,r=r||0,"border-box"===n){var u=2*this.attributes.borderWidth;e-=u+a+s,r-=u+i+o,e=Math.max(0,e),r=Math.max(0,r)}return[e,r]}},{key:"hasBorder",get:function(){return this.attributes.borderWidth>0}},{key:"isVisible",get:function(){var t=i()(this.borderSize,2),e=t[0],r=t[1];return e>0&&r>0}},{key:"mesh",get:function(){if("none"===this.attributes.display)return null;var t=this.clientBox;if(t){var e,r=this[E];if(r)r.box!==t&&(r.contours=t.contours,r.box=t);else{(r=new M.c(t)).box=t;var n=this.attributes.bgcolor;if(Object(T.d)(r,{color:n}),this.hasBorder){var i=this.attributes,a=i.borderColor,s=i.borderWidth,u=i.borderDash,c=i.borderDashOffset;Object(T.e)(r,{color:a,lineWidth:s,lineDash:u,lineDashOffset:c})}this[E]=r;var l=this.attributes.clipPath;l&&this[E].setClipPath(l)}var f=this.opacity;return r.getOpacity()!==f&&r.setOpacity(f),(e=r).setTransform.apply(e,o()(this.renderMatrix)),r}return null}},{key:"offsetSize",get:function(){var t=this.attributes,e=t.paddingTop,r=t.paddingRight,n=t.paddingBottom,a=t.paddingLeft,o=t.borderWidth,s=i()(this.contentSize,2),u=2*o;return[a+s[0]+r+u,e+s[1]+n+u]}},{key:"originalClientRect",get:function(){if(this.mesh){var t=this.mesh.boundingBox;return[t[0][0],t[0][1],t[1][0]-t[0][0],t[1][1]-t[0][1]]}return[0,0,0,0]}},{key:"originalContentRect",get:function(){var t=i()(this.originalClientRect,4),e=t[0],r=t[1],n=t[2],a=t[3],o=this.attributes.padding;return[e+o[0],r+o[1],n-o[0]-o[2],a-o[1]-o[3]]}}]),r}(A.a);b()(C,"Attr",w.a),S.a.registerNode(C,"block")},function(t,e,r){"use strict";r.d(e,"a",(function(){return w}));var n=r(4),i=r.n(n),a=r(5),o=r.n(a),s=r(6),u=r.n(s),c=r(8),l=r.n(c),f=r(7),h=r.n(f),d=r(1),p=r.n(d),v=r(54),y=r(3),g=r(14);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var x=Symbol.for("spritejs_setAttribute"),b=Symbol.for("spritejs_getAttribute"),M=Symbol.for("spritejs_setAttributeDefault"),A=Symbol.for("spritejs_declareAlias"),w=function(t){l()(r,t);var e=m(r);function r(t){var n;return o()(this,r),(n=e.call(this,t))[M]({anchorX:0,anchorY:0,width:void 0,height:void 0,borderWidth:0,borderColor:"rgba(0,0,0,1)",borderDash:void 0,borderDashOffset:0,borderTopLeftRadius:[0,0],borderTopRightRadius:[0,0],borderBottomRightRadius:[0,0],borderBottomLeftRadius:[0,0],bgcolor:"rgba(0,0,0,0)",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,boxSizing:"content-box",clipPath:void 0}),n[A]("anchor","size","border","borderRadius","padding"),n}return u()(r,[{key:"anchorX",get:function(){return this[b]("anchorX")},set:function(t){this[x]("anchorX",Object(y.d)(t))}},{key:"anchorY",get:function(){return this[b]("anchorY")},set:function(t){this[x]("anchorY",Object(y.d)(t))}},{key:"anchor",get:function(){return[this.anchorX,this.anchorY]},set:function(t){t=Object(y.c)(t),Array.isArray(t)||(t=[t,t]),this.anchorX=t[0],this.anchorY=t[1]}},{key:"width",get:function(){return this[b]("width")},set:function(t){this[x]("width",Object(y.d)(t))}},{key:"height",get:function(){return this[b]("height")},set:function(t){this[x]("height",Object(y.d)(t))}},{key:"size",get:function(){return[this.width,this.height]},set:function(t){t=Object(y.c)(t),Array.isArray(t)||(t=[t,t]),this.width=t[0],this.height=t[1]}},{key:"borderWidth",get:function(){return this[b]("borderWidth")},set:function(t){this[x]("borderWidth",Object(y.d)(t))}},{key:"borderColor",get:function(){return this[b]("borderColor")},set:function(t){this[x]("borderColor",Object(g.c)(t))}},{key:"border",get:function(){return[this.borderWidth,this.borderColor]},set:function(t){t=Object(y.c)(t),Array.isArray(t)||(t=[t]),this.borderWidth=t[0],null!=t[1]&&(this.borderColor=t[1])}},{key:"borderDash",get:function(){return this[b]("borderDash")},set:function(t){null==(t=Object(y.c)(t,!0))||Array.isArray(t)||(t=[t]),this[x]("borderDash",t.map(y.d))}},{key:"borderDashOffset",get:function(){return this[b]("borderDashOffset")},set:function(t){this[x]("borderDashOffset",Object(y.d)(t))}},{key:"borderTopLeftRadius",get:function(){return this[b]("borderTopLeftRadius")},set:function(t){t=Object(y.c)(t,!0),Array.isArray(t)||(t=[t,t]),this[x]("borderTopLeftRadius",t.map(y.d))}},{key:"borderTopRightRadius",get:function(){return this[b]("borderTopRightRadius")},set:function(t){t=Object(y.c)(t,!0),Array.isArray(t)||(t=[t,t]),this[x]("borderTopRightRadius",t.map(y.d))}},{key:"borderBottomRightRadius",get:function(){return this[b]("borderBottomRightRadius")},set:function(t){t=Object(y.c)(t,!0),Array.isArray(t)||(t=[t,t]),this[x]("borderBottomRightRadius",t.map(y.d))}},{key:"borderBottomLeftRadius",get:function(){return this[b]("borderBottomLeftRadius")},set:function(t){t=Object(y.c)(t,!0),Array.isArray(t)||(t=[t,t]),this[x]("borderBottomLeftRadius",t.map(y.d))}},{key:"borderRadius",get:function(){return[].concat(i()(this.borderTopLeftRadius),i()(this.borderTopRightRadius),i()(this.borderBottomRightRadius),i()(this.borderBottomLeftRadius))},set:function(t){if(t=Object(y.c)(t),Array.isArray(t)){if(2===t.length)t=[t[0],t[1],t[0],t[1],t[0],t[1],t[0],t[1]];else if(4===t.length)t=[t[0],t[1],t[2],t[3],t[0],t[1],t[2],t[3]];else if(6===t.length)t=[t[0],t[1],t[2],t[3],t[4],t[5],t[2],t[3]];else if(8!==t.length)throw new TypeError("Invalid borderRadius value.")}else t=Array(8).fill(t);this.borderTopLeftRadius=[t[0],t[1]],this.borderTopRightRadius=[t[2],t[3]],this.borderBottomRightRadius=[t[4],t[5]],this.borderBottomLeftRadius=[t[6],t[7]]}},{key:"bgcolor",get:function(){return this[b]("bgcolor")},set:function(t){this[x]("bgcolor",Object(g.c)(t))}},{key:"paddingTop",get:function(){return this[b]("paddingTop")},set:function(t){this[x]("paddingTop",Object(y.d)(t))}},{key:"paddingRight",get:function(){return this[b]("paddingRight")},set:function(t){this[x]("paddingRight",Object(y.d)(t))}},{key:"paddingBottom",get:function(){return this[b]("paddingBottom")},set:function(t){this[x]("paddingBottom",Object(y.d)(t))}},{key:"paddingLeft",get:function(){return this[b]("paddingLeft")},set:function(t){this[x]("paddingLeft",Object(y.d)(t))}},{key:"padding",get:function(){return[this.paddingTop,this.paddingRight,this.paddingBottom,this.paddingLeft]},set:function(t){t=Object(y.c)(t),Array.isArray(t)?2===t.length?t=[t[0],t[1],t[0],t[1]]:3===t.length&&(t=[t[0],t[1],t[2],t[1]]):t=[t,t,t,t],this.paddingTop=t[0],this.paddingRight=t[1],this.paddingBottom=t[2],this.paddingLeft=t[3]}},{key:"clipPath",get:function(){return this[b]("clipPath")},set:function(t){this[x]("clipPath",t)}},{key:"boxSizing",get:function(){return this[b]("boxSizing")},set:function(t){if(null!=t&&"border-box"!==t&&"content-box"!==t)throw new TypeError("Invalid boxSizing type.");this[x]("boxSizing",t)}}]),r}(v.a)},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(83),i=r(84);t.exports=function(t){return n(i(t))}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a);r(0).glMatrix.setMatrixArrayType(Array);var s=Symbol("type"),u=Symbol("bubbles"),c=Symbol("originalEvent"),l=Symbol("detail"),f=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bubbles,a=void 0===n?null:n;if(i()(this,t),"string"==typeof e?(this[s]=e,this[u]=!!a):(this[s]=e.type,this[c]=e,this[u]=null!=a?!!a:!!e.bubbles,e.detail&&(this[l]=e.detail)),!this[s])throw new TypeError("Invalid event type.");this.cancelBubble=!1}return o()(t,[{key:"setOriginalEvent",value:function(t){this[c]=t}},{key:"stopPropagation",value:function(){this.cancelBubble=!0}},{key:"originalEvent",get:function(){return this[c]}},{key:"type",get:function(){return this[s]}},{key:"bubbles",get:function(){return this[u]}},{key:"detail",get:function(){return this[l]}}]),t}()},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(118),i=r(92);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(84);t.exports=function(t){return Object(n(t))}},function(t,e,r){"use strict";function n(t,e){if("string"==typeof t){var r=t.trim().match(/^([\d.]+)(px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin|%)$/);t=r?{size:parseFloat(r[1]),unit:r[2]}:{size:parseInt(t,10),unit:"px"}}var i=t,a=i.size,o=i.unit;if("pt"===o)a/=.75;else if("pc"===o)a*=16;else if("in"===o)a*=96;else if("cm"===o)a*=96/2.54;else if("mm"===o)a*=96/25.4;else if("em"===o||"rem"===o||"ex"===o){if(!e&&"function"==typeof getComputedStyle&&"undefined"!=typeof document)e=n(getComputedStyle(document.documentElement).fontSize,16);a*=e,"ex"===o&&(a/=2)}else if("q"===o)a*=96/25.4/4;else if("vw"===o||"vh"===o){if("undefined"!=typeof document)a*=("vw"===o?document.documentElement.clientWidth:document.documentElement.clientHeight)/100}else if(("vmax"===o||"vmin"===o)&&"undefined"!=typeof document){var s=document.documentElement.clientWidth,u=document.documentElement.clientHeight;a*="vmax"===o?Math.max(s,u)/100:Math.min(s,u)/100}return a}r.d(e,"a",(function(){return f})),r(0).glMatrix.setMatrixArrayType(Array);var i="px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin|%",a="'([^']+)'|\"([^\"]+)\"|([\\w-]|[一-龥])+",o=new RegExp("(".concat("bold|bolder|lighter|[1-9]00",") +"),"i"),s=new RegExp("(".concat("italic|oblique",") +"),"i"),u=new RegExp("(".concat("small-caps",") +"),"i"),c=new RegExp("(".concat("ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",") +"),"i"),l=new RegExp("([\\d\\.]+)("+i+")(?:\\/([\\d\\.]+)("+i+"))? *((?:"+a+")( *, *(?:"+a+"))*)");function f(t,e){var r=l.exec(t);if(r){var i=parseFloat(r[3]),a={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(r[1]),unit:r[2],lineHeight:Number.isFinite(i)?i:void 0,lineHeightUnit:r[4],family:r[5].replace(/ *, */g,",")},f=t.substring(0,r.index),h=o.exec(f),d=s.exec(f),p=u.exec(f),v=c.exec(f);return h&&(a.weight=h[1]),d&&(a.style=d[1]),p&&(a.variant=p[1]),v&&(a.stretch=v[1]),a.pxHeight=n({size:a.size,unit:a.unit},e),a.pxLineHeight=n({size:a.lineHeight||a.size,unit:a.lineHeightUnit||a.unit},e),a}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(176);t.exports=function(t,e){if(null==t)return{};var r,i,a=n(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}},function(t,e,r){"use strict";r.d(e,"a",(function(){return O}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a),s=r(4),u=r.n(s),c=r(2),l=r.n(c),f=r(0),h=r(13),d=r(3);r(0).glMatrix.setMatrixArrayType(Array);var p=Symbol.for("spritejs_setAttributeDefault"),v=Symbol.for("spritejs_declareAlias"),y=Symbol.for("spritejs_setAttribute"),g=Symbol.for("spritejs_getAttribute"),m=Symbol.for("spritejs_attributes"),x=Symbol.for("spritejs_changedAttrs"),b=Symbol("subject"),M=Symbol("attr"),A=Symbol("default"),w=Symbol("alias");var T=Symbol("transformMatrix"),k=Symbol("transforms"),S=Symbol("changedAttrs"),_=Symbol("lastChangedAttr"),R=Symbol("offsetFigure");function E(t,e,r){var n=t[M][e];if(t[y](e,r,!1)||t[_]!==e){var i=t[k];i.has(e)&&i.delete(e),r&&("rotate"===e&&(r=Math.PI*r/180),"scale"===e&&(r=r.map((function(t){var e=1e-5;return Math.abs(t)>e?t:1/t>0?e:-e}))),i.set(e,r)),t[T]=null,t[b].onPropertyChange(e,r,n,t)}}function C(t){var e=t[R],r=t.offsetDistance*e.getTotalLength(),n=e.getPointAtLength(r);if(n){var i=t[k],a=t.offsetRotate;a="auto"===a?n.angle:"reverse"===a?Math.PI+n.angle:Math.PI*a/180,i.set("offsetRotate",a),i.set("offsetTranslate",[n.x,n.y]),t[T]=null}}var O=function(){function t(e){var r=this;i()(this,t),this[b]=e,this[M]={},this[T]=f.mat2d.fromValues(1,0,0,1,0,0),this[k]=new Map,this[A]={},this[w]=[],Object.defineProperty(e,"transformMatrix",{get:function(){var t,e,n,i,a,o;return r[T]||(r[T]=(t=r[k],e=r.transformOrigin,n=l()(e,2),i=n[0],a=n[1],o=f.mat2d.fromValues(1,0,0,1,0,0),u()(t).forEach((function(t){var e=l()(t,2),r=e[0],n=e[1];if((i||a)&&(o=f.mat2d.translate(Array.of(0,0,0,0,0,0),o,[i,a])),"matrix"===r)o=f.mat2d.multiply(o,o,n);else if("offsetTranslate"===r)o[4]+=n[0],o[5]+=n[1];else if("offsetRotate"===r)o=f.mat2d.rotate(Array.of(0,0,0,0,0,0),o,n);else if("skew"===r){var s=l()(n,2),u=s[0],c=s[1];o=f.mat2d.multiply(o,o,f.mat2d.fromValues(1,Math.tan(c),Math.tan(u),1,0,0))}else f.mat2d[r](o,o,n);(i||a)&&(o=f.mat2d.translate(Array.of(0,0,0,0,0,0),o,[-i,-a]))})),o)),u()(r[T])}}),this[p]({id:"",name:"",className:"",x:0,y:0,transformOrigin:[0,0],transform:"",translate:[0,0],rotate:0,scale:[1,1],skew:[0,0],opacity:1,zIndex:0,offsetPath:void 0,offsetDistance:0,offsetRotate:"auto",pointerEvents:"visible",filter:"none",display:""}),this[v]("class","pos"),this[S]=new Set,this[R]=new h.b({scale:5,simplify:0})}return o()(t,null,[{key:"setDefault",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t[p].apply(t,r)}},{key:"declareAlias",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t[v].apply(t,r)}},{key:"setAttribute",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t[y].apply(t,r)}},{key:"getAttribute",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t[g].apply(t,r)}},{key:"getAttributes",value:function(t){return t[m]}},{key:"getChangedAttributes",value:function(t){return t[x]}}]),o()(t,[{key:p,value:function(t){Object.assign(this[A],t),Object.assign(this[M],t)}},{key:v,value:function(){var t;(t=this[w]).push.apply(t,arguments)}},{key:y,value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this[M][t],i=this[b];return null==e&&(e=this[A][t]),!Object(d.a)(n,e)&&(this[M][t]=e,this[S].has(t)&&this[S].delete(t),this[S].add(t),this[_]=t,r&&i.onPropertyChange(t,e,n,this),!0)}},{key:g,value:function(t){return this[M][t]}},{key:x,get:function(){var t=this,e={};return u()(this[S]).forEach((function(r){e[r]=t[M][r]})),e}},{key:m,get:function(){for(var t=Object.assign({},this[M]),e=0;e<this[w].length;e++){var r=this[w][e];t[r]=this[r]}return t}},{key:"id",set:function(t){this[y]("id",t)},get:function(){return this[g]("id")}},{key:"name",set:function(t){this[y]("name",t)},get:function(){return this[g]("name")}},{key:"className",set:function(t){this[y]("className",t)},get:function(){return this[g]("className")}},{key:"class",set:function(t){this.className=t},get:function(){return this.className}},{key:"x",get:function(){return this[g]("x")},set:function(t){this[y]("x",Object(d.d)(t))}},{key:"y",get:function(){return this[g]("y")},set:function(t){this[y]("y",Object(d.d)(t))}},{key:"pos",get:function(){return[this.x,this.y]},set:function(t){t=Object(d.c)(t),Array.isArray(t)||(t=[t,t]),this.x=t[0],this.y=t[1]}},{key:"transform",get:function(){return this[g]("transform")},set:function(t){var e=null;if(Array.isArray(t)&&(e=t,t="matrix(".concat(t.map(d.d).join(),")")),"string"==typeof t)t=t.replace(/\s*,\s*/g,",");else if(null!=t)throw new TypeError("Invalid transform value.");if(this[y]("transform",t)){var r=this[k];if(r.has("matrix")&&r.delete("matrix"),e)r.set("matrix",e);else if(t){var n=t.match(/(matrix|translate|rotate|scale|skew)\([^()]+\)/g);if(!n)throw new TypeError("Invalid transform value.");for(var i=f.mat2d.fromValues(1,0,0,1,0,0),a=0;a<n.length;a++){var o=n[a].match(/^(matrix|translate|rotate|scale|skew)\(([^()]+)\)/);if(o){var s=l()(o,3),u=s[1],c=s[2];c="rotate"===u?Math.PI*parseFloat(c)/180:c.trim().split(/[\s,]+/).map((function(t){return Object(d.d)(t)})),"matrix"===u?i=f.mat2d.multiply(i,i,c):"skew"===u?i=f.mat2d.multiply(i,i,f.mat2d.fromValues(1,Math.tan(c[1]),Math.tan(c[0]),1,0,0)):f.mat2d[u](i,i,c),r.set("matrix",i)}}}this[T]=null}}},{key:"transformOrigin",get:function(){return this[g]("transformOrigin")},set:function(t){null==(t=Object(d.c)(t,!0))||Array.isArray(t)||(t=[t,t]),this[y]("transformOrigin",t)&&(this[T]=null)}},{key:"rotate",get:function(){return this[g]("rotate")},set:function(t){E(this,"rotate",t)}},{key:"translate",get:function(){return this[g]("translate")},set:function(t){null==(t=Object(d.c)(t,!0))||Array.isArray(t)||(t=[t,t]),E(this,"translate",t)}},{key:"scale",get:function(){return this[g]("scale")},set:function(t){null==(t=Object(d.c)(t,!0))||Array.isArray(t)||(t=[t,t]),E(this,"scale",t)}},{key:"skew",get:function(){return this[g]("skew")},set:function(t){null==(t=Object(d.c)(t,!0))||Array.isArray(t)||(t=[t,t]),E(this,"skew",t)}},{key:"opacity",get:function(){return this[g]("opacity")},set:function(t){null!=t&&(t=Number(t)),this[y]("opacity",t)}},{key:"zIndex",get:function(){return this[g]("zIndex")},set:function(t){null!=t&&(t=Number(t)),this[y]("zIndex",t)}},{key:"offsetPath",get:function(){return this[g]("offsetPath")},set:function(t){this[y]("offsetPath",t)&&(this[R].beginPath(),null!=t&&this[R].addPath(t),C(this))}},{key:"offsetDistance",get:function(){return this[g]("offsetDistance")},set:function(t){this[y]("offsetDistance",Object(d.d)(t))&&C(this)}},{key:"offsetRotate",get:function(){return this[g]("offsetRotate")},set:function(t){this[y]("offsetRotate",t),C(this)}},{key:"pointerEvents",get:function(){return this[g]("pointerEvents")},set:function(t){if(null!=t&&"none"!==t&&"visible"!==t&&"visibleFill"!==t&&"visibleStroke"!==t&&"all"!==t)throw new TypeError("Invalid pointerEvents type.");this[y]("pointerEvents",t)}},{key:"filter",get:function(){return this[g]("filter")},set:function(t){this[y]("filter",t)}},{key:"display",get:function(){return this[g]("display")},set:function(t){this[y]("display",t)}},{key:"offset",set:function(t){}}]),t}()},function(t,e,r){"use strict";(function(t){var e,n,i=r(16),a=r.n(i);r(0).glMatrix.setMatrixArrayType(Array),e=void 0,n=function(){var t=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=2*Math.PI,r=function(t,e,r,n,i,a,o){var s=t.x,u=t.y;return{x:n*(s*=e)-i*(u*=r)+a,y:i*s+n*u+o}},n=function(t,e){var r=4/3*Math.tan(e/4),n=Math.cos(t),i=Math.sin(t),a=Math.cos(t+e),o=Math.sin(t+e);return[{x:n-i*r,y:i+n*r},{x:a+o*r,y:o-a*r},{x:a,y:o}]},i=function(t,e,r,n){var i=t*n-e*r<0?-1:1,a=(t*r+e*n)/(Math.sqrt(t*t+e*e)*Math.sqrt(t*t+e*e));return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)},a=function(a){var o=a.px,s=a.py,u=a.cx,c=a.cy,l=a.rx,f=a.ry,h=a.xAxisRotation,d=void 0===h?0:h,p=a.largeArcFlag,v=void 0===p?0:p,y=a.sweepFlag,g=void 0===y?0:y,m=[];if(0===l||0===f)return[];var x=Math.sin(d*e/360),b=Math.cos(d*e/360),M=b*(o-u)/2+x*(s-c)/2,A=-x*(o-u)/2+b*(s-c)/2;if(0===M&&0===A)return[];l=Math.abs(l),f=Math.abs(f);var w=Math.pow(M,2)/Math.pow(l,2)+Math.pow(A,2)/Math.pow(f,2);w>1&&(l*=Math.sqrt(w),f*=Math.sqrt(w));var T=function(t,r,n,a,o,s,u,c,l,f,h,d){var p=Math.pow(o,2),v=Math.pow(s,2),y=Math.pow(h,2),g=Math.pow(d,2),m=p*v-p*g-v*y;m<0&&(m=0),m/=p*g+v*y;var x=(m=Math.sqrt(m)*(u===c?-1:1))*o/s*d,b=m*-s/o*h,M=f*x-l*b+(t+n)/2,A=l*x+f*b+(r+a)/2,w=(h-x)/o,T=(d-b)/s,k=(-h-x)/o,S=(-d-b)/s,_=i(1,0,w,T),R=i(w,T,k,S);return 0===c&&R>0&&(R-=e),1===c&&R<0&&(R+=e),[M,A,_,R]}(o,s,u,c,l,f,v,g,x,b,M,A),k=t(T,4),S=k[0],_=k[1],R=k[2],E=k[3],C=Math.max(Math.ceil(Math.abs(E)/(e/4)),1);E/=C;for(var O=0;O<C;O++)m.push(n(R,E)),R+=E;return m.map((function(t){var e=r(t[0],l,f,b,x,S,_),n=e.x,i=e.y,a=r(t[1],l,f,b,x,S,_),o=a.x,s=a.y,u=r(t[2],l,f,b,x,S,_);return{x1:n,y1:i,x2:o,y2:s,x:u.x,y:u.y}}))},o={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=/([astvzqmhlc])([^astvzqmhlc]*)/gi,u=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function c(t){var e=t[0][0],r=t[0][1],n=e,i=r;return t.forEach((function(t){var a=t[0],o=t[2],s=t[4],u=t[6],c=t[1],l=t[3],f=t[5],h=t[7];e=Math.min(e,a,o,s,u),r=Math.min(r,c,l,f,h),n=Math.max(n,a,o,s,u),i=Math.max(i,c,l,f,h)})),[e,r,n,i]}function l(t,e){var r=function(t){for(var e=[],r=0;r<t;r++){for(var n=[],i=0;i<t;i++){var a=i+r;a>t-1&&(a-=t),n[a]=i}e.push(n)}return e}(t.length),n=[];r.forEach((function(r){var i=0,a=0;r.forEach((function(r){var n,o,s,u,c,l,f,h,d,p,v,y,g,m,x,b,M,A;i+=(n=t[r],o=e[a++],s=n[0],u=n[2],c=n[4],l=n[6],f=n[1],h=n[3],d=n[5],p=n[7],v=o[0],y=o[2],g=o[4],m=o[6],x=o[1],b=o[3],M=o[5],A=o[7],Math.sqrt(Math.pow(v-s,2)+Math.pow(x-f,2))+Math.sqrt(Math.pow(y-u,2)+Math.pow(b-h,2))+Math.sqrt(Math.pow(g-c,2)+Math.pow(M-d,2))+Math.sqrt(Math.pow(m-l,2)+Math.pow(A-p,2)))})),n.push({index:r,distance:i})})),n.sort((function(t,e){return t.distance-e.distance}));var i=[];return n[0].index.forEach((function(e){i.push(t[e])})),i}function f(t,e){var r=function(t){for(var e=[],r=0;r<t;r++)e.push(r);return n=[],i=[],function t(e){var r,a;for(r=0;r<e.length;r++)a=e.splice(r,1)[0],i.push(a),0==e.length&&n.push(i.slice()),t(e),e.splice(r,0,a),i.pop();return n}(e);var n,i}(t.length),n=[];r.forEach((function(r){var i=0;r.forEach((function(r){var n,a;i+=(n=c(t[r]),a=c(e[r]),Math.sqrt(Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2))+Math.sqrt(Math.pow(n[2]-a[2],2)+Math.pow(n[3]-a[3],2)))})),n.push({index:r,distance:i})})),n.sort((function(t,e){return t.distance-e.distance}));var i=[];return n[0].index.forEach((function(e){i.push(t[e])})),i}var h={};function d(t,e,r,n,i,a,o,s,u,c){var l=(r-t)*u+t,f=(n-e)*u+e,h=(i-r)*u+r,d=(a-n)*u+n,p=(h-l)*u+l,v=(d-f)*u+f,y=(((o-i)*u+i-h)*u+h-p)*u+p,g=(((s-a)*u+a-d)*u+d-v)*u+v;return c?[y,g,p,v,l,f,t,e]:[t,e,l,f,p,v,y,g]}function p(t,e){for(var r=function(e){var r=t[t.length-1],n=[];r.forEach((function(t){n.push(t.slice(0))})),t.push(n)},n=0;n<e;n++)r()}return h.parser=function(t){var e=[];return t.replace(s,(function(t,r,n){var i=r.toLowerCase();for(n=function(t){var e=t.match(u);return e?e.map(Number):[]}(n),"m"==i&&n.length>2&&(e.push([r].concat(n.splice(0,2))),i="l",r="m"==r?"l":"L");;){if(n.length==o[i])return n.unshift(r),e.push(n);if(n.length<o[i])throw new Error("malformed path data");e.push([r].concat(n.splice(0,o[i])))}})),e},h.lerpCurve=function(t,e,r){return h.lerpPoints(t[0],t[1],e[0],e[1],r).concat(h.lerpPoints(t[2],t[3],e[2],e[3],r)).concat(h.lerpPoints(t[4],t[5],e[4],e[5],r)).concat(h.lerpPoints(t[6],t[7],e[6],e[7],r))},h.lerpPoints=function(t,e,r,n,i){return[t+(r-t)*i,e+(n-e)*i]},h.q2b=function(t,e,r,n,i,a){return[t,e,(t+2*r)/3,(e+2*n)/3,(i+2*r)/3,(a+2*n)/3,i,a]},h.path2shapes=function(t){for(var e=h.parser(t),r=0,n=0,i=0,o=e.length,s=[],u=null,c=void 0,l=void 0,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0;i<o;i++){var g=e[i],m=g[0],x=e[i-1];switch(m){case"m":s[p=s.length]=[],u=s[p],r+=g[1],n+=g[2];break;case"M":s[p=s.length]=[],u=s[p],r=g[1],n=g[2];break;case"l":u.push([r,n,r,n,r,n,r+g[1],n+g[2]]),r+=g[1],n+=g[2];break;case"L":u.push([r,n,g[1],g[2],g[1],g[2],g[1],g[2]]),r=g[1],n=g[2];break;case"h":u.push([r,n,r,n,r,n,r+g[1],n]),r+=g[1];break;case"H":u.push([r,n,g[1],n,g[1],n,g[1],n]),r=g[1];break;case"v":u.push([r,n,r,n,r,n,r,n+g[1]]),n+=g[1];break;case"V":u.push([r,n,r,g[1],r,g[1],r,g[1]]),n=g[1];break;case"C":u.push([r,n,g[1],g[2],g[3],g[4],g[5],g[6]]),r=g[5],n=g[6];break;case"S":"C"===x[0]||"c"===x[0]?u.push([r,n,r+x[5]-x[3],n+x[6]-x[4],g[1],g[2],g[3],g[4]]):"S"!==x[0]&&"s"!==x[0]||u.push([r,n,r+x[3]-x[1],n+x[4]-x[2],g[1],g[2],g[3],g[4]]),r=g[3],n=g[4];break;case"c":u.push([r,n,r+g[1],n+g[2],r+g[3],n+g[4],r+g[5],n+g[6]]),r+=g[5],n+=g[6];break;case"s":"C"===x[0]||"c"===x[0]?u.push([r,n,r+x[5]-x[3],n+x[6]-x[4],r+g[1],n+g[2],r+g[3],n+g[4]]):"S"!==x[0]&&"s"!==x[0]||u.push([r,n,r+x[3]-x[1],n+x[4]-x[2],r+g[1],n+g[2],r+g[3],n+g[4]]),r+=g[3],n+=g[4];break;case"a":y=(v=a({rx:g[1],ry:g[2],px:r,py:n,xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5],cx:r+g[6],cy:n+g[7]}))[v.length-1],v.forEach((function(t,e){0===e?u.push([r,n,t.x1,t.y1,t.x2,t.y2,t.x,t.y]):u.push([v[e-1].x,v[e-1].y,t.x1,t.y1,t.x2,t.y2,t.x,t.y])})),r=y.x,n=y.y;break;case"A":y=(v=a({rx:g[1],ry:g[2],px:r,py:n,xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5],cx:g[6],cy:g[7]}))[v.length-1],v.forEach((function(t,e){0===e?u.push([r,n,t.x1,t.y1,t.x2,t.y2,t.x,t.y]):u.push([v[e-1].x,v[e-1].y,t.x1,t.y1,t.x2,t.y2,t.x,t.y])})),r=y.x,n=y.y;break;case"Q":u.push(h.q2b(r,n,g[1],g[2],g[3],g[4])),r=g[3],n=g[4];break;case"q":u.push(h.q2b(r,n,r+g[1],n+g[2],g[3]+r,g[4]+n)),r+=g[3],n+=g[4];break;case"T":"Q"===x[0]||"q"===x[0]?(f=r+x[3]-x[1],d=n+x[4]-x[2],u.push(h.q2b(r,n,f,d,g[1],g[2]))):"T"!==x[0]&&"t"!==x[0]||(u.push(h.q2b(r,n,r+r-f,n+n-d,g[1],g[2])),f=r+r-f,d=n+n-d),r=g[1],n=g[2];break;case"t":"Q"===x[0]||"q"===x[0]?(f=r+x[3]-x[1],d=n+x[4]-x[2],u.push(h.q2b(r,n,f,d,r+g[1],n+g[2]))):"T"!==x[0]&&"t"!==x[0]||(u.push(h.q2b(r,n,r+r-f,n+n-d,r+g[1],n+g[2])),f=r+r-f,d=n+n-d),r+=g[1],n+=g[2];break;case"Z":case"z":c=u[0][0],l=u[0][1],u.push([r,n,c,l,c,l,c,l])}}return s},h._upCurves=function(t,e){for(var r=0,n=0,i=t.length;r<e;r++)t.push(t[n].slice(0)),++n>i-1&&(n-=i)},h._splitCurves=function(t,e){for(var r,n,i,a,o,s,u,c,l,f=0,h=0;f<e;f++){var p=t[h],v=(r=p[0],n=p[1],i=p[2],a=p[3],o=p[4],s=p[5],u=p[6],c=p[7],{left:d(r,n,i,a,o,s,u,c,l=.5),right:d(u,c,o,s,i,a,r,n,1-l,!0)});t.splice(h,1),t.splice(h,0,v.left,v.right),(h+=2)>=t.length-1&&(h=0)}},h.lerp=function(t,e,r){return h._lerp(h.path2shapes(t),h.path2shapes(e),r)},h.MIM_CURVES_COUNT=100,h._preprocessing=function(t,e){var r=t.length,n=e.length,i=JSON.parse(JSON.stringify(t)),a=JSON.parse(JSON.stringify(e));return r>n?p(a,r-n):r<n&&p(i,n-r),(i=f(i,a)).forEach((function(t,e){var r=t.length,n=a[e].length;r>n?r<h.MIM_CURVES_COUNT?(h._splitCurves(t,h.MIM_CURVES_COUNT-r),h._splitCurves(a[e],h.MIM_CURVES_COUNT-n)):h._splitCurves(a[e],r-n):r<n&&(n<h.MIM_CURVES_COUNT?(h._splitCurves(t,h.MIM_CURVES_COUNT-r),h._splitCurves(a[e],h.MIM_CURVES_COUNT-n)):h._splitCurves(t,n-r))})),i.forEach((function(t,e){i[e]=l(t,a[e])})),[i,a]},h._lerp=function(t,e,r){var n=[];return t.forEach((function(t,i){var a=[];t.forEach((function(t,n){a.push(h.lerpCurve(t,e[i][n],r))})),n.push(a)})),n},h.animate=function(t){var e=h.path2shapes(t.from),r=h.path2shapes(t.to),n=h._preprocessing(e,r),i=new Date,a=t.end||function(){},o=t.progress||function(){},s=t.begin||function(){},u=t.easing||function(t){return t},c=null,l=null,f=t.time;s(e),function t(){var e=new Date-i;if(e>=f)return o(l=r,1),a(l),void cancelAnimationFrame(c);var s=u(e/f);l=h._lerp(n[0],n[1],s),o(l,s),c=requestAnimationFrame(t)}()},h},"object"===("undefined"==typeof exports?"undefined":a()(exports))&&void 0!==t?t.exports=n():"function"==typeof define&&r(254)?define(n):e.pasition=n()}).call(this,r(48)(t))},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=!0},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(29).f,i=r(46),a=r(21)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(196)(!0);r(85)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})}))},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(40),i=r(121),a=r(122),o=r(38),s=r(69),u=r(93),c={},l={};(e=t.exports=function(t,e,r,f,h){var d,p,v,y,g=h?function(){return t}:u(t),m=n(r,f,e?2:1),x=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(a(g)){for(d=s(t.length);d>x;x++)if((y=e?m(o(p=t[x])[0],p[1]):m(t[x]))===c||y===l)return y}else for(v=g.call(t);!(p=v.next()).done;)if((y=i(v,m,p.value,e))===c||y===l)return y}).BREAK=c,e.RETURN=l},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),e.f={}.propertyIsEnumerable},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return O}));var n=r(4),i=r.n(n),a=r(5),o=r.n(a),s=r(6),u=r.n(s),c=r(9),l=r.n(c),f=r(8),h=r.n(f),d=r(7),p=r.n(d),v=r(1),y=r.n(v),g=r(10),m=r.n(g),x=r(13),b=r(42),M=r(43);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var i=y()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var w=function(t){h()(r,t);var e=A(r);function r(){return o()(this,r),e.apply(this,arguments)}return r}(M.a),T=r(12),k=r(25);function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var i=y()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var _=Symbol("zOrder"),R=Symbol("ordered"),E=Symbol("children"),C=Symbol("sealed"),O=function(t){h()(r,t);var e=S(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),(t=e.call(this,n))[E]=[],t[R]=null,t[_]=0,t}return u()(r,[{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.map((function(e){return t.appendChild(e)}))}},{key:"appendChild",value:function(t){return t.remove(),this[E].push(t),t.connect(this,this[_]++),this[R]&&(this[R].length&&t.zIndex<this[R][this[R].length-1].zIndex?this.reorder():this[R].push(t)),t}},{key:"cloneNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=l()(y()(r.prototype),"cloneNode",this).call(this);return t&&this[E].forEach((function(r){var n=r.cloneNode(t);e.appendChild(n)})),e}},{key:"dispatchPointerEvent",value:function(t){for(var e=this.orderedChildren,n=e.length-1;n>=0;n--){if(e[n].dispatchPointerEvent(t))return!0}return l()(y()(r.prototype),"dispatchPointerEvent",this).call(this,t)}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.__cacheRenderMatrix=this.renderMatrix,l()(y()(r.prototype),"draw",this).call(this,t),!this[C]&&"none"!==this.attributes.display)for(var e=this.orderedChildren,n=0;n<e.length;n++){var i=e[n];i.draw(t)}return this.__cacheRenderMatrix=null,t}},{key:"getElementById",value:function(t){return Object(k.a)("#".concat(t),this)}},{key:"getElementsByClassName",value:function(t){return Object(k.b)(".".concat(t),this)}},{key:"getElementsByName",value:function(t){return Object(k.b)('[name="'.concat(t,'"]'),this)}},{key:"getElementsByTagName",value:function(t){return Object(k.b)(t,this)}},{key:"insertBefore",value:function(t,e){if(null==e)return this.appendChild(t);t.remove();var r=this[E].indexOf(e);if(r<0)throw new Error("Invalid reference node.");for(var n=e.zOrder,i=r;i<this[E].length;i++){var a=this[E][i].zOrder,o=this[E][i];delete o.zOrder,Object.defineProperty(o,"zOrder",{value:a+1,writable:!1,configurable:!0})}if(this[E].splice(r,0,t),t.connect(this,n),this[R])if(t.zIndex!==e.zIndex)this.reorder();else{var s=this[R].indexOf(e);this[R].splice(s,0,t)}return t}},{key:"querySelector",value:function(t){return Object(k.a)(t,this)}},{key:"querySelectorAll",value:function(t){return Object(k.b)(t,this)}},{key:"replaceChild",value:function(t,e){t.remove();var r=this[E].indexOf(e);if(r<0)throw new Error("Invalid reference node.");if(this[E][r]=t,t.connect(this,e.zOrder),this[R])if(t.zIndex!==e.zIndex)this.reorder();else{var n=this[R].indexOf(e);this[R][n]=t}return e.disconnect(this),t}},{key:"removeAllChildren",value:function(){for(var t=this[E],e=t.length-1;e>=0;e--)t[e].remove()}},{key:"removeChild",value:function(t){var e=this[E].indexOf(t);if(e>=0){if(this[E].splice(e,1),this[R]){var r=this[R].indexOf(t);this[R].splice(r,1)}return t.disconnect(this),t}return null}},{key:"reorder",value:function(){this[R]=null}},{key:"seal",value:function(){function t(t,e){for(var r=[],n=0;n<t.length;n++){for(var a=i()(t[n]),o=1;o<a.length;o+=2){var s=a[o],u=a[o+1];a[o]=s*e[0]+u*e[2]+e[4],a[o+1]=s*e[1]+u*e[3]+e[5]}r.push(a)}return r}for(var e=this.orderedChildren,n=new x.b,a=this.localMatrix,o=0;o<e.length;o++){var s=e[o];if(s instanceof r&&(s=s.seal()),s.clientBox){var u=s.clientBox.contours.path;u=t(u,s.localMatrix),n.addPath(u)}if(s.path){var c=s.path.contours.path;c=t(c,s.localMatrix),n.addPath(c)}}return this[C]=!0,this.clientBox=n,{clientBox:n,localMatrix:a}}},{key:"setResolution",value:function(t){var e=t.width,n=t.height;l()(y()(r.prototype),"setResolution",this).call(this,{width:e,height:n}),this[E].forEach((function(t){t.setResolution({width:e,height:n})}))}},{key:"updateContours",value:function(){this[C]||l()(y()(r.prototype),"updateContours",this).call(this)}},{key:"childNodes",get:function(){return this[E]}},{key:"children",get:function(){return this[E]}},{key:"orderedChildren",get:function(){return this[R]||(this[R]=i()(this[E]),this[R].sort((function(t,e){return t.zIndex-e.zIndex||t.zOrder-e.zOrder}))),this[R]}}]),r}(b.a);m()(O,"Attr",w),T.a.registerNode(O,"group")},function(t,e,r){"use strict";r.d(e,"a",(function(){return j}));var n=r(53),i=r.n(n),a=r(2),o=r.n(a),s=r(5),u=r.n(s),c=r(6),l=r.n(c),f=r(9),h=r.n(f),d=r(8),p=r.n(d),v=r(7),y=r.n(v),g=r(1),m=r.n(g),x=r(13),b=r(24),M=r(19),A=r(65),w=r(12),T=r(22);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m()(t);if(e){var i=m()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var S={antialias:!0,autoRender:!0,alpha:!0},_=Symbol("autoRender"),R=Symbol("renderer"),E=Symbol("timeline"),C=Symbol("prepareRender"),O=Symbol("tickRender"),L=Symbol("pass"),D=Symbol("fbo"),P=Symbol("tickers"),j=function(t){p()(r,t);var e=k(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(u()(this,r),t=e.call(this),!n.canvas){var i=t.getResolution(),a=i.width,o=i.height,s=x.a.createCanvas(a,o,{offscreen:!!n.offscreen,id:n.id,extra:n.extra});s.style&&(s.style.position="absolute"),s.dataset&&(s.dataset.layerId=n.id),s.contextType&&(n.contextType=s.contextType),n.canvas=s}var c=n.canvas,l=Object.assign({},S,n);t[_]=l.autoRender,delete n.autoRender;var f=l.Renderer||x.e;if(t[R]=new f(c,l),c.__gl__){var h=c.__gl__;h.blendFunc(h.ONE,h.ONE_MINUS_SRC_ALPHA)}return t.options=n,t.id=n.id,t[L]=[],t.setResolution(c),t.canvas=c,t[E]=new b.Timeline,t.__mouseCapturedTarget=null,t}return l()(r,[{key:"addPass",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vertex,r=t.fragment,n=t.options,i=t.uniforms;if(this.renderer.glRenderer){var a=this.getResolution(),o=a.width,s=a.height,u=this.renderer.createPassProgram({vertex:e,fragment:r,options:n}),c=new x.b;c.rect(0,0,o/this.displayRatio,s/this.displayRatio);var l=new x.c(c);return l.setUniforms(i),l.setProgram(u),this[L].push(l),this.forceUpdate(),l}return null}},{key:"deleteTexture",value:function(t){return Object(T.c)(t,this.renderer)}},{key:"dispatchPointerEvent",value:function(t){var e=t.type;if("mousedown"===e||"mouseup"===e||"mousemove"===e){var n=this.__mouseCapturedTarget;if(n){if(n.layer===this)return n.dispatchEvent(t),!0;this.__mouseCapturedTarget=null}}return h()(m()(r.prototype),"dispatchPointerEvent",this).call(this,t)}},{key:"forceUpdate",value:function(){var t=this;if(!this[C])if(this.parent&&this.parent.hasOffscreenCanvas){this.parent.forceUpdate();var e=null,r=new Promise((function(t){e=t}));r._resolve=e,this[C]=r}else{var n=null,i=null,a=new Promise((function(e){n=e,t[_]&&(i=Object(M.b)((function(){delete a._requestID,t.render()})))}));a._resolve=n,a._requestID=i,this[C]=a}}},{key:"getFBO",value:function(){var t=this.renderer.glRenderer,e=this.getResolution(),r=e.width,n=e.height;return!t||this[D]&&this[D].width===r&&this[D].height===n?this[D]?this[D]:null:(this[D]={width:r,height:n,target:t.createFBO(),buffer:t.createFBO(),swap:function(){var t=[this.buffer,this.target];this.target=t[0],this.buffer=t[1]}},this[D])}},{key:"onPropertyChange",value:function(t,e,n){h()(m()(r.prototype),"onPropertyChange",this).call(this,t,e,n),"zIndex"===t&&(this.canvas.style.zIndex=e)}},{key:"_prepareRenderFinished",value:function(){this[C]&&(this[C]._requestID&&Object(M.a)(this[C]._requestID),this[C]._resolve(),delete this[C])}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.clear,n=void 0===r||r,i=this[L].length?this.getFBO():null;i&&this.renderer.glRenderer.bindFBO(i.target),n&&this[R].clear();var a=this.draw();if(a&&a.length&&(this.renderer.drawMeshes(a),this.canvas.draw&&this.canvas.draw()),i){var o=this.renderer.glRenderer,s=this[L].length,u=this.getResolution(),c=u.width,l=u.height,f=[0,0,c/this.displayRatio,l/this.displayRatio];this[L].forEach((function(e,r){e.blend=!0,e.setTexture(i.target.texture,{rect:f}),r===s-1?o.bindFBO(null):(i.swap(),o.bindFBO(i.target)),t[R].clear(),t.renderer.drawMeshes([e])}))}this._prepareRenderFinished()}},{key:"setResolution",value:function(t){var e=this,n=t.width,i=t.height,a=this.renderer,s=a.globalTransformMatrix,u=s[4],c=s[5],l=s[0],f=this.getResolution(),d=f.width,p=f.height;d===n&&p===i||(h()(m()(r.prototype),"setResolution",this).call(this,{width:n,height:i}),this.canvas&&(this.canvas.width=n,this.canvas.height=i,a.updateResolution&&a.updateResolution()),this.attributes.size=[n,i],this[L].length&&this[L].forEach((function(t){var r=new x.b;r.rect(0,0,n/e.displayRatio,i/e.displayRatio),t.contours=r.contours})));var v=o()(this.renderOffset,2),y=v[0],g=v[1],b=this.displayRatio;u===y&&c===g&&l===b||(a.setGlobalTransform(b,0,0,b,y,g),this.forceUpdate())}},{key:"tick",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.duration,a=void 0===n?1/0:n,o=i()(r,["duration"]),s=this.timeline.fork(o),u=this;this[P]=this[P]||[],this[P].push({handler:e,duration:a});var c=function e(){var r=null,n=null,i=function(){var r=t[P].map((function(t){var e=t.handler,r=t.duration,n=Math.min(1,s.currentTime/r);return{value:e?e(s.currentTime,n):null,p:n}}));u[_]&&!u[O]&&(u[O]=Promise.resolve().then((function(){u.render(),delete u[O];for(var n=r.length-1;n>=0;n--){var i=r[n],a=i.value,o=i.p;(!1===a||o>=1)&&t[P].splice(n,1)}t[P].length>0&&e()})))};if(t[C]&&"ticker"!==t[C]._type&&(Object(M.a)(t[C]._requestID),delete t[C]),!t[C]){var a=new Promise((function(t){r=t,n=Object(M.b)(i)}));a._resolve=r,a._requestID=n,a._type="ticker",t[C]=a}};c()}},{key:"toGlobalPos",value:function(t,e){var r=this.getResolution(),n=r.width,i=r.height,a=this.renderOffset,o=[this.canvas.clientWidth,this.canvas.clientHeight];t=t*o[0]/n+a[0],e=e*o[1]/i+a[1];var s=this.displayRatio;return[t*s,e*s]}},{key:"toLocalPos",value:function(t,e){var r=this.getResolution(),n=r.width,i=r.height,a=this.renderOffset,o=[this.canvas.clientWidth,this.canvas.clientHeight];t=t*n/o[0]-a[0],e=e*i/o[1]-a[1];var s=this.displayRatio;return[t/s,e/s]}},{key:"autoRender",get:function(){return this[_]}},{key:"displayRatio",get:function(){return this.parent&&this.parent.options?this.parent.options.displayRatio:1}},{key:"height",get:function(){return this.getResolution().height/this.displayRatio}},{key:"gl",get:function(){return this.renderer.glRenderer?this.renderer.glRenderer.gl:null}},{key:"layer",get:function(){return this}},{key:"offscreen",get:function(){return!!this.options.offscreen||this.canvas._offscreen}},{key:"pass",get:function(){return this[L]}},{key:"prepareRender",get:function(){return this[C]?this[C]:Promise.resolve()}},{key:"renderer",get:function(){return this[R]}},{key:"renderOffset",get:function(){if(this.parent&&this.parent.options){var t=this.parent.options;return[t.left,t.top]}return[0|this.options.left,0|this.options.top]}},{key:"timeline",get:function(){return this[E]}},{key:"width",get:function(){return this.getResolution().width/this.displayRatio}}]),r}(A.a);w.a.registerNode(j,"layer")},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){var e=t.length;if(0===e)return[[],[]];for(var r=t[0].length,n=t[0].slice(),i=t[0].slice(),a=1;a<e;++a)for(var o=t[a],s=0;s<r;++s){var u=o[s];n[s]=Math.min(n[s],u),i[s]=Math.max(i[s],u)}return[n,i]}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(189);for(var n=r(20),i=r(41),a=r(49),o=r(21)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=n[c],f=l&&l.prototype;f&&!f[o]&&i(f,o,c),a[c]=a.Array}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(89),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(56),i=r(21)("toStringTag"),a="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:a?n(e):"Object"==(o=n(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,r){"use strict";r.d(e,"a",(function(){return k}));var n=r(2),i=r.n(n),a=r(5),o=r.n(a),s=r(6),u=r.n(s),c=r(9),l=r.n(c),f=r(8),h=r.n(f),d=r(7),p=r.n(d),v=r(1),y=r.n(v),g=r(10),m=r.n(g),x=r(22),b=r(42),M=r(76),A=r(12);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var i=y()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var T=Symbol("textureTask"),k=function(t){h()(r,t);var e=w(r);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),"string"==typeof t&&(t={texture:t}),e.call(this,t)}return u()(r,[{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];l()(y()(r.prototype),"draw",this).call(this,t);var e=this.mesh;return e&&Object(x.d)(this,e),t}},{key:"onPropertyChange",value:function(t,e,n){if(l()(y()(r.prototype),"onPropertyChange",this).call(this,t,e,n),"texture"===t&&(this[T]=Object(x.a)(this,e,!0)),"textureRect"===t){var i=this.attributes,a=i.width,o=i.height;null!=a&&null!=o||this.updateContours()}}},{key:"contentSize",get:function(){var t=l()(y()(r.prototype),"contentSize",this),e=i()(t,2),n=e[0],a=e[1],o=this.attributes,s=o.width,u=o.height;if(null==s||null==u){var c=this.textureImage,f=this.attributes.textureRect,h=this.attributes.sourceRect;if(f)null==s&&(n=f[0]+f[2]),null==u&&(a=f[1]+f[3]);else if(h){var d=this.layer?this.layer.displayRatio:1;null==s&&(n=h[2]/d),null==u&&(a=h[3]/d)}else if(c){var p=this.layer?this.layer.displayRatio:1;null==s&&(n=c.width/p),null==u&&(a=c.height/p)}}return[n,a]}},{key:"textureImageReady",get:function(){return this[T]||Promise.resolve()}}]),r}(b.a);m()(k,"Attr",M.a),A.a.registerNode(k,"sprite")},function(t,e,r){"use strict";r.d(e,"a",(function(){return M}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a),s=r(9),u=r.n(s),c=r(8),l=r.n(c),f=r(7),h=r.n(f),d=r(1),p=r.n(d),v=r(10),y=r.n(v),g=r(32),m=r(12),x=r(77);function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var M=function(t){l()(r,t);var e=b(r);function r(){return i()(this,r),e.apply(this,arguments)}return o()(r,[{key:"isVisible",get:function(){var t=this.attributes,e=t.radiusX,n=t.radiusY,i=t.startAngle,a=t.endAngle;return e>0&&n>0&&i!==a&&u()(p()(r.prototype),"isVisible",this)}}]),r}(g.a);y()(M,"Attr",x.a),m.a.registerNode(M,"ellipse")},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(171),i=r(11),a=r(173);function o(t,e,r){return t[0]=e,t[1]=r,t}var s=[0,0],u=[0,0],c=[0,0];t.exports=function(t,e,r){var l=[],f=[],h=[0,0];return t.forEach((function(t,r,a){if("M"===t[0])i.copy(h,t.slice(1)),f.length>0&&(l.push(f),f=[]);else{if("C"!==t[0])throw new Error("illegal type in SVG: "+t[0]);!function(t,e,r,i){n(r,o(s,i[1],i[2]),o(u,i[3],i[4]),o(c,i[5],i[6]),e,t)}(f,e,h,t),o(h,t[5],t[6])}})),f.length>0&&l.push(f),l.map((function(t){return a(t,r||0)}))}},function(t,e,r){"use strict";var n=r(2),i=r.n(n);r(0).glMatrix.setMatrixArrayType(Array),e.a=function(t,e){if(!t)return{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0};var r=i()(t,2),n=i()(r[0],2),a=n[0],o=n[1],s=i()(r[1],2),u=s[0],c=s[1],l=a*e[0]+o*e[2]+e[4],f=a*e[1]+o*e[3]+e[5],h=u*e[0]+o*e[2]+e[4],d=u*e[1]+o*e[3]+e[5],p=u*e[0]+c*e[2]+e[4],v=u*e[1]+c*e[3]+e[5],y=a*e[0]+c*e[2]+e[4],g=a*e[1]+c*e[3]+e[5],m=Math.min(l,h,p,y),x=Math.min(f,d,v,g),b=Math.max(l,h,p,y),M=Math.max(f,d,v,g);return{x:m,y:x,width:b-m,height:M-x,left:m,top:x,right:b,bottom:M}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a),s=r(8),u=r.n(s),c=r(7),l=r.n(c),f=r(1),h=r.n(f),d=r(43);function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var v=Symbol.for("spritejs_setAttributeDefault"),y=Symbol.for("spritejs_setAttribute"),g=Symbol.for("spritejs_getAttribute"),m=function(t){u()(r,t);var e=p(r);function r(t){var n;return i()(this,r),(n=e.call(this,t))[v]({texture:void 0,textureRect:void 0,textureRepeat:!1,sourceRect:void 0}),n}return o()(r,[{key:"texture",get:function(){return this[g]("texture")},set:function(t){this[y]("texture",t)}},{key:"textureRect",get:function(){return this[g]("textureRect")},set:function(t){this[y]("textureRect",t)}},{key:"sourceRect",get:function(){return this[g]("sourceRect")},set:function(t){this[y]("sourceRect",t)}},{key:"textureRepeat",get:function(){return this[g]("textureRepeat")},set:function(t){this[y]("textureRepeat",!!t)}}]),r}(d.a)},function(t,e,r){"use strict";r.d(e,"a",(function(){return A}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a),s=r(8),u=r.n(s),c=r(7),l=r.n(c),f=r(1),h=r.n(f),d=r(13),p=r(35),v=r(3);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var g=Symbol.for("spritejs_setAttributeDefault"),m=Symbol.for("spritejs_setAttribute"),x=Symbol.for("spritejs_getAttribute"),b=Symbol.for("spritejs_declareAlias");function M(t){var e=t.radiusX,r=t.radiusY,n=t.startAngle,i=t.endAngle,a=t.direction,o=t.closeType,s="anitclockwise"===a,u=new d.b;return"sector"===o&&u.moveTo(0,0),u.ellipse(0,0,e,r,0,Math.PI*n/180,Math.PI*i/180,s),"none"!==o&&u.closePath(),u.path.reduce((function(t,e){return t+e.join(" ")}),"")}var A=function(t){u()(r,t);var e=y(r);function r(t){var n;return i()(this,r),(n=e.call(this,t))[g]({radiusX:0,radiusY:0,startAngle:0,endAngle:360,direction:"clockwise",closeType:"none"}),n[b]("radius","angle"),n}return o()(r,[{key:"d",get:function(){return this[x]("d")},set:function(t){}},{key:"radiusX",get:function(){return this[x]("radiusX")},set:function(t){if(t=Object(v.d)(t),this[m]("radiusX",t)){var e=M(this);this[m]("d",e)}}},{key:"radiusY",get:function(){return this[x]("radiusY")},set:function(t){if(t=Object(v.d)(t),this[m]("radiusY",t)){var e=M(this);this[m]("d",e)}}},{key:"radius",get:function(){return[this.radiusX,this.radiusY]},set:function(t){t=Object(v.c)(t,!0),Array.isArray(t)||(t=[t,t]),this.radiusX=t[0],this.radiusY=t[1]}},{key:"angle",get:function(){return[this.startAngle,this.endAngle]},set:function(t){t=Object(v.c)(t),Array.isArray(t)||(t=[t,t]),this.startAngle=t[0],this.endAngle=t[1]}},{key:"direction",get:function(){return this[x]("direction")},set:function(t){if(null!=t&&"clockwise"!==t&&"anticlockwise"!==t)throw new TypeError("Invalid direction type.");this[m]("direction",t)}},{key:"startAngle",get:function(){return this[x]("startAngle")},set:function(t){if(t=Object(v.d)(t),this[m]("startAngle",t)){var e=M(this);this[m]("d",e)}}},{key:"endAngle",get:function(){return this[x]("endAngle")},set:function(t){if(t=Object(v.d)(t),this[m]("endAngle",t)){var e=M(this);this[m]("d",e)}}},{key:"closeType",get:function(){return this[x]("closeType")},set:function(t){if(null!=t&&"none"!==t&&"sector"!==t&&"normal"!==t)throw new TypeError("Invalid closeType type.");if(this[m]("closeType",t)){var e=M(this);this[m]("d",e)}}}]),r}(p.a)},function(t,e,r){"use strict";var n=r(15),i=r.n(n),a=r(26),o=r.n(a),s=r(2),u=r.n(s),c=r(4),l=r.n(c),f=r(5),h=r.n(f),d=r(6),p=r.n(d),v=r(10),y=r.n(v),g=r(16),m=r.n(g);function x(t,e){var r=function(t,e){for(var r=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=null,i=0;i<r.length;++i){try{n=t.getContext(r[i],e)}catch(t){}if(n)break}return n}(t,e);if(!r)throw new Error("Sorry, your browser doesn't support WebGL.");return r}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Float32Array,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r&&!(r instanceof e))throw new TypeError("Wrong buffer type.");if(null==t)return t;if(t instanceof e)return t;if(null==t[0]||null==t[0].length)return r?(r.set(t,0),r):new e(t);var n=t[0].length,i=t.length;r||(r=new e(n*i));for(var a=0,o=0;o<i;o++)for(var s=0;s<n;s++)r[a++]=t[o][s];return r}r(0).glMatrix.setMatrixArrayType(Array);var M={};var A={};function w(){return(w=o()(i.a.mark((function t(e){var r,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!A[e]){t.next=2;break}return t.abrupt("return",A[e]);case 2:return t.next=4,fetch(e);case 4:if(!((r=t.sent).status>=200&&r.status<300)){t.next=11;break}return t.next=8,r.text();case 8:return n=t.sent,A[e]=n,t.abrupt("return",n);case 11:throw new Error("Shader loaded error.");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var T="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvoid main() {\n  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.1);\n}";r(0).glMatrix.setMatrixArrayType(Array);var k={};function S(t,e,r){return t.activeTexture(t.TEXTURE0+r),Array.isArray(e._img)?t.bindTexture(t.TEXTURE_CUBE_MAP,e):t.bindTexture(t.TEXTURE_2D,e),e}var _={int:"1i",ivec2:"2i",ivec3:"3i",ivec4:"4i",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",mat2:"Matrix2fv",mat3:"Matrix3fv",mat4:"Matrix4fv",sampler1D:"sampler1D",sampler2D:"sampler2D",sampler3D:"sampler3D",samplerCube:"samplerCube",sampler1DShadow:"sampler1DShadow",sampler2DShadow:"sampler2DShadow",sampler2DRect:"sampler2DRect",sampler2DRectShadow:"sampler2DRectShadow"},R=function(){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h()(this,t),this.options=Object.assign({},t.defaultOptions,n),this.canvas=e,this.options.webgl2&&(r=e.getContext("webgl2",this.options)),null==r&&(r=x(e,this.options),this.aia_ext=r.getExtension("ANGLE_instanced_arrays")),this.gl=r,r.viewport(0,0,e.width,e.height),r.clearColor(0,0,0,0),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA),this.programs=[],this._events={}}var e,r,n;return p()(t,null,[{key:"addLibs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(k,t)}},{key:"FLOAT",value:function(t,e){return b(t,Float32Array,e)}},{key:"UNSIGNED_BYTE",value:function(t,e){return b(t,Uint8Array,e)}},{key:"UNSIGNED_SHORT",value:function(t,e){return b(t,Uint16Array,e)}},{key:"BYTE",value:function(t,e){return b(t,Int8Array,e)}},{key:"SHORT",value:function(t,e){return b(t,Int16Array,e)}}]),p()(t,[{key:"_declareUniform",value:function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1f",i=this.gl,a=i.getUniformLocation(t,e),o=this;if(/^sampler/.test(n)){var s=t._samplerMap,u=t._bindTextures;Object.defineProperty(t.uniforms,e,{get:function(){return r},set:function(t){r=t;var n=null!=s[e]?s[e]:u.length;u[n]=t,S(i,t,n),s[e]||(s[e]=n,i.uniform1i(a,n)),o.options.autoUpdate&&o.update()},configurable:!1,enumerable:!0})}else{var c=0===n.indexOf("Matrix"),f=!c&&/v$/.test(n),h=i["uniform".concat(n)].bind(i);Object.defineProperty(t.uniforms,e,{get:function(){return r},set:function(t){r=t,"number"==typeof t&&(t=[t]),c?h(a,!1,t):f?h(a,t):h.apply(void 0,[a].concat(l()(t))),o.options.autoUpdate&&o.update()},configurable:!1,enumerable:!0})}}},{key:"_draw",value:function(){var e=this,r=this.program;r.meshData.forEach((function(n,i){var a=n.positions,o=n.cells,s=n.instanceCount,c=n.cellsCount,l=n.attributes,f=n.uniforms,h=n.textureCoord,d=n.enableBlend,p=e.gl;d?p.enable(p.BLEND):p.disable(p.BLEND),p.bindBuffer(p.ARRAY_BUFFER,r._buffers.verticesBuffer),p.bufferData(p.ARRAY_BUFFER,a,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,r._buffers.cellsBuffer),p.bufferData(p.ELEMENT_ARRAY_BUFFER,o,p.STATIC_DRAW);var v=[];if(l&&Object.values(l).forEach((function(t){var n=t.name,i=t.data,a=t.divisor;if(p.bindBuffer(p.ARRAY_BUFFER,r._buffers[n]),p.bufferData(p.ARRAY_BUFFER,i,p.STATIC_DRAW),null!=a){var o=p.getAttribLocation(r,n);o>=0&&(p.enableVertexAttribArray(o),v.push(o),p.vertexAttribDivisor?p.vertexAttribDivisor(o,a):e.aia_ext&&e.aia_ext.vertexAttribDivisorANGLE(o,a))}})),f&&Object.entries(f).forEach((function(t){var r=u()(t,2),n=r[0],i=r[1];e.uniforms[n]=i})),r._enableTextures&&r._buffers.texCoordBuffer){var y=h||function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=[],n=t.length,i=0;i<n;i++)i%e<2&&r.push(.5*(t[i]+1));return r}(a,r._dimension);p.bindBuffer(p.ARRAY_BUFFER,r._buffers.texCoordBuffer),p.bufferData(p.ARRAY_BUFFER,t.FLOAT(y),p.STATIC_DRAW)}null!=s?(p.drawElementsInstanced?p.drawElementsInstanced(p.TRIANGLES,c,p.UNSIGNED_SHORT,0,s):e.aia_ext&&e.aia_ext.drawElementsInstancedANGLE(p.TRIANGLES,c,p.UNSIGNED_SHORT,0,s),v.forEach((function(t){p.vertexAttribDivisor(t,null)}))):p.drawElements(p.TRIANGLES,c,p.UNSIGNED_SHORT,0)}))}},{key:"deleteProgram",value:function(t){var e=this.gl;this.program===t&&(this.startRender=!1,this._renderFrameID&&(cancelAnimationFrame(this._renderFrameID),delete this._renderFrameID),e.useProgram(null));var r=this.programs.indexOf(t);r>=0&&this.programs.splice(r,1),function(t,e){var r=e._buffers;Object.values(r).forEach((function(e){t.deleteBuffer(e)})),e._buffers={}}(e,t),e.deleteProgram(t)}},{key:"setMeshData",value:function(e){var r=this;Array.isArray(e)||(e=[e]);var n=this.program;n.meshData=e.map((function(e){var i=e.positions,a=e.instanceCount,o=e.cells,s=e.cellsCount,c=e.attributes,l=e.uniforms,f=e.textureCoord,h=e.enableBlend,d={positions:t.FLOAT(i),cells:t.USHORT(o),uniforms:l,enableBlend:!!h,textureCoord:t.FLOAT(f)};if(d.cellsCount=s||d.cells.length,null!=a){if(!r.isWebGL2&&!r.aia_ext)throw new Error("Cannot use instanceCount in this rendering context, use webgl2 context instead.");d.instanceCount=a}if(c){var p={};Object.entries(c).forEach((function(e){var i=u()(e,2),a=i[0],o=i[1];if(n._attribute[a]){if("ignored"!==n._attribute[a]){var s=n._attribute[a],c=s.name,l=s.type,f=o.data||o;if(Array.isArray(f)&&(f=t[l](f)),p[a]={name:c,data:f},null!=o.divisor){if(!r.isWebGL2&&!r.aia_ext)throw new Error("Cannot use divisor in this rendering context, use webgl2 context instead.");p[a].divisor=o.divisor}}}else n._attribute[a]="ignored"})),d.attributes=p}return d})),this.options.autoUpdate&&this.update()}},{key:"createProgram",value:function(t,e){var r=this,n=/^\s*uniform\s+sampler/gm.test(t);null==t&&(t=T),null==e&&(e=n?"attribute vec4 a_vertexPosition;\nattribute vec2 a_vertexTextureCoord;\nvarying vec2 vTextureCoord;\n\nvoid main() {\n  gl_PointSize = 1.0;\n  gl_Position = a_vertexPosition;\n  vTextureCoord = a_vertexTextureCoord;\n}":"attribute vec3 a_vertexPosition;\n\nvoid main() {\n  gl_PointSize = 1.0;\n  gl_Position = vec4(a_vertexPosition, 1);\n}");var i=this.gl,a=function(t,e,r){var n=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var i="Vertex shader failed to compile.  The error log is:".concat(t.getShaderInfoLog(n));throw new Error(i)}var a=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(a,r),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS)){var o="Fragment shader failed to compile.  The error log is:".concat(t.getShaderInfoLog(a));throw new Error(o)}var s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,a),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS)){var u="Shader program failed to link.  The error log is:".concat(t.getProgramInfoLog(s));throw new Error(u)}return t.deleteShader(n),t.deleteShader(a),s}(i,e,t);a.shaderText={vertexShader:e,fragmentShader:t},a._buffers={},a._attribute={},a.uniforms={},a._samplerMap={},a._bindTextures=[];var o=new RegExp("(?:attribute|in) vec(\\d) ".concat(this.options.vertexPosition),"im"),s=e.match(o);s&&(a._dimension=Number(s[1]));var c=new RegExp("(?:attribute|in) vec(\\d) ".concat(this.options.vertexTextureCoord),"im");(s=e.match(c))&&(a._texCoordSize=Number(s[1]));if(s=e.match(/^\s*(?:attribute|in) (\w+?)(\d*) (\w+)/gim))for(var l=0;l<s.length;l++){var f=s[l].match(/^\s*(?:attribute|in) (\w+?)(\d*) (\w+)/im);if(f&&f[3]!==this.options.vertexPosition&&f[3]!==this.options.vertexTextureCoord){var h=u()(f,4),d=h[1],p=h[2],v=h[3];"mat"===d&&(p=Math.pow(p,2)),a._buffers[v]=i.createBuffer(),a._attribute[v]={name:v,type:d,size:Number(p)||1}}}var y=/^\s*uniform\s+(\w+)\s+(\w+)(\[\d+\])?/gm;(s=(s=e.match(y)||[]).concat(t.match(y)||[])).forEach((function(t){var e=t.match(/^\s*uniform\s+(\w+)\s+(\w+)(\[\d+\])?/).slice(1),n=u()(e,3),i=n[0],o=n[1],s=n[2];s=!!s,0!==(i=_[i]).indexOf("Matrix")&&s&&(i+="v"),r._declareUniform(a,o,i)})),a._buffers.verticesBuffer=i.createBuffer(),a._buffers.cellsBuffer=i.createBuffer();var g=i.getAttribLocation(a,this.options.vertexTextureCoord);return a._enableTextures=g>=0,a._enableTextures&&(a._buffers.texCoordBuffer=i.createBuffer()),this.programs.push(a),a}},{key:"useProgram",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.startRender=!1,this._renderFrameID&&(cancelAnimationFrame(this._renderFrameID),delete this._renderFrameID);var r=this.gl;r.useProgram(t);var n=t._dimension;r.bindBuffer(r.ARRAY_BUFFER,t._buffers.verticesBuffer);var i=r.getAttribLocation(t,this.options.vertexPosition);if(r.vertexAttribPointer(i,n,r.FLOAT,!1,0,0),r.enableVertexAttribArray(i),t._enableTextures){r.bindBuffer(r.ARRAY_BUFFER,t._buffers.texCoordBuffer);var a=r.getAttribLocation(t,this.options.vertexTextureCoord);r.vertexAttribPointer(a,t._texCoordSize||2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(a)}if(Object.entries(t._attribute).forEach((function(n){var i=u()(n,2),a=i[0],o=i[1];if("ignored"!==o){var s=o.size,c=e[a]||{},l=!!c.normalize,f=c.type||"FLOAT",h=c.key||a;"UBYTE"===f&&(f="UNSIGNED_BYTE"),"USHORT"===f&&(f="UNSIGNED_SHORT"),o.type=f,h&&h!==a&&(t._attribute[h]=o),r.bindBuffer(r.ARRAY_BUFFER,t._buffers[a]);var d=r.getAttribLocation(t,a);d>=0&&(r.vertexAttribPointer(d,s,r[f],l,0,0),r.enableVertexAttribArray(d))}})),!t.meshData){var o=[[-1,-1,0,1].slice(0,n),[1,-1,0,1].slice(0,n),[1,1,0,1].slice(0,n),[-1,1,0,1].slice(0,n)],s=[[0,1,3],[3,1,2]];this.setMeshData({positions:o,cells:s})}return t}},{key:"compileSync",value:function(t,e){var r={};function n(t){var e=[],i=(t=t.replace(/^\s*/gm,"")).match(/^#pragma\s+include\s+.*/gm);if(i){for(var a=0;a<i.length;a++){var o=i[a].match(/(?:<|")(.*)(?:>|")/);if(o){var s=0===o[0].indexOf("<")?"lib":"link",u=o[1];if("graph"===u&&(u="graphics"),r[u])e.push("/* included ".concat(u," */"));else if(r[u]=!0,"lib"===s){var c=n(k[u]);e.push(c)}else if("link"===s)throw new Error("Cannot load external links synchronously. Use compile instead of compileSync.")}}e.forEach((function(e){t=t.replace(/^#pragma\s+include\s+.*/m,e)}))}return t}var i=n(t=t||T),a=e?n(e):null;return this.createProgram(i,a)}},{key:"compile",value:(n=o()(i.a.mark((function e(r,n){var a,s,u,c,l,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){return(u=o()(i.a.mark((function e(r){var n,o,u,c,l,f,h,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=r.replace(/^\s*/gm,""),n=[],!(o=r.match(/^#pragma\s+include\s+.*/gm))){e.next=36;break}u=0;case 5:if(!(u<o.length)){e.next=35;break}if(c=o[u],!(l=c.match(/(?:<|")(.*)(?:>|")/))){e.next=32;break}if(f=0===l[0].indexOf("<")?"lib":"link","graph"===(h=l[1])&&(h="graphics"),a[h]){e.next=31;break}if(a[h]=!0,"lib"!==f){e.next=21;break}return e.next=17,s(k[h]);case 17:d=e.sent,n.push(d),e.next=29;break;case 21:if("link"!==f){e.next=29;break}return e.next=24,t.fetchShader(h);case 24:return p=e.sent,e.next=27,s(p);case 27:p=e.sent,n.push(p);case 29:e.next=32;break;case 31:n.push("/* included ".concat(h," */"));case 32:u++,e.next=5;break;case 35:n.forEach((function(t){r=r.replace(/^#pragma\s+include\s+.*/m,t)}));case 36:return e.abrupt("return",r);case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(t){return u.apply(this,arguments)},r=r||T,a={},e.next=6,s(r);case 6:if(c=e.sent,!n){e.next=13;break}return e.next=10,s(n);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=null;case 14:return l=e.t0,f=this.createProgram(c,l),e.abrupt("return",f);case 17:case"end":return e.stop()}}),e,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"load",value:(r=o()(i.a.mark((function e(r){var n,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.next=3,t.fetchShader(r);case 3:if(r=e.sent,!n){e.next=8;break}return e.next=7,t.fetchShader(n);case 7:n=e.sent;case 8:return e.abrupt("return",this.compile(r,n));case 9:case"end":return e.stop()}}),e,this)}))),function(t){return r.apply(this,arguments)})},{key:"createTexture",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.wrapS,i=void 0===n?this.gl.CLAMP_TO_EDGE:n,a=r.wrapT,o=void 0===a?this.gl.CLAMP_TO_EDGE:a,s=r.minFilter,u=void 0===s?this.gl.LINEAR:s,c=r.magFilter,l=void 0===c?this.gl.LINEAR:c,f=this.gl,h=Array.isArray(e)?f.TEXTURE_CUBE_MAP:f.TEXTURE_2D;this._max_texture_image_units=this._max_texture_image_units||f.getParameter(f.MAX_COMBINED_TEXTURE_IMAGE_UNITS),f.activeTexture(f.TEXTURE0+this._max_texture_image_units-1);var d=f.createTexture();f.bindTexture(h,d),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!0);var p=this.canvas,v=p.width,y=p.height;if(e)if(h===f.TEXTURE_CUBE_MAP)for(var g=0;g<6;g++)f.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,e[g]);else f.texImage2D(h,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,e);else if(h===f.TEXTURE_CUBE_MAP)for(var m=0;m<6;m++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,f.RGBA,v,y,0,f.RGBA,f.UNSIGNED_BYTE,null);else f.texImage2D(h,0,f.RGBA,v,y,0,f.RGBA,f.UNSIGNED_BYTE,null);return f.texParameteri(h,f.TEXTURE_MIN_FILTER,u),f.texParameteri(h,f.TEXTURE_MAG_FILTER,l),f.texParameteri(h,f.TEXTURE_WRAP_S,i),f.texParameteri(h,f.TEXTURE_WRAP_T,o),h===f.TEXTURE_CUBE_MAP&&(e.width=e[0].width,e.height=e[0].height),f.bindTexture(h,null),d._img=e||{width:v,height:y},d.delete=function(){t.deleteTexture(d)},d}},{key:"deleteTexture",value:function(t){var e=t._img;this.gl.deleteTexture(t),"function"==typeof e.close&&e.close()}},{key:"loadTexture",value:(e=o()(i.a.mark((function e(r){var n,a,o,s,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=n.useImageBitmap,o=void 0===a||a,e.next=3,t.loadImage(r,{useImageBitmap:o});case 3:return s=e.sent,e.abrupt("return",this.createTexture(s));case 5:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"createFBO",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,r=void 0===e?1:e,n=t.blend,i=void 0!==n&&n,a=t.depth,o=void 0===a?!1!==this.options.depth:a,s=t.stencil,u=void 0===s?!!this.options.stencil:s,c=this.gl,l=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,l);for(var f=[],h=0;h<r;h++){var d=this.createTexture();c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+h,c.TEXTURE_2D,d,0),f.push(d)}l.textures=f,l.texture=f[0],l.blend=i;var p=this.canvas,v=p.width,y=p.height;return o&&!u&&(l.depthBuffer=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,l.depthBuffer),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,v,y),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,l.depthBuffer)),u&&!o&&(l.stencilBuffer=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,l.stencilBuffer),c.renderbufferStorage(c.RENDERBUFFER,c.STENCIL_INDEX8,v,y),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.STENCIL_ATTACHMENT,c.RENDERBUFFER,l.stencilBuffer)),o&&u&&(l.depthStencilBuffer=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,l.depthStencilBuffer),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,v,y),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,l.depthStencilBuffer)),c.bindFramebuffer(c.FRAMEBUFFER,null),l}},{key:"bindFBO",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.fbo=t}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.clearBuffer;this.startRender=!0;var e=this.gl,r=this.program;r||(r=this.createProgram(),this.useProgram(r)),this.fbo&&e.bindFramebuffer(e.FRAMEBUFFER,this.fbo);var n=this.options.depth;n&&e.enable(e.DEPTH_TEST),this.gl.clear(this.gl.COLOR_BUFFER_BIT|(n?this.gl.DEPTH_BUFFER_BIT:0)|(this.options.stencil?this.gl.STENCIL_BUFFER_BIT:0));var i=this._renderFrameID;this._draw(),this.fbo&&e.bindFramebuffer(e.FRAMEBUFFER,null),this._renderFrameID===i&&(this._renderFrameID=null)}},{key:"update",value:function(){this.startRender&&null==this._renderFrameID&&(this._renderFrameID=requestAnimationFrame(this.render.bind(this)))}},{key:"program",get:function(){var t=this.gl;return t.getParameter(t.CURRENT_PROGRAM)}},{key:"isWebGL2",get:function(){return"undefined"!=typeof WebGL2RenderingContext&&this.gl instanceof WebGL2RenderingContext}},{key:"enableTextures",get:function(){return this.program&&this.program._enableTextures}},{key:"uniforms",get:function(){var t=this.program;if(!t||!t.uniforms)throw Error("No avaliable program.");return t.uniforms}}]),t}();y()(R,"defaultOptions",{preserveDrawingBuffer:!0,autoUpdate:!0,vertexPosition:"a_vertexPosition",vertexTextureCoord:"a_vertexTextureCoord",webgl2:!1}),y()(R,"UBYTE",R.UNSIGNED_BYTE),y()(R,"USHORT",R.UNSIGNED_SHORT),y()(R,"fetchShader",(function(t){return w.apply(this,arguments)})),y()(R,"loadImage",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useImageBitmap,n=void 0===r||r,i=e.alias,a=void 0===i?null:i;if(!M[t])if("function"==typeof Image){var o=new Image;"string"!=typeof t||"object"===("undefined"==typeof location?"undefined":m()(location))&&/^file:/.test(location.href)||/^data:/.test(t)||(o.crossOrigin="anonymous"),M[t]=new Promise((function(e){o.onload=function(){n&&"function"==typeof createImageBitmap?createImageBitmap(o,{imageOrientation:"flipY"}).then((function(r){M[t]=r,a&&(M[a]=r),e(r)})):(M[t]=o,a&&(M[a]=o),e(o))},o.src=t})),a&&(M[a]=M[t])}else if("function"==typeof fetch)return fetch(t,{method:"GET",mode:"cors",cache:"default"}).then((function(t){return t.blob()})).then((function(e){return createImageBitmap(e,{imageOrientation:"flipY"}).then((function(e){return M[t]=e,a&&(M[a]=e),e}))}));return M[t]})),r(0).glMatrix.setMatrixArrayType(Array);e.a=R},function(t,e,r){"use strict";r.r(e),function(t){var e,n=r(16),i=r.n(n);r(0).glMatrix.setMatrixArrayType(Array),e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i()(window))&&(e=window)}t.exports=e}.call(this,r(48)(t))},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(110);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},function(t,e,r){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}r(0).glMatrix.setMatrixArrayType(Array),t.exports=n},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),e.__esModule=!0;var n=a(r(187)),i=a(r(198));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,n.default)(Object(t)))return function(t,e){var r=[],n=!0,a=!1,o=void 0;try{for(var s,u=(0,i.default)(t);!(n=(s=u.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(57),i=r(23),a=r(117),o=r(41),s=r(49),u=r(191),c=r(60),l=r(195),f=r(21)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,r,p,v,y,g){u(r,e,p);var m,x,b,M=function(t){if(!h&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},A=e+" Iterator",w="values"==v,T=!1,k=t.prototype,S=k[f]||k["@@iterator"]||v&&k[v],_=S||M(v),R=v?w?M("entries"):_:void 0,E="Array"==e&&k.entries||S;if(E&&(b=l(E.call(new t)))!==Object.prototype&&b.next&&(c(b,A,!0),n||"function"==typeof b[f]||o(b,f,d)),w&&S&&"values"!==S.name&&(T=!0,_=function(){return S.call(this)}),n&&!g||!h&&!T&&k[f]||o(k,f,_),s[e]=_,s[A]=d,v)if(m={values:w?_:M("values"),keys:y?_:M("keys"),entries:R},g)for(x in m)x in k||a(k,x,m[x]);else i(i.P+i.F*(h||T),e,m);return m}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(31),i=r(20).document,a=n(i)&&n(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(31);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(38),i=r(192),a=r(92),o=r(90)("IE_PROTO"),s=function(){},u=function(){var t,e=r(86)("iframe"),n=a.length;for(e.style.display="none",r(119).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[a[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(s.prototype=n(t),r=new s,s.prototype=null,r[o]=t):r=u(),void 0===e?r:i(r,e)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(91)("keys"),i=r(70);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(17),i=r(20),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(57)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(71),i=r(21)("iterator"),a=r(49);t.exports=r(17).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||a[n(t)]}},function(t,e){},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(41);t.exports=function(t,e,r){for(var i in e)r&&t[i]?t[i]=e[i]:n(t,i,e[i]);return t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){"use strict";r.r(e),function(t){var e=r(16),n=r.n(e);r(0).glMatrix.setMatrixArrayType(Array);var i=r(70)("meta"),a=r(31),o=r(46),s=r(29).f,u=0,c=Object.isExtensible||function(){return!0},l=!r(45)((function(){return c(Object.preventExtensions({}))})),f=function(t){s(t,i,{value:{i:"O"+ ++u,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==n()(t)?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[i].w},onFreeze:function(t){return l&&h.NEED&&c(t)&&!o(t,i)&&f(t),t}}}.call(this,r(48)(t))},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={default:r(219),__esModule:!0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),e.f=Object.getOwnPropertySymbols},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(20),i=r(17),a=r(57),o=r(131),s=r(29).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0}),e.parseEasing=e.Easings=void 0;var n=o(r(82)),i=o(r(120)),a=o(r(124));function o(t){return t&&t.__esModule?t:{default:t}}var s=r(233),u=new a.default;function c(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=u.get(e);return n||(n=s.apply(void 0,e),u.set(e,n),n)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(r,n){for(var i=1;i<n.length;i++){var a=n[i].offset;if(r<=a){var o=n[i-1].offset,s=a,u=1/t,c=(r-o)/(s-o)/u;return u*(c="end"===e?Math.floor(c):Math.ceil(c))*(s-o)+o}}return 0}}var f={linear:function(t){return t},ease:c(.25,.1,.25,1),"ease-in":c(.42,0,1,1),"ease-out":c(0,0,.58,1),"ease-in-out":c(.42,0,.58,1),"step-start":l(1,"start"),"step-end":l(1,"end")};e.Easings=f,e.parseEasing=function(t){return"string"==typeof t?t=f[t]?f[t]:function(t){var e=/^cubic-bezier\((.*)\)/,r=t.match(e);if(r){var a=r[1].trim();return a=a.split(",").map((function(t){return parseFloat(t.trim())})),c.apply(void 0,(0,i.default)(a))}if(e=/^steps\((.*)\)/,r=t.match(e)){var o=r[1].trim(),s=o=o.split(",").map((function(t){return t.trim()})),u=(0,n.default)(s,2),f=u[0],h=u[1];return l(parseInt(f,10),h)}return t}(t):"cubic-bezier"===t.type?t=c.apply(void 0,(0,i.default)(t.value)):"steps"===t.type&&(t=l(t.step,t.pos)),t}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(58);function i(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)}t.exports.f=function(t){return new i(t)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(1),i=r(81),a=r(251),o=r(252);function s(e){var r="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!a(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return o(t,arguments,n(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},s(e)}t.exports=s},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){var e=[];return t.replace(i,(function(t,r,i){var o=r.toLowerCase();for(i=function(t){var e=t.match(a);return e?e.map(Number):[]}(i),"m"==o&&i.length>2&&(e.push([r].concat(i.splice(0,2))),o="l",r="m"==r?"l":"L");;){if(i.length==n[o])return i.unshift(r),e.push(i);if(i.length<n[o])throw new Error("malformed path data");e.push([r].concat(i.splice(0,n[o])))}})),e};var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){var e=0,r=0,n=0,i=0;return t.map((function(t){var a=(t=t.slice())[0],o=a.toUpperCase();if(a!=o)switch(t[0]=o,a){case"a":t[6]+=n,t[7]+=i;break;case"v":t[1]+=i;break;case"h":t[1]+=n;break;default:for(var s=1;s<t.length;)t[s++]+=n,t[s++]+=i}switch(o){case"Z":n=e,i=r;break;case"H":n=t[1];break;case"V":i=t[1];break;case"M":n=e=t[1],i=r=t[2];break;default:n=t[t.length-2],i=t[t.length-1]}return t}))}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){return"number"==typeof t?t:"number"==typeof e?e:0}},,function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){if(Array.isArray(t))return t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(1);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0});var n=f(r(82)),i=f(r(120)),a=f(r(124)),o=f(r(98)),s=f(r(128)),u=f(r(129)),c=f(r(130)),l=r(232);function f(t){return t&&t.__esModule?t:{default:t}}var h=(0,l.createNowTime)(),d={originTime:0,playbackRate:1},p=(0,c.default)("timeMark"),v=(0,c.default)("playbackRate"),y=(0,c.default)("timers"),g=(0,c.default)("originTime"),m=(0,c.default)("setTimer"),x=(0,c.default)("parent"),b=function(){function t(e,r){(0,s.default)(this,t),e instanceof t&&(r=e,e={}),e=(0,o.default)({},d,e),r&&(this[x]=r);var n=e.nowtime||h;if(r)Object.defineProperty(this,"globalTime",{get:function(){return r.currentTime}});else{var i=n();Object.defineProperty(this,"globalTime",{get:function(){return n()-i}})}this[p]=[{globalTime:this.globalTime,localTime:-e.originTime,entropy:-e.originTime,playbackRate:e.playbackRate,globalEntropy:0}],this[x]&&(this[p][0].globalEntropy=this[x].entropy),this[g]=e.originTime,this[v]=e.playbackRate,this[y]=new a.default}return(0,u.default)(t,[{key:"markTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.time,r=void 0===e?this.currentTime:e,n=t.entropy,i=void 0===n?this.entropy:n,a=t.playbackRate,o=void 0===a?this.playbackRate:a,s={globalTime:this.globalTime,localTime:r,entropy:i,playbackRate:o,globalEntropy:this.globalEntropy};this[p].push(s)}},{key:"fork",value:function(e){return new t(e,this)}},{key:"seekGlobalTime",value:function(t){var e=this.seekTimeMark(t),r=this[p][e],n=r.entropy,i=r.playbackRate;return r.globalTime+(t-n)/Math.abs(i)}},{key:"seekLocalTime",value:function(t){var e=this.seekTimeMark(t),r=this[p][e],n=r.localTime,i=r.entropy;return r.playbackRate>0?n+(t-i):n-(t-i)}},{key:"seekTimeMark",value:function(t){var e=this[p],r=0,n=e.length-1;if(t<=e[r].entropy)return r;if(t>=e[n].entropy)return n;for(var i=Math.floor((r+n)/2);i>r&&i<n;){if(t===e[i].entropy)return i;t<e[i].entropy?n=i:t>e[i].entropy&&(r=i),i=Math.floor((r+n)/2)}return r}},{key:"updateTimers",value:function(){var t=this;[].concat((0,i.default)(this[y])).forEach((function(e){var r=(0,n.default)(e,2),i=r[0],a=r[1];t[m](a.handler,a.time,i)}))}},{key:"clearTimeout",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=this[y].get(t);e&&null!=e.timerID&&(this[x]?this[x].clearTimeout(e.timerID):clearTimeout(e.timerID)),this[y].delete(t)}))},{key:"clearInterval",value:function(t){return this.clearTimeout(t)}},{key:"clear",value:function(){var t=this,e=this[y];[].concat((0,i.default)(e.keys())).forEach((function(e){t.clearTimeout(e)}))}},{key:"setTimeout",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delay:0};return this[m](t,e)}},{key:"setInterval",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delay:0},r=this,n=this[m]((function i(){r[m](i,e,n),t()}),e);return n}},{key:m,value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,c.default)("timerID");e=(0,l.formatDelay)(e);var i=this[y].get(n),a=void 0,o=null,s=void 0,u=void 0;i?(this.clearTimeout(n),a=e.isEntropy?(e.delay-(this.entropy-i.startEntropy))/Math.abs(this.playbackRate):(e.delay-(this.currentTime-i.startTime))/this.playbackRate,s=i.startTime,u=i.startEntropy):(a=e.delay/(e.isEntropy?Math.abs(this.playbackRate):this.playbackRate),s=this.currentTime,u=this.entropy);var f=this[x],h=f?f.setTimeout.bind(f):setTimeout,d=e.heading;return!f&&!1===d&&a<0&&(a=1/0),(isFinite(a)||f)&&(a=Math.ceil(a),h!==setTimeout&&(a={delay:a,heading:d}),o=h((function(){r[y].delete(n),t()}),a)),this[y].set(n,{timerID:o,handler:t,time:e,startTime:s,startEntropy:u}),n}},{key:"parent",get:function(){return this[x]}},{key:"lastTimeMark",get:function(){return this[p][this[p].length-1]}},{key:"currentTime",get:function(){var t=this.lastTimeMark,e=t.localTime,r=t.globalTime;return e+(this.globalTime-r)*this.playbackRate},set:function(t){var e=this,r=this.currentTime,a=t,o=this[y];this.markTime({time:t}),[].concat((0,i.default)(o)).forEach((function(t){var i=(0,n.default)(t,2),s=i[0],u=i[1];if(o.has(s)){var c=u.time,l=c.isEntropy,f=c.delay,h=c.heading,d=u.handler,p=u.startTime;if(l)0===f&&(d(),e.clearTimeout(s));else{var v=p+f;(0===f||!1!==h&&(a-r)*f<=0||r<=v&&v<=a||r>=v&&v>=a)&&(d(),e.clearTimeout(s))}}})),this.updateTimers()}},{key:"entropy",get:function(){var t=this.lastTimeMark,e=t.entropy,r=t.globalEntropy;return e+Math.abs((this.globalEntropy-r)*this.playbackRate)},set:function(t){if(this.entropy>t){var e=this.seekTimeMark(t);this[p].length=e+1}this.markTime({entropy:t}),this.updateTimers()}},{key:"globalEntropy",get:function(){return this[x]?this[x].entropy:this.globalTime}},{key:"playbackRate",get:function(){return this[v]},set:function(t){t!==this.playbackRate&&(this.markTime({playbackRate:t}),this[v]=t,this.updateTimers())}},{key:"paused",get:function(){if(0===this.playbackRate)return!0;for(var t=this.parent;t;){if(0===t.playbackRate)return!0;t=t.parent}return!1}}]),t}();e.default=b},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=!r(27)&&!r(45)((function(){return 7!=Object.defineProperty(r(86)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=r(41)},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(46),i=r(44),a=r(193)(!1),o=r(90)("IE_PROTO");t.exports=function(t,e){var r,s=i(t),u=0,c=[];for(r in s)r!=o&&n(s,r)&&c.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~a(c,r)||c.push(r));return c}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(20).document;t.exports=n&&n.documentElement},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),e.__esModule=!0;var n,i=r(201),a=(n=i)&&n.__esModule?n:{default:n};e.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,a.default)(t)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(38);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var a=t.return;throw void 0!==a&&n(a.call(t)),e}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(49),i=r(21)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[i]===t)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(21)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},t(a)}catch(t){}return r}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={default:r(205),__esModule:!0}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(20),i=r(17),a=r(29),o=r(27),s=r(21)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:n[t];o&&e&&!e[s]&&a.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(31);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(56);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),e.__esModule=!0;var n,i=r(222),a=(n=i)&&n.__esModule?n:{default:n};e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={default:r(225),__esModule:!0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),e.f=r(21)},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(118),i=r(92).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0}),e.default={default:function(t,e,r,n,i){return"number"==typeof t&&"number"==typeof e?t+(r-n)/(i-n)*(e-t):r-n>i-r?e:t}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={default:r(235),__esModule:!0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(38),i=r(58),a=r(21)("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||null==(r=n(o)[a])?e:i(r)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n,i,a,o=r(40),s=r(237),u=r(119),c=r(86),l=r(20),f=l.process,h=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,y=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},x=function(t){m.call(t.data)};h&&d||(h=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),e)},n(y),y},d=function(t){delete g[t]},"process"==r(56)(f)?n=function(t){f.nextTick(o(m,t,1))}:v&&v.now?n=function(t){v.now(o(m,t,1))}:p?(a=(i=new p).port2,i.port1.onmessage=x,n=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(t){l.postMessage(t+"","*")},l.addEventListener("message",x,!1)):n="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(o(m,t,1),0)}),t.exports={set:h,clear:d}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(38),i=r(31),a=r(102);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=a.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){"use strict";r.d(e,"a",(function(){return R}));var n=r(4),i=r.n(n),a=r(2),o=r.n(a),s=r(5),u=r.n(s),c=r(6),l=r.n(c),f=r(30),h=r.n(f),d=r(9),p=r.n(d),v=r(8),y=r.n(v),g=r(7),m=r.n(g),x=r(1),b=r.n(x),M=r(13),A=r(22),w=r(39),T=r(12);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b()(t);if(e){var i=b()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var S=Symbol("amount"),_=Symbol("meshCloud"),R=function(t){y()(r,t);var e=k(r);function r(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return u()(this,r),(n=e.call(this)).meshNode=t,t.connect(h()(n)),n[S]=i,n[_]=null,n}return l()(r,[{key:"brightness",value:function(t,e){this.meshCloud&&(this.meshCloud.brightness(t,e),this.forceUpdate())}},{key:"contrast",value:function(t,e){this.meshCloud&&(this.meshCloud.contrast(t,e),this.forceUpdate())}},{key:"delete",value:function(t){this.meshCloud&&(this.meshCloud.delete(t),this[S]--,this.forceUpdate())}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(p()(b()(r.prototype),"draw",this).call(this,e),this.meshCloud){if(this.program){this.meshCloud.setProgram(this.program);var n=this.shaderAttrs;n&&Object.entries(n).forEach((function(e){var r=o()(e,2),n=r[0],i=r[1];t.meshCloud.mesh.setAttribute(n,i)}));var i=this.uniforms;if(this.uniforms){var a={};Object.entries(i).forEach((function(e){var r=o()(e,2),n=r[0],i=r[1];"function"==typeof i&&(i=i(t,n)),a[n]=i})),this.meshCloud.mesh.setUniforms(a)}}this.meshNode.textureImage&&Object(A.d)(this.meshNode,this.meshNode.mesh),e.push(this.meshCloud)}return e}},{key:"getTransform",value:function(t){if(this.meshCloud)return this.meshCloud.getTransform(t)}},{key:"grayscale",value:function(t,e){this.meshCloud&&(this.meshCloud.grayscale(t,e),this.forceUpdate())}},{key:"hueRotate",value:function(t,e){this.meshCloud&&(this.meshCloud.hueRotate(t,e),this.forceUpdate())}},{key:"invert",value:function(t,e){this.meshCloud&&(this.meshCloud.invert(t,e),this.forceUpdate())}},{key:"isPointCollision",value:function(t,e){if(!this.meshCloud)return!1;var r=this.attributes.pointerEvents;if("none"===r)return!1;if("all"!==r&&!this.isVisible)return!1;var n="both";"visibleFill"===r&&(n="fill"),"visibleStroke"===r&&(n="stroke");for(var i=0;i<this[S];i++)if(!this.meshCloud.isPointCollision(i,[t,e],n))return!1;return!0}},{key:"setOpacity",value:function(t,e){this.meshCloud&&(this.meshCloud.opacity(t,e),this.forceUpdate())}},{key:"rotate",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=o()(r,2),i=n[0],a=n[1],s=Math.PI*e/180;if(this.meshCloud){var u=this.meshNode.attributes,c=u.x,l=u.y;this.meshCloud.rotate(t,s,[i+c,a+l]),this.forceUpdate()}}},{key:"saturate",value:function(t,e){this.meshCloud&&(this.meshCloud.saturate(t,e),this.forceUpdate())}},{key:"scale",value:function(t,e){var r=o()(e,2),n=r[0],i=r[1],a=void 0===i?n:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],u=o()(s,2),c=u[0],l=u[1];if(this.meshCloud){var f=this.meshNode.attributes,h=f.x,d=f.y,p=1e-5;Math.abs(n)<p&&(n=1/n>0?p:-p),Math.abs(a)<p&&(a=1/a>0?p:-p),this.meshCloud.scale(t,[n,a],[c+h,l+d]),this.forceUpdate()}}},{key:"setColorTransform",value:function(t,e){this.meshCloud&&(this.meshCloud.setColorTransform(t,e),this.forceUpdate())}},{key:"setFillColor",value:function(t,e){this.meshCloud&&(Array.isArray(e)&&((e=i()(e))[0]/=255,e[1]/=255,e[2]/=255),this.meshCloud.setFillColor(t,e),this.forceUpdate())}},{key:"sepia",value:function(t,e){this.meshCloud&&(this.meshCloud.sepia(t,e),this.forceUpdate())}},{key:"setResolution",value:function(t){var e=t.width,n=t.height;p()(b()(r.prototype),"setResolution",this).call(this,{width:e,height:n}),this.meshNode.setResolution({width:e,height:n})}},{key:"setStrokeColor",value:function(t,e){this.meshCloud&&(Array.isArray(e)&&((e=i()(e))[0]/=255,e[1]/=255,e[2]/=255),this.meshCloud.setStrokeColor(t,e),this.forceUpdate())}},{key:"setTransform",value:function(t,e){this.meshCloud&&(this.meshCloud.setTransform(t,e),this.forceUpdate())}},{key:"skew",value:function(t,e){var r=o()(e,2),n=r[0],i=r[1],a=void 0===i?n:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],u=o()(s,2),c=u[0],l=u[1];if(this.meshCloud){var f=this.meshNode.attributes,h=f.x,d=f.y;this.meshCloud.skew(t,[n,a],[c+h,l+d]),this.forceUpdate()}}},{key:"transform",value:function(t,e){this.meshCloud&&(this.meshCloud.transform(t,e),this.forceUpdate())}},{key:"transformColor",value:function(t,e){this.meshCloud&&(this.meshCloud.transformColor(t,e),this.forceUpdate())}},{key:"translate",value:function(t,e){var r=o()(e,2),n=r[0],i=r[1];this.meshCloud&&(this.meshCloud.translate(t,[n,i]),this.forceUpdate())}},{key:"updateMesh",value:function(){this[_]&&(this[_].mesh=this.meshNode.mesh,this.forceUpdate())}},{key:"meshCloud",get:function(){var t=this.meshNode,e=this[S];return!this[_]&&t.mesh&&(this[_]=new M.d(t.mesh,e)),this[_]}},{key:"isVisible",get:function(){return!!this.meshNode&&this.meshNode.isVisible}},{key:"amount",get:function(){return this[S]},set:function(t){this[S]=t,this[_]&&(this[_].amount=t)}}]),r}(w.a);T.a.registerNode(R,"cloud")},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(141)),a=n(r(261)),o=n(r(142)),s=n(r(262));function u(t){var e=Object.keys(t).join("|"),r=l(t),n=new RegExp("&(?:"+(e+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(t){return String(t).replace(n,r)}}e.decodeXML=u(o.default),e.decodeHTMLStrict=u(i.default);var c=function(t,e){return t<e?1:-1};function l(t){return function(e){if("#"===e.charAt(1)){var r=e.charAt(2);return"X"===r||"x"===r?s.default(parseInt(e.substr(3),16)):s.default(parseInt(e.substr(2),10))}return t[e.slice(1,-1)]}}e.decodeHTML=function(){for(var t=Object.keys(a.default).sort(c),e=Object.keys(i.default).sort(c),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var o=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=l(i.default);function u(t){return";"!==t.substr(-1)&&(t+=";"),s(t)}return function(t){return String(t).replace(o,u)}}()},function(t){t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(t){t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(r(142)).default),a=c(i);e.encodeXML=h(i,a);var o=u(n(r(141)).default),s=c(o);function u(t){return Object.keys(t).sort().reduce((function(e,r){return e[t[r]]="&"+r+";",e}),{})}function c(t){for(var e=[],r=[],n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];1===a.length?e.push("\\"+a):r.push(a)}e.sort();for(var o=0;o<e.length-1;o++){for(var s=o;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var u=1+s-o;u<3||e.splice(o,u,e[o]+"-"+e[s])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}e.encodeHTML=h(o,s);var l=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g;function f(t){return"&#x"+t.codePointAt(0).toString(16).toUpperCase()+";"}function h(t,e){return function(r){return r.replace(e,(function(e){return t[e]})).replace(l,f)}}var d=c(i);e.escape=function(t){return t.replace(d,f).replace(l,f)}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r=[];if(""!==(t=function t(e,r,i){var h=[],y=!1;function g(){var t=r.match(n);if(!t)throw new Error("Expected name, found "+r);var e=t[0];return r=r.substr(e.length),d(e)}function m(t){for(;p(r.charAt(t));)t++;r=r.substr(t)}function x(t){for(var e=0;"\\"===r.charAt(--t);)e++;return 1==(1&e)}m(0);for(;""!==r;){var b=r.charAt(0);if(p(b))y=!0,m(1);else if(b in s)h.push({type:s[b]}),y=!1,m(1);else if(","===b){if(0===h.length)throw new Error("Empty sub-selector");e.push(h),h=[],y=!1,m(1)}else if(y&&(h.length>0&&h.push({type:"descendant"}),y=!1),"*"===b)r=r.substr(1),h.push({type:"universal"});else if(b in u){var M=u[b],A=M[0],w=M[1];r=r.substr(1),h.push({type:"attribute",name:A,action:w,value:g(),ignoreCase:!1})}else if("["===b){if(r=r.substr(1),!(S=r.match(a)))throw new Error("Malformed attribute selector: "+r);r=r.substr(S[0].length);var T=d(S[1]);i&&("lowerCaseAttributeNames"in i?!i.lowerCaseAttributeNames:i.xmlMode)||(T=T.toLowerCase()),h.push({type:"attribute",name:T,action:o[S[2]],value:d(S[4]||S[5]||""),ignoreCase:!!S[6]})}else if(":"===b){if(":"===r.charAt(1)){r=r.substr(2),h.push({type:"pseudo-element",name:g().toLowerCase()});continue}r=r.substr(1);var k=g().toLowerCase(),S=null;if("("===r.charAt(0))if(c.has(k)){var _=r.charAt(1),R=f.has(_);if(r=r.substr(R?2:1),r=t(S=[],r,i),R){if(r.charAt(0)!==_)throw new Error("Unmatched quotes in :"+k);r=r.substr(1)}if(")"!==r.charAt(0))throw new Error("Missing closing parenthesis in :"+k+" ("+r+")");r=r.substr(1)}else{for(var E=1,C=1;C>0&&E<r.length;E++)"("!==r.charAt(E)||x(E)?")"!==r.charAt(E)||x(E)||C--:C++;if(C)throw new Error("Parenthesis not matched");if(S=r.substr(1,E-2),r=r.substr(E),l.has(k))(_=S.charAt(0))===S.slice(-1)&&f.has(_)&&(S=S.slice(1,-1)),S=d(S)}h.push({type:"pseudo",name:k,data:S})}else{if(!n.test(r))return h.length&&"descendant"===h[h.length-1].type&&h.pop(),v(e,h),r;var O=g();i&&("lowerCaseTags"in i?!i.lowerCaseTags:i.xmlMode)||(O=O.toLowerCase()),h.push({type:"tag",name:O})}}return v(e,h),r}(r,t+"",e)))throw new Error("Unmatched selector: "+t);return r};var n=/^(?:\\([\da-f]{1,6}\s?|(\s)|.)|[\w\-\u00b0-\uFFFF])+/,i=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,a=/^\s*((?:\\.|[\w\u00b0-\uFFFF-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF-])*)|)|)\s*(i)?\]/,o={undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},s={">":"child","<":"parent","~":"sibling","+":"adjacent"},u={"#":["id","equals"],".":["class","element"]},c=new Set(["has","not","matches"]),l=new Set(["contains","icontains"]),f=new Set(['"',"'"]);function h(t,e,r){var n=parseInt(e,16)-65536;return n!=n||r?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)}function d(t){return t.replace(i,h)}function p(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function v(t,e){if(t.length>0&&0===e.length)throw new Error("Empty sub-selector");t.push(e)}},function(t){t.exports=JSON.parse('{"universal":50,"tag":30,"attribute":1,"pseudo":0,"descendant":-1,"child":-1,"parent":-1,"sibling":-1,"adjacent":-1}')},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(64).falseFunc,i=/[-[\]{}()*+?.,\\^$|#\s]/g,a={__proto__:null,equals:function(t,e,r){var n=e.name,i=e.value,a=r.adapter;return e.ignoreCase?(i=i.toLowerCase(),function(e){var r=a.getAttributeValue(e,n);return null!=r&&r.toLowerCase()===i&&t(e)}):function(e){return a.getAttributeValue(e,n)===i&&t(e)}},hyphen:function(t,e,r){var n=e.name,i=e.value,a=i.length,o=r.adapter;return e.ignoreCase?(i=i.toLowerCase(),function(e){var r=o.getAttributeValue(e,n);return null!=r&&(r.length===a||"-"===r.charAt(a))&&r.substr(0,a).toLowerCase()===i&&t(e)}):function(e){var r=o.getAttributeValue(e,n);return null!=r&&r.substr(0,a)===i&&(r.length===a||"-"===r.charAt(a))&&t(e)}},element:function(t,e,r){var a=e.name,o=e.value,s=r.adapter;if(/\s/.test(o))return n;var u="(?:^|\\s)"+(o=o.replace(i,"\\$&"))+"(?:$|\\s)",c=e.ignoreCase?"i":"",l=new RegExp(u,c);return function(e){var r=s.getAttributeValue(e,a);return null!=r&&l.test(r)&&t(e)}},exists:function(t,e,r){var n=e.name,i=r.adapter;return function(e){return i.hasAttrib(e,n)&&t(e)}},start:function(t,e,r){var i=e.name,a=e.value,o=a.length,s=r.adapter;return 0===o?n:e.ignoreCase?(a=a.toLowerCase(),function(e){var r=s.getAttributeValue(e,i);return null!=r&&r.substr(0,o).toLowerCase()===a&&t(e)}):function(e){var r=s.getAttributeValue(e,i);return null!=r&&r.substr(0,o)===a&&t(e)}},end:function(t,e,r){var i=e.name,a=e.value,o=-a.length,s=r.adapter;return 0===o?n:e.ignoreCase?(a=a.toLowerCase(),function(e){var r=s.getAttributeValue(e,i);return null!=r&&r.substr(o).toLowerCase()===a&&t(e)}):function(e){var r=s.getAttributeValue(e,i);return null!=r&&r.substr(o)===a&&t(e)}},any:function(t,e,r){var a=e.name,o=e.value,s=r.adapter;if(""===o)return n;if(e.ignoreCase){var u=new RegExp(o.replace(i,"\\$&"),"i");return function(e){var r=s.getAttributeValue(e,a);return null!=r&&u.test(r)&&t(e)}}return function(e){var r=s.getAttributeValue(e,a);return null!=r&&r.indexOf(o)>=0&&t(e)}},not:function(t,e,r){var n=e.name,i=e.value,a=r.adapter;return""===i?function(e){return!!a.getAttributeValue(e,n)&&t(e)}:e.ignoreCase?(i=i.toLowerCase(),function(e){var r=a.getAttributeValue(e,n);return null!=r&&r.toLowerCase()!==i&&t(e)}):function(e){return a.getAttributeValue(e,n)!==i&&t(e)}}};t.exports={compile:function(t,e,r){if(r&&r.strict&&(e.ignoreCase||"not"===e.action))throw new Error("Unsupported attribute selector");return a[e.action](t,e,r)},rules:a}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(275),i=r(64),a=r(146),o=i.trueFunc,s=i.falseFunc,u=a.rules.equals;function c(t,e){var r={name:t,value:e};return function(t,e,n){return u(t,r,n)}}function l(t,e){return function(r){return!!e.getParent(r)&&t(r)}}var f={contains:function(t,e,r){var n=r.adapter;return function(r){return t(r)&&n.getText(r).indexOf(e)>=0}},icontains:function(t,e,r){var n=e.toLowerCase(),i=r.adapter;return function(e){return t(e)&&i.getText(e).toLowerCase().indexOf(n)>=0}},"nth-child":function(t,e,r){var i=n(e),a=r.adapter;return i===s?i:i===o?l(t,a):function(e){for(var r=a.getSiblings(e),n=0,o=0;n<r.length;n++)if(a.isTag(r[n])){if(r[n]===e)break;o++}return i(o)&&t(e)}},"nth-last-child":function(t,e,r){var i=n(e),a=r.adapter;return i===s?i:i===o?l(t,a):function(e){for(var r=a.getSiblings(e),n=0,o=r.length-1;o>=0;o--)if(a.isTag(r[o])){if(r[o]===e)break;n++}return i(n)&&t(e)}},"nth-of-type":function(t,e,r){var i=n(e),a=r.adapter;return i===s?i:i===o?l(t,a):function(e){for(var r=a.getSiblings(e),n=0,o=0;o<r.length;o++)if(a.isTag(r[o])){if(r[o]===e)break;a.getName(r[o])===a.getName(e)&&n++}return i(n)&&t(e)}},"nth-last-of-type":function(t,e,r){var i=n(e),a=r.adapter;return i===s?i:i===o?l(t,a):function(e){for(var r=a.getSiblings(e),n=0,o=r.length-1;o>=0;o--)if(a.isTag(r[o])){if(r[o]===e)break;a.getName(r[o])===a.getName(e)&&n++}return i(n)&&t(e)}},root:function(t,e,r){var n=r.adapter;return function(e){return!n.getParent(e)&&t(e)}},scope:function(t,e,r,n){var i=r.adapter;if(!n||0===n.length)return f.root(t,e,r);return 1===n.length?function(e){return r=n[0],a=e,("function"==typeof i.equals?i.equals(r,a):r===a)&&t(e);var r,a}:function(e){return n.indexOf(e)>=0&&t(e)}},checkbox:c("type","checkbox"),file:c("type","file"),password:c("type","password"),radio:c("type","radio"),reset:c("type","reset"),image:c("type","image"),submit:c("type","submit"),hover:function(t,e,r){var n=r.adapter;return"function"==typeof n.isHovered?function(e){return t(e)&&n.isHovered(e)}:s},visited:function(t,e,r){var n=r.adapter;return"function"==typeof n.isVisited?function(e){return t(e)&&n.isVisited(e)}:s},active:function(t,e,r){var n=r.adapter;return"function"==typeof n.isActive?function(e){return t(e)&&n.isActive(e)}:s}};var h={empty:function(t,e){return!e.getChildren(t).some((function(t){return e.isTag(t)||"text"===t.type}))},"first-child":function(t,e){return function(t,e){for(var r=0;t&&r<t.length;r++)if(e.isTag(t[r]))return t[r]}(e.getSiblings(t),e)===t},"last-child":function(t,e){for(var r=e.getSiblings(t),n=r.length-1;n>=0;n--){if(r[n]===t)return!0;if(e.isTag(r[n]))break}return!1},"first-of-type":function(t,e){for(var r=e.getSiblings(t),n=0;n<r.length;n++)if(e.isTag(r[n])){if(r[n]===t)return!0;if(e.getName(r[n])===e.getName(t))break}return!1},"last-of-type":function(t,e){for(var r=e.getSiblings(t),n=r.length-1;n>=0;n--)if(e.isTag(r[n])){if(r[n]===t)return!0;if(e.getName(r[n])===e.getName(t))break}return!1},"only-of-type":function(t,e){for(var r=e.getSiblings(t),n=0,i=r.length;n<i;n++)if(e.isTag(r[n])){if(r[n]===t)continue;if(e.getName(r[n])===e.getName(t))return!1}return!0},"only-child":function(t,e){for(var r=e.getSiblings(t),n=0;n<r.length;n++)if(e.isTag(r[n])&&r[n]!==t)return!1;return!0},link:function(t,e){return e.hasAttrib(t,"href")},selected:function(t,e){if(e.hasAttrib(t,"selected"))return!0;if("option"!==e.getName(t))return!1;var r=e.getParent(t);if(!r||"select"!==e.getName(r)||e.hasAttrib(r,"multiple"))return!1;for(var n=e.getChildren(r),i=!1,a=0;a<n.length;a++)if(e.isTag(n[a]))if(n[a]===t)i=!0;else{if(!i)return!1;if(e.hasAttrib(n[a],"selected"))return!1}return i},disabled:function(t,e){return e.hasAttrib(t,"disabled")},enabled:function(t,e){return!e.hasAttrib(t,"disabled")},checked:function(t,e){return e.hasAttrib(t,"checked")||h.selected(t,e)},required:function(t,e){return e.hasAttrib(t,"required")},optional:function(t,e){return!e.hasAttrib(t,"required")},parent:function(t,e){return!h.empty(t,e)},header:d(["h1","h2","h3","h4","h5","h6"]),button:function(t,e){var r=e.getName(t);return"button"===r||"input"===r&&"button"===e.getAttributeValue(t,"type")},input:d(["input","textarea","select","button"]),text:function(t,e){var r;return"input"===e.getName(t)&&(!(r=e.getAttributeValue(t,"type"))||"text"===r.toLowerCase())}};function d(t){if("undefined"!=typeof Set){var e=new Set(t);return function(t,r){return e.has(r.getName(t))}}return function(e,r){return t.indexOf(r.getName(e))>=0}}var p=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;t.exports={compile:function(t,e,r,n){var i=e.name,a=e.data,u=r.adapter;if(r&&r.strict&&!p.test(i))throw new Error(":"+i+" isn't part of CSS3");if("function"==typeof f[i])return f[i](t,a,r,n);if("function"==typeof h[i]){var c=h[i];return function(t,e,r){if(null===r){if(t.length>2&&"scope"!==e)throw new Error("pseudo-selector :"+e+" requires an argument")}else if(2===t.length)throw new Error("pseudo-selector :"+e+" doesn't have any arguments")}(c,i,a),c===s?c:t===o?function(t){return c(t,u,a)}:function(e){return c(e,u,a)&&t(e)}}throw new Error("unmatched pseudo-class :"+i)},filters:f,pseudos:h}},function(t,e,r){"use strict";r.d(e,"a",(function(){return E}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a),s=r(9),u=r.n(s),c=r(8),l=r.n(c),f=r(7),h=r.n(f),d=r(1),p=r.n(d),v=r(10),y=r.n(v),g=r(32),m=r(12),x=r(35),b=r(3);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var A=Symbol.for("spritejs_setAttributeDefault"),w=Symbol.for("spritejs_setAttribute"),T=Symbol.for("spritejs_getAttribute"),k=Symbol.for("spritejs_declareAlias");function S(t){var e=t.width,r=t.height;return"M".concat(0," ",0,"L",e," ",0,"L").concat(e," ").concat(r,"L",0," ").concat(r,"Z")}var _=function(t){l()(r,t);var e=M(r);function r(t){var n;return i()(this,r),(n=e.call(this,t))[A]({width:0,height:0}),n[k]("size"),n}return o()(r,[{key:"d",get:function(){return this[T]("d")},set:function(t){}},{key:"width",get:function(){return this[T]("width")},set:function(t){if(t=Object(b.d)(t),this[w]("width",t)){var e=S(this);this[w]("d",e)}}},{key:"height",get:function(){return this[T]("height")},set:function(t){if(t=Object(b.d)(t),this[w]("height",t)){var e=S(this);this[w]("d",e)}}},{key:"size",get:function(){return[this.width,this.height]},set:function(t){t=Object(b.c)(t),Array.isArray(t)||(t=[t,t]),this.width=t[0],this.height=t[1]}}]),r}(x.a);function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var E=function(t){l()(r,t);var e=R(r);function r(){return i()(this,r),e.apply(this,arguments)}return o()(r,[{key:"isVisible",get:function(){var t=this.attributes,e=t.width,n=t.height;return e>0&&n>0&&u()(p()(r.prototype),"isVisible",this)}}]),r}(g.a);y()(E,"Attr",_),m.a.registerNode(E,"rect")},function(t,e,r){"use strict";r.d(e,"a",(function(){return L}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a),s=r(9),u=r.n(s),c=r(8),l=r.n(c),f=r(7),h=r.n(f),d=r(1),p=r.n(d),v=r(10),y=r.n(v),g=r(33),m=r(12),x=r(18),b=r.n(x),M=r(2),A=r.n(M),w=r(36),T=r(3);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var S=Symbol.for("spritejs_setAttributeDefault"),_=Symbol.for("spritejs_setAttribute"),R=Symbol.for("spritejs_getAttribute");function E(t){var e=A()(t.sides,2),r=e[0],n=e[1],i=t.angle%360;return i<0&&(i+=360),i=Math.PI*i/180,[0,0,r,0,n*Math.cos(i),n*Math.sin(i)]}var C=function(t){l()(r,t);var e=k(r);function r(t){var n;return i()(this,r),(n=e.call(this,t))[S]({sides:[0,0],angle:60,closeType:"normal"}),n}return o()(r,[{key:"points",get:function(){return u()(p()(r.prototype),"points",this)},set:function(t){}},{key:"sides",get:function(){return this[R]("sides")},set:function(t){if(null==(t=Object(T.c)(t,!0))||Array.isArray(t)||(t=[t,t]),this[_]("sides",t)){var e=E(this);b()(p()(r.prototype),"points",e,this,!0)}}},{key:"angle",get:function(){return this[R]("angle")},set:function(t){if(t=Object(T.d)(t),this[_]("angle",t)){var e=E(this);b()(p()(r.prototype),"points",e,this,!0)}}}]),r}(w.a);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var L=function(t){l()(r,t);var e=O(r);function r(){return i()(this,r),e.apply(this,arguments)}return o()(r,[{key:"isVisible",get:function(){var t=this.attributes.sides;return t[0]>0&&t[1]>0&&u()(p()(r.prototype),"isVisible",this)}}]),r}(g.a);y()(L,"Attr",C),m.a.registerNode(L,"triangle")},function(t,e,r){"use strict";r.d(e,"a",(function(){return L}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a),s=r(9),u=r.n(s),c=r(8),l=r.n(c),f=r(7),h=r.n(f),d=r(1),p=r.n(d),v=r(10),y=r.n(v),g=r(33),m=r(12),x=r(18),b=r.n(x),M=r(2),A=r.n(M),w=r(36),T=r(3);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var S=Symbol.for("spritejs_setAttributeDefault"),_=Symbol.for("spritejs_setAttribute"),R=Symbol.for("spritejs_getAttribute");function E(t){var e=A()(t.sides,2),r=e[0],n=e[1],i=t.angle%360;i<0&&(i+=360),i=Math.PI*i/180;var a=n*Math.cos(i),o=n*Math.sin(i);return[0,0,r,0,a+r,o,a,o]}var C=function(t){l()(r,t);var e=k(r);function r(t){var n;return i()(this,r),(n=e.call(this,t))[S]({sides:[0,0],angle:90,closeType:"normal"}),n}return o()(r,[{key:"points",get:function(){return u()(p()(r.prototype),"points",this)},set:function(t){}},{key:"sides",get:function(){return this[R]("sides")},set:function(t){if(null==(t=Object(T.c)(t,!0))||Array.isArray(t)||(t=[t,t]),this[_]("sides",t)){var e=E(this);b()(p()(r.prototype),"points",e,this,!0)}}},{key:"angle",get:function(){return this[R]("angle")},set:function(t){if(t=Object(T.d)(t),this[_]("angle",t)){var e=E(this);b()(p()(r.prototype),"points",e,this,!0)}}}]),r}(w.a);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var L=function(t){l()(r,t);var e=O(r);function r(){return i()(this,r),e.apply(this,arguments)}return o()(r,[{key:"isVisible",get:function(){var t=this.attributes.sides;return t[0]>0&&t[1]>0&&u()(p()(r.prototype),"isVisible",this)}}]),r}(g.a);y()(L,"Attr",C),m.a.registerNode(L,"parallel")},function(t,e,r){"use strict";r.d(e,"a",(function(){return C}));var n=r(5),i=r.n(n),a=r(8),o=r.n(a),s=r(7),u=r.n(s),c=r(1),l=r.n(c),f=r(10),h=r.n(f),d=r(33),p=r(12),v=r(6),y=r.n(v),g=r(18),m=r.n(g),x=r(9),b=r.n(x),M=r(36),A=r(3);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l()(t);if(e){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var T=Symbol.for("spritejs_setAttributeDefault"),k=Symbol.for("spritejs_setAttribute"),S=Symbol.for("spritejs_getAttribute");function _(t){var e=t.edges,r=t.radius,n=t.offsetAngle,i=Math.PI*n/180-.5*Math.PI;if(e<3||r<=0)return[];for(var a=[],o=0;o<e;o++){var s=2*o*Math.PI/e+i,u=r*Math.cos(s),c=r*Math.sin(s);a.push(u,c)}return a}var R=function(t){o()(r,t);var e=w(r);function r(t){var n;return i()(this,r),(n=e.call(this,t))[T]({edges:3,radius:0,offsetAngle:0,closeType:"normal"}),n}return y()(r,[{key:"points",get:function(){return b()(l()(r.prototype),"points",this)},set:function(t){}},{key:"edges",get:function(){return this[S]("edges")},set:function(t){if(t=Object(A.d)(t),this[k]("edges",t)){var e=_(this);m()(l()(r.prototype),"points",e,this,!0)}}},{key:"radius",get:function(){return this[S]("radius")},set:function(t){if(t=Object(A.d)(t),this[k]("radius",t)){var e=_(this);m()(l()(r.prototype),"points",e,this,!0)}}},{key:"offsetAngle",get:function(){return this[S]("offsetAngle")},set:function(t){if(t=Object(A.d)(t),this[k]("offsetAngle",t)){var e=_(this);m()(l()(r.prototype),"points",e,this,!0)}}}]),r}(M.a);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l()(t);if(e){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var C=function(t){o()(r,t);var e=E(r);function r(){return i()(this,r),e.apply(this,arguments)}return r}(d.a);h()(C,"Attr",R),p.a.registerNode(C,"regular")},function(t,e,r){"use strict";r.d(e,"a",(function(){return C}));var n=r(5),i=r.n(n),a=r(8),o=r.n(a),s=r(7),u=r.n(s),c=r(1),l=r.n(c),f=r(10),h=r.n(f),d=r(33),p=r(12),v=r(6),y=r.n(v),g=r(18),m=r.n(g),x=r(9),b=r.n(x),M=r(36),A=r(3);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l()(t);if(e){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var T=Symbol.for("spritejs_setAttributeDefault"),k=Symbol.for("spritejs_setAttribute"),S=Symbol.for("spritejs_getAttribute");function _(t){var e=t.angles,r=t.innerRadius,n=t.outerRadius,i=t.offsetAngle,a=Math.PI*i/180-.5*Math.PI;if(e<3||r<=0||n<=0)return[];for(var o=[],s=0;s<2*e;s++){var u=s*Math.PI/e+a,c=s%2?r:n,l=c*Math.cos(u),f=c*Math.sin(u);o.push(l,f)}return o}var R=function(t){o()(r,t);var e=w(r);function r(t){var n;return i()(this,r),(n=e.call(this,t))[T]({angles:5,innerRadius:0,outerRadius:0,offsetAngle:0,closeType:"normal"}),n}return y()(r,[{key:"points",get:function(){return b()(l()(r.prototype),"points",this)},set:function(t){}},{key:"angles",get:function(){return this[S]("angles")},set:function(t){if(t=Object(A.d)(t),this[k]("angles",t)){var e=_(this);m()(l()(r.prototype),"points",e,this,!0)}}},{key:"innerRadius",get:function(){return this[S]("innerRadius")},set:function(t){if(t=Object(A.d)(t),this[k]("innerRadius",t)){var e=_(this);m()(l()(r.prototype),"points",e,this,!0)}}},{key:"outerRadius",get:function(){return this[S]("outerRadius")},set:function(t){if(t=Object(A.d)(t),this[k]("outerRadius",t)){var e=_(this);m()(l()(r.prototype),"points",e,this,!0)}}},{key:"radius",get:function(){return[this.innerRadius,this.outerRadius]},set:function(t){t=Object(A.c)(t,!0),Array.isArray(t)||(t=[t,t]),this.innerRadius=t[0],this.outerRadius=t[1]}},{key:"offsetAngle",get:function(){return this[S]("offsetAngle")},set:function(t){if(t=Object(A.d)(t),this[k]("offsetAngle",t)){var e=_(this);m()(l()(r.prototype),"points",e,this,!0)}}}]),r}(M.a);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l()(t);if(e){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var C=function(t){o()(r,t);var e=E(r);function r(){return i()(this,r),e.apply(this,arguments)}return r}(d.a);h()(C,"Attr",R),p.a.registerNode(C,"star")},function(t,e,r){"use strict";r.d(e,"a",(function(){return S}));var n=r(5),i=r.n(n),a=r(8),o=r.n(a),s=r(7),u=r.n(s),c=r(1),l=r.n(c),f=r(10),h=r.n(f),d=r(73),p=r(12),v=r(6),y=r.n(v),g=r(18),m=r.n(g),x=r(9),b=r.n(x),M=r(77),A=r(3);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l()(t);if(e){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var T=function(t){o()(r,t);var e=w(r);function r(){return i()(this,r),e.apply(this,arguments)}return y()(r,[{key:"radius",get:function(){return b()(l()(r.prototype),"radiusX",this)},set:function(t){t=Object(A.d)(t),m()(l()(r.prototype),"radiusX",t,this,!0),m()(l()(r.prototype),"radiusY",t,this,!0)}}]),r}(M.a);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l()(t);if(e){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var S=function(t){o()(r,t);var e=k(r);function r(){return i()(this,r),e.apply(this,arguments)}return r}(d.a);h()(S,"Attr",T),p.a.registerNode(S,"arc")},function(t,e,r){"use strict";r.d(e,"a",(function(){return C}));var n=r(5),i=r.n(n),a=r(6),o=r.n(a),s=r(9),u=r.n(s),c=r(8),l=r.n(c),f=r(7),h=r.n(f),d=r(1),p=r.n(d),v=r(10),y=r.n(v),g=r(32),m=r(12),x=r(13),b=r(35),M=r(3);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var w=Symbol.for("spritejs_setAttributeDefault"),T=Symbol.for("spritejs_setAttribute"),k=Symbol.for("spritejs_getAttribute"),S=Symbol.for("spritejs_declareAlias");function _(t){var e=t.innerRadius,r=t.outerRadius,n=t.startAngle,i=t.endAngle,a=new x.b;if(n=Math.PI*n/180,i=Math.PI*i/180,e>r){var o=[r,e];e=o[0],r=o[1]}if(e<=0&&a.moveTo(0,0),a.arc(0,0,r,n,i,!1),e>0){var s=2*Math.PI;i<n&&(i=n+s+(i-n)%s),i-n>=s&&(i=n+s-1e-6),a.arc(0,0,e,i,n,!0)}return a.closePath(),a.path.reduce((function(t,e){return t+e.join(" ")}),"")}var R=function(t){l()(r,t);var e=A(r);function r(t){var n;return i()(this,r),(n=e.call(this,t))[w]({innerRadius:0,outerRadius:0,startAngle:0,endAngle:360}),n[S]("radius","angle"),n}return o()(r,[{key:"d",get:function(){return this[k]("d")},set:function(t){}},{key:"innerRadius",get:function(){return this[k]("innerRadius")},set:function(t){if(t=Object(M.d)(t),this[T]("innerRadius",t)){var e=_(this);this[T]("d",e)}}},{key:"outerRadius",get:function(){return this[k]("outerRadius")},set:function(t){if(t=Object(M.d)(t),this[T]("outerRadius",t)){var e=_(this);this[T]("d",e)}}},{key:"radius",get:function(){return[this.innerRadius,this.outerRadius]},set:function(t){t=Object(M.c)(t,!0),Array.isArray(t)||(t=[t,t]),this.innerRadius=t[0],this.outerRadius=t[1]}},{key:"startAngle",get:function(){return this[k]("startAngle")},set:function(t){if(t=Object(M.d)(t),this[T]("startAngle",t)){var e=_(this);this[T]("d",e)}}},{key:"endAngle",get:function(){return this[k]("endAngle")},set:function(t){if(t=Object(M.d)(t),this[T]("endAngle",t)){var e=_(this);this[T]("d",e)}}},{key:"angle",get:function(){return[this.startAngle,this.endAngle]},set:function(t){t=Object(M.c)(t),Array.isArray(t)||(t=[t,t]),this.startAngle=t[0],this.endAngle=t[1]}}]),r}(b.a);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var C=function(t){l()(r,t);var e=E(r);function r(){return i()(this,r),e.apply(this,arguments)}return o()(r,[{key:"isVisible",get:function(){var t=this.attributes,e=t.innerRadius,n=t.outerRadius,i=t.startAngle,a=t.endAngle;return(e>0||n>0)&&i!==a&&u()(p()(r.prototype),"isVisible",this)}}]),r}(g.a);y()(C,"Attr",R),m.a.registerNode(C,"ring")},function(t,e,r){"use strict";r.d(e,"a",(function(){return F}));var n=r(2),i=r.n(n),a=r(5),o=r.n(a),s=r(6),u=r.n(s),c=r(9),l=r.n(c),f=r(8),h=r.n(f),d=r(7),p=r.n(d),v=r(1),y=r.n(v),g=r(10),m=r.n(g),x=r(13),b=r(22),M=r(42),A=r(3),w=r(14),T=r(43);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var i=y()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var S=Symbol.for("spritejs_setAttributeDefault"),_=Symbol.for("spritejs_setAttribute"),R=Symbol.for("spritejs_getAttribute"),E=Symbol.for("spritejs_declareAlias"),C=function(t){h()(r,t);var e=k(r);function r(t){var n;return o()(this,r),(n=e.call(this,t))[S]({text:"",fontSize:16,fontFamily:"Helvetica,Arial,sans-serif",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",fontStretch:"normal",lineHeight:"",textAlign:"left",strokeColor:void 0,strokeWidth:1,fillColor:void 0,verticalAlign:"middle"}),n[E]("font"),n}return u()(r,[{key:"text",get:function(){return this[R]("text")||" "},set:function(t){this[_]("text",t)}},{key:"fontSize",get:function(){return this[R]("fontSize")},set:function(t){this[_]("fontSize",Object(A.d)(t))}},{key:"fontFamily",get:function(){return this[R]("fontFamily")},set:function(t){this[_]("fontFamily",t)}},{key:"fontStyle",get:function(){return this[R]("fontStyle")},set:function(t){this[_]("fontStyle",t)}},{key:"fontVariant",get:function(){return this[R]("fontVariant")},set:function(t){this[_]("fontVariant",t)}},{key:"fontWeight",get:function(){return this[R]("fontWeight")},set:function(t){this[_]("fontWeight",t)}},{key:"fontStretch",get:function(){return this[R]("fontStretch")},set:function(t){this[_]("fontStretch",t)}},{key:"lineHeight",get:function(){return this[R]("lineHeight")||this.fontSize},set:function(t){this[_]("lineHeight",Object(A.d)(t))}},{key:"textAlign",get:function(){return this[R]("textAlign")},set:function(t){this[_]("textAlign",t)}},{key:"strokeColor",get:function(){return this[R]("strokeColor")},set:function(t){this[_]("strokeColor",Object(w.c)(t))}},{key:"strokeWidth",get:function(){return this[R]("strokeWidth")},set:function(t){this[_]("strokeWidth",Object(A.d)(t))}},{key:"verticalAlign",get:function(){return this[R]("verticalAlign")},set:function(t){this[_]("verticalAlign",t)}},{key:"fillColor",get:function(){return this[R]("fillColor")},set:function(t){this[_]("fillColor",Object(w.c)(t))}},{key:"font",get:function(){var t=this.fontStyle,e=this.fontVariant,r=this.fontWeight,n=this.fontStretch,i=this.fontSize,a=this.lineHeight,o=this.fontFamily;return"".concat(t," ").concat(e," ").concat(r," ").concat(n," ").concat(i,"px/").concat(a,"px ").concat(o)},set:function(t){if(null==t)this.fontStyle=null,this.fontVariant=null,this.fontWeight=null,this.fontStretch=null,this.fontSize=null,this.lineHeight=null,this.fontFamily=null;else{var e=Object(x.f)(t);this.fontStyle=e.style,this.fontVariant=e.variant,this.fontWeight=e.weight,this.fontStretch=e.stretch,this.fontSize=Object(A.d)("".concat(e.size).concat(e.unit)),e.lineHeight&&(this.lineHeight=e.pxLineHeight),this.fontFamily=e.family}}}]),r}(T.a),O=r(12);function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var i=y()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var D=Symbol("textImage"),P=Symbol("textImageTask"),j=Symbol("textureContext"),I=Symbol("updateTextureRect"),q=Symbol("textCanvas"),F=function(t){h()(r,t);var e=L(r);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),"string"==typeof t&&(t={text:t}),e.call(this,t)}return u()(r,[{key:"draw",value:function(t){l()(y()(r.prototype),"draw",this).call(this,t);var e=this.mesh;if(e){var n=this[D];if(n){var a=e.texture;if(!a||this[j]&&this[j]!==this.renderer||n.needsUpdate?(n.needsUpdate=!1,Object(b.c)(n.image,this.renderer),a=Object(b.b)(n.image,this.renderer),this[I]=!0):a=e.uniforms.u_texSampler,this[I]){var o=n.rect.slice(2),s=i()(o,2),u=s[0],c=s[1],f=i()(this.contentSize,2),h=f[0],d=(f[1],this.attributes.textAlign),p=this.attributes.verticalAlign,v=0;"center"===d?v=(h-u)/2:"right"!==d&&"end"!==d||(v=h-u);var g=this.attributes.fontSize,m=this.attributes.lineHeight,x=0;"top"===p?x=(g-m)/2:"bottom"===p&&(x=(m-g)/2);var M=this.attributes,A=M.paddingLeft,w=M.paddingTop,T=this.attributes.borderWidth;v+=A+T,x+=w+T;var k=this.attributes,S=k.anchorX,_=k.anchorY;v-=this.clientSize[0]*S,x-=this.clientSize[1]*_,e.setTexture(a,{rect:[v,x,u,c]}),this[I]=!1,this[j]=this.renderer}}}return t}},{key:"onPropertyChange",value:function(t,e,n){"text"===t||"fontSize"===t||"fontFamily"===t||"fontStyle"===t||"fontVariant"===t||"fontWeight"===t||"fontStretch"===t||"lineHeight"===t||"strokeColor"===t||"fillColor"===t||"strokeWidth"===t?this.updateText():("textAlign"!==t&&"verticalAlign"!==t||(this[I]=!0),l()(y()(r.prototype),"onPropertyChange",this).call(this,t,e,n))}},{key:"updateContours",value:function(){l()(y()(r.prototype),"updateContours",this).call(this),this[I]=!0}},{key:"updateText",value:function(){var t=this;this[P]||(this[P]=Promise.resolve().then((function(){t[P]=null;var e=t.attributes,r=e.text,n=e.font,i=e.fillColor,a=e.strokeColor,o=e.strokeWidth,s=t.layer?t.layer.displayRatio:1;return t[q]=t[q]||x.a.createCanvas(1,1),t[D]=x.a.createText(r,{font:n,fillColor:i,strokeColor:a,strokeWidth:o,parseFont:x.f,ratio:s,textCanvas:t[q]}),t[D].needsUpdate=!0,t.updateContours(),t.forceUpdate(),t[D]})))}},{key:"contentSize",get:function(){var t=l()(y()(r.prototype),"contentSize",this),e=i()(t,2),n=e[0],a=e[1],o=this.attributes,s=o.width,u=o.height;if(null==s||null==u){var c=this[D];c&&(null==s&&(n=c.rect[2]),null==u&&(a=c.rect[3]))}return[n,a]}},{key:"text",get:function(){return this.attributes.text},set:function(t){this.attributes.text=t}},{key:"textContent",get:function(){return this.attributes.text},set:function(t){this.attributes.text=t}},{key:"textImageReady",get:function(){return this[P]||Promise.resolve()}}]),r}(M.a);m()(F,"Attr",C),O.a.registerNode(F,"label")},function(t,e,r){"use strict";r.d(e,"a",(function(){return N}));var n=r(2),i=r.n(n),a=r(53),o=r.n(a),s=r(5),u=r.n(s),c=r(6),l=r.n(c),f=r(30),h=r.n(f),d=r(9),p=r.n(d),v=r(8),y=r.n(v),g=r(7),m=r.n(g),x=r(1),b=r.n(x),M=r(10),A=r.n(M),w=r(72),T=r(76);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b()(t);if(e){var i=b()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var S=Symbol.for("spritejs_getAttribute"),_=Symbol.for("spritejs_setAttribute"),R=Symbol.for("spritejs_setAttributeDefault"),E=function(t){y()(r,t);var e=k(r);function r(t){var n;return u()(this,r),(n=e.call(this,t))[R]({passEvents:!1,flexible:!1}),n}return l()(r,[{key:"texture",get:function(){return this[S]("texture")},set:function(t){}},{key:"passEvents",get:function(){return this[S]("passEvents")},set:function(t){return this[_]("passEvents",t)}},{key:"flexible",get:function(){return this[S]("flexible")},set:function(t){return this[_]("flexible",t)}}]),r}(T.a),C=r(12),O=r(25),L=r(3);function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b()(t);if(e){var i=b()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m()(this,r)}}r(0).glMatrix.setMatrixArrayType(Array);var P="http://www.w3.org/2000/svg",j=Symbol.for("spritejs_setAttribute"),I=Symbol("root"),q=Symbol("task");function F(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t[I];if(r&&r.children[0])if(e&&t.attributes.flexible){var n=t.svg;if(!n.hasAttribute("data-original-width")){var i=n.getAttribute("width");i=i?Object(L.b)(i):300;var a=n.getAttribute("height");a=a?Object(L.b)(a):150,n.hasAttribute("viewBox")||n.setAttribute("viewBox","0 0 ".concat(Math.round(i)," ").concat(Math.round(a))),n.setAttribute("data-original-width",i),n.setAttribute("data-original-height",a)}var o=t.attributes.width||Number(n.getAttribute("data-original-width")),s=t.attributes.height||Number(n.getAttribute("data-original-height")),u=t.attributes.scale[0],c=t.layer?t.layer.displayRatio:1;if(o*=u*c,s*=u*c,n.setAttribute("width",o),n.setAttribute("height",s),o&&s&&t.textureImage){var l=t.textureImage.width,f=t.textureImage.height,h=t.clientSize;t.attributes.textureRect=[0,0,Math.round(h[0]*l/o),Math.round(h[1]*f/s)]}}else t[q]||(t[q]=Promise.resolve().then((function(){delete t[q];var e=r.innerHTML,n=new Blob([e],{type:"image/svg+xml"}),i=URL.createObjectURL(n),a=new Image;a.onload=function(){a.width&&a.height?(t.attributes[j]("texture",a),t.attributes.flexible&&(t.attributes.textureRect=null)):t.attributes[j]("texture",null)},a.src=i})))}var N=function(t){y()(r,t);var e=D(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u()(this,r),"string"==typeof n&&(n={svgText:n});var i=n,a=i.svgText,s=o()(i,["svgText"]);if((t=e.call(this,s))[I]=document.createElement("div"),a){t[I].innerHTML=a;var c=t[I].children[0];c?c.setAttribute("xmlns",P):(fetch(a).then((function(t){return t.text()})).then((function(e){t[I].innerHTML=e,t.observer&&!t.attributes.flexible||F(h()(t))})),a=null)}if(!a){var l=document.createElementNS(P,"svg");l.setAttribute("xmlns",P),t[I].appendChild(l)}if(F(h()(t)),"function"==typeof MutationObserver){var f=new MutationObserver((function(e){F(h()(t),!1)}));f.observe(t[I],{attributes:!0,subtree:!0,characterData:!0,childList:!0}),t.observer=f}return t}return l()(r,[{key:"dispatchPointerEvent",value:function(t){var e=p()(b()(r.prototype),"dispatchPointerEvent",this).call(this,t);if(e&&this.attributes.passEvents&&"function"==typeof MouseEvent){var n=t.x,a=t.y,o=this.getOffsetPosition(n,a),s=i()(o,2),u=s[0],c=s[1],l=t.originalEvent,f=this.attributes.anchor,h=this.clientSize;u=(u+f[0]*h[0])/2,c=(c+f[1]*h[1])/2;var d=t.type;if(d===l.type){var v=null;if(l instanceof MouseEvent)v=new MouseEvent(d,{screenX:u,screenY:c,clientX:u,clientY:c,bubbles:l.bubbles,button:l.button,buttons:l.buttons,cancelBubble:l.cancelBubble,cancelable:l.cancelable,currentTarget:l.currentTarget,fromElement:l.fromElement,relatedTarget:l.relatedTarget,returnValue:l.returnValue,srcElement:l.srcElement,target:l.target,toElement:l.toElement,which:l.witch});else if(l instanceof TouchEvent){for(var y=null,g=l.changedTouches||[l],m=0;m<g.length;m++){var x=g[m];if(t.identifier===x.identifier){y=x;break}}if(y){var M=new Touch({identifier:y.identifier,target:y.target,clientX:u,clientY:c,screenX:u,screenY:c,pageX:u,pageY:c,radiusX:y.radiusX,radiusY:y.radiusY,rotationAngle:y.rotationAngle,force:y.force});v=new TouchEvent(d,{cancelable:l.cancelable,bubbles:l.bubbles,composed:l.composed,touches:[M],targetTouches:[M],changedTouches:[M]})}}else v=l;v&&this.svg.dispatchEvent(v)}}return e}},{key:"getElementById",value:function(t){return Object(O.a)("#".concat(t),this)}},{key:"getElementsByClassName",value:function(t){return Object(O.b)(".".concat(t),this)}},{key:"getElementsByName",value:function(t){return Object(O.b)('[name="'.concat(t,'"]'),this)}},{key:"getElementsByTagName",value:function(t){return Object(O.b)(t,this)}},{key:"querySelector",value:function(t){return Object(O.a)(t,this)}},{key:"querySelectorAll",value:function(t){return Object(O.b)(t,this)}},{key:"onPropertyChange",value:function(t,e,n){p()(b()(r.prototype),"onPropertyChange",this).call(this,t,e,n),"flexible"===t&&F(this),!this.attributes.flexible||"width"!==t&&"height"!==t&&"scale"!==t&&"transform"!==t||F(this)}},{key:"children",get:function(){return[this.svg]}},{key:"childNodes",get:function(){return[this.svg]}},{key:"svg",get:function(){return this[I]?this[I].children[0]:null}}]),r}(w.a);A()(N,"Attr",E),C.a.registerNode(N,"spritesvg")},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(109),i=r(112),a=r(80),o=r(111);t.exports=function(t){return n(t)||i(t)||a(t)||o()}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(183),i=r(185);t.exports=function(t,e){if(e=e||{},0===(t=t.filter((function(t){return t.length>2}))).length)return{positions:[],cells:[]};"number"!=typeof e.vertexSize&&(e.vertexSize=t[0][0].length),t=t.map((function(t){return t.reduce((function(t,e){return t.concat(e)}))}));for(var r="evenodd"===e.rule?n.WINDING_ODD:n.WINDING_NONZERO,a=n.tesselate(i({contours:t,windingRule:r,elementType:n.POLYGONS,polySize:3,vertexSize:2},e)),o=[],s=0;s<a.vertices.length;s+=e.vertexSize){var u=a.vertices.slice(s,s+e.vertexSize);o.push(u)}var c=[];for(s=0;s<a.elements.length;s+=3){var l=a.elements[s],f=a.elements[s+1],h=a.elements[s+2];c.push([l,f,h])}return{positions:o,cells:c}}},function(t,e,r){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(this,arguments)}r(0).glMatrix.setMatrixArrayType(Array),t.exports=n},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(110);t.exports=function(t){if(Array.isArray(t))return n(t)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,r){"use strict";r.r(e),function(t){var e=r(16),n=r.n(e);r(0).glMatrix.setMatrixArrayType(Array);var i=function(t){var e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r,n){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),o=new w(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return k()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=b(o,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,o),a}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};p[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==e&&r.call(y,a)&&(p=y);var g=d.prototype=f.prototype=Object.create(p);function m(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t,e){var i;this._invoke=function(a,o){function s(){return new e((function(i,s){!function i(a,o,s,u){var l=c(t[a],t,o);if("throw"!==l.type){var f=l.arg,h=f.value;return h&&"object"===n()(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(h).then((function(t){f.value=t,s(f)}),(function(t){return i("throw",t,s,u)}))}u(l.arg)}(a,o,i,s)}))}return i=i?i.then(s,s):s()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=g.constructor=d,d.constructor=h,d[s]=h.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(x.prototype),x.prototype[o]=function(){return this},t.AsyncIterator=x,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new x(u(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},m(g),g[s]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}("object"===n()(t)?t.exports:{});try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}}.call(this,r(48)(t))},function(t,e,r){"use strict";(function(e){r(0).glMatrix.setMatrixArrayType(Array);var n=r(165),i=r(166),a=r(167);t.exports=function(t){var r,s,u=[],c=1;if("string"==typeof t)if(n[t])u=n[t].slice(),s="rgb";else if("transparent"===t)c=0,s="rgb",u=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var l=(d=t.slice(1)).length;c=1,l<=4?(u=[parseInt(d[0]+d[0],16),parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16)],4===l&&(c=parseInt(d[3]+d[3],16)/255)):(u=[parseInt(d[0]+d[1],16),parseInt(d[2]+d[3],16),parseInt(d[4]+d[5],16)],8===l&&(c=parseInt(d[6]+d[7],16)/255)),u[0]||(u[0]=0),u[1]||(u[1]=0),u[2]||(u[2]=0),s="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var f=r[1],h="rgb"===f,d=f.replace(/a$/,"");s=d;l="cmyk"===d?4:"gray"===d?1:3;u=r[2].trim().split(/\s*,\s*/).map((function(t,e){if(/%$/.test(t))return e===l?parseFloat(t)/100:"rgb"===d?255*parseFloat(t)/100:parseFloat(t);if("h"===d[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==o[t])return o[t]}return parseFloat(t)})),f===d&&u.push(1),c=h||void 0===u[l]?1:u[l],u=u.slice(0,l)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(u=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),s=t.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(t))if(i(t)){var p=a(t.r,t.red,t.R,null);null!==p?(s="rgb",u=[p,a(t.g,t.green,t.G),a(t.b,t.blue,t.B)]):(s="hsl",u=[a(t.h,t.hue,t.H),a(t.s,t.saturation,t.S),a(t.l,t.lightness,t.L,t.b,t.brightness)]),c=a(t.a,t.alpha,t.opacity,1),null!=t.opacity&&(c/=100)}else(Array.isArray(t)||e.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t))&&(u=[t[0],t[1],t[2]],s="rgb",c=4===t.length?t[3]:1);else s="rgb",u=[t>>>16,(65280&t)>>>8,255&t];return{space:s,values:u,alpha:c}};var o={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this,r(79))},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=Object.prototype.toString;t.exports=function(t){var e;return"[object Object]"===n.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(169);t.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,r,n,i,a,o=t[0]/360,s=t[1]/100,u=t[2]/100;if(0===s)return[a=255*u,a,a];e=2*u-(r=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var c=0;c<3;c++)(n=o+1/3*-(c-1))<0?n++:n>1&&n--,a=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,i[c]=255*a;return i}},n.hsl=function(t){var e,r,n=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(n,i,a),s=Math.max(n,i,a),u=s-o;return s===o?e=0:n===s?e=(i-a)/u:i===s?e=2+(a-n)/u:a===s&&(e=4+(n-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),r=(o+s)/2,[e,100*(s===o?0:r<=.5?u/(s+o):u/(2-s-o)),100*r]}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),t.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e,r){return e<r?t<e?e:t>r?r:t:t<r?r:t>e?e:t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=r(172)()},function(t,e,r){function n(t){return[t[0],t[1]]}function i(t,e){return[t,e]}r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){var e="number"==typeof(t=t||{}).recursion?t.recursion:8,r="number"==typeof t.epsilon?t.epsilon:1.1920929e-7,a="number"==typeof t.pathEpsilon?t.pathEpsilon:1,o="number"==typeof t.angleEpsilon?t.angleEpsilon:.01,s=t.angleTolerance||0,u=t.cuspLimit||0;return function(t,c,l,f,h,d){d||(d=[]);var p=a/(h="number"==typeof h?h:1);return function(t,a,c,l,f,h){f.push(n(t));var d=t[0],p=t[1],v=a[0],y=a[1],g=c[0],m=c[1],x=l[0],b=l[1];(function t(n,a,c,l,f,h,d,p,v,y,g){if(g>e)return;var m=Math.PI,x=(n+c)/2,b=(a+l)/2,M=(c+f)/2,A=(l+h)/2,w=(f+d)/2,T=(h+p)/2,k=(x+M)/2,S=(b+A)/2,_=(M+w)/2,R=(A+T)/2,E=(k+_)/2,C=(S+R)/2;if(g>0){var O,L,D=d-n,P=p-a,j=Math.abs((c-d)*P-(l-p)*D),I=Math.abs((f-d)*P-(h-p)*D);if(j>r&&I>r){if((j+I)*(j+I)<=y*(D*D+P*P)){if(s<o)return void v.push(i(E,C));var q=Math.atan2(h-l,f-c);if(O=Math.abs(q-Math.atan2(l-a,c-n)),L=Math.abs(Math.atan2(p-h,d-f)-q),O>=m&&(O=2*m-O),L>=m&&(L=2*m-L),O+L<s)return void v.push(i(E,C));if(0!==u){if(O>u)return void v.push(i(c,l));if(L>u)return void v.push(i(f,h))}}}else if(j>r){if(j*j<=y*(D*D+P*P)){if(s<o)return void v.push(i(E,C));if((O=Math.abs(Math.atan2(h-l,f-c)-Math.atan2(l-a,c-n)))>=m&&(O=2*m-O),O<s)return v.push(i(c,l)),void v.push(i(f,h));if(0!==u&&O>u)return void v.push(i(c,l))}}else if(I>r){if(I*I<=y*(D*D+P*P)){if(s<o)return void v.push(i(E,C));if((O=Math.abs(Math.atan2(p-h,d-f)-Math.atan2(h-l,f-c)))>=m&&(O=2*m-O),O<s)return v.push(i(c,l)),void v.push(i(f,h));if(0!==u&&O>u)return void v.push(i(f,h))}}else if((D=E-(n+d)/2)*D+(P=C-(a+p)/2)*P<=y)return void v.push(i(E,C))}t(n,a,x,b,k,S,E,C,v,y,g+1),t(E,C,_,R,w,T,d,p,v,y,g+1)})(d,p,v,y,g,m,x,b,f,h,0),f.push(n(l))}(t,c,l,f,d,p*=p),d}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(174),i=r(175);t.exports=function(t,e){return t=n(t,e),t=i(t,e)},t.exports.radialDistance=n,t.exports.douglasPeucker=i},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){if(t.length<=1)return t;for(var r,n,i,a,o,s=(e="number"==typeof e?e:1)*e,u=t[0],c=[u],l=1,f=t.length;l<f;l++)r=t[l],i=u,a=void 0,o=void 0,a=(n=r)[0]-i[0],o=n[1]-i[1],a*a+o*o>s&&(c.push(r),u=r);return u!==r&&c.push(r),c}},function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],a=r[0]-n,o=r[1]-i;if(0!==a||0!==o){var s=((t[0]-n)*a+(t[1]-i)*o)/(a*a+o*o);s>1?(n=r[0],i=r[1]):s>0&&(n+=a*s,i+=o*s)}return(a=t[0]-n)*a+(o=t[1]-i)*o}r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){if(t.length<=1)return t;var r=(e="number"==typeof e?e:1)*e,i=t.length-1,a=[t[0]];return function t(e,r,i,a,o){for(var s,u=a,c=r+1;c<i;c++){var l=n(e[c],e[r],e[i]);l>u&&(s=c,u=l)}u>a&&(s-r>1&&t(e,r,s,a,o),o.push(e[s]),i-s>1&&t(e,s,i,a,o))}(t,0,i,r,a),a.push(t[i]),a}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(178),i=r(179),a=r(180),o=r(181),s=r(182),u=[0,0];t.exports.computeMiter=function(t,e,r,o,c){return n(t,r,o),a(t,t),i(e,-t[1],t[0]),i(u,-r[1],r[0]),c/s(e,u)},t.exports.normal=function(t,e){return i(t,-e[1],e[0]),t},t.exports.direction=function(t,e,r){return o(t,e,r),a(t,t),t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e,r){return t[0]=e,t[1]=r,t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){var r=e[0],n=e[1],i=r*r+n*n;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i);return t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=r(184)},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n={};t.exports=n,n.WINDING_ODD=0,n.WINDING_NONZERO=1,n.WINDING_POSITIVE=2,n.WINDING_NEGATIVE=3,n.WINDING_ABS_GEQ_TWO=4,n.POLYGONS=0,n.CONNECTED_POLYGONS=1,n.BOUNDARY_CONTOURS=2,n.tesselate=function(t){for(var e=t.debug||!1,r=new g,i=0;i<t.contours.length;i++)r.addContour(t.vertexSize||2,t.contours[i]);return r.tesselate(t.windingRule||n.WINDING_ODD,t.elementType||n.POLYGONS,t.polySize||3,t.vertexSize||2,t.normal||[0,0,1]),{vertices:r.vertices,vertexIndices:r.vertexIndices,vertexCount:r.vertexCount,elements:r.elements,elementCount:r.elementCount,mesh:e?r.mesh:void 0}};var i=function(t){if(!t)throw"Assertion Failed!"};function a(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}function o(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}function s(t){this.next=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Org=null,this.Lface=null,this.activeRegion=null,this.winding=0,this.side=t}function u(){var t=new a,e=new o,r=new s(0),n=new s(1);t.next=t.prev=t,t.anEdge=null,e.next=e.prev=e,e.anEdge=null,e.trail=null,e.marked=!1,e.inside=!1,r.next=r,r.Sym=n,r.Onext=null,r.Lnext=null,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,n.next=n,n.Sym=r,n.Onext=null,n.Lnext=null,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,this.vHead=t,this.fHead=e,this.eHead=r,this.eHeadSym=n}s.prototype={get Rface(){return this.Sym.Lface},set Rface(t){this.Sym.Lface=t},get Dst(){return this.Sym.Org},set Dst(t){this.Sym.Org=t},get Oprev(){return this.Sym.Lnext},set Oprev(t){this.Sym.Lnext=t},get Lprev(){return this.Onext.Sym},set Lprev(t){this.Onext.Sym=t},get Dprev(){return this.Lnext.Sym},set Dprev(t){this.Lnext.Sym=t},get Rprev(){return this.Sym.Onext},set Rprev(t){this.Sym.Onext=t},get Dnext(){return this.Sym.Onext.Sym},set Dnext(t){this.Sym.Onext.Sym=t},get Rnext(){return this.Sym.Lnext.Sym},set Rnext(t){this.Sym.Lnext.Sym=t}},u.prototype={makeEdge_:function(t){var e=new s(0),r=new s(1);t.Sym.side<t.side&&(t=t.Sym);var n=t.Sym.next;return r.next=n,n.Sym.next=e,e.next=t,t.Sym.next=r,e.Sym=r,e.Onext=e,e.Lnext=r,e.Org=null,e.Lface=null,e.winding=0,e.activeRegion=null,r.Sym=e,r.Onext=r,r.Lnext=e,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,e},splice_:function(t,e){var r=t.Onext,n=e.Onext;r.Sym.Lnext=e,n.Sym.Lnext=t,t.Onext=n,e.Onext=r},makeVertex_:function(t,e,r){var n=t;i(null!==n);var a=r.prev;n.prev=a,a.next=n,n.next=r,r.prev=n,n.anEdge=e;var o=e;do{o.Org=n,o=o.Onext}while(o!==e)},makeFace_:function(t,e,r){var n=t;i(null!==n);var a=r.prev;n.prev=a,a.next=n,n.next=r,r.prev=n,n.anEdge=e,n.trail=null,n.marked=!1,n.inside=r.inside;var o=e;do{o.Lface=n,o=o.Lnext}while(o!==e)},killEdge_:function(t){t.Sym.side<t.side&&(t=t.Sym);var e=t.next,r=t.Sym.next;e.Sym.next=r,r.Sym.next=e},killVertex_:function(t,e){var r=t.anEdge,n=r;do{n.Org=e,n=n.Onext}while(n!==r);var i=t.prev,a=t.next;a.prev=i,i.next=a},killFace_:function(t,e){var r=t.anEdge,n=r;do{n.Lface=e,n=n.Lnext}while(n!==r);var i=t.prev,a=t.next;a.prev=i,i.next=a},makeEdge:function(){var t=new a,e=new a,r=new o,n=this.makeEdge_(this.eHead);return this.makeVertex_(t,n,this.vHead),this.makeVertex_(e,n.Sym,this.vHead),this.makeFace_(r,n,this.fHead),n},splice:function(t,e){var r=!1,n=!1;if(t!==e){if(e.Org!==t.Org&&(n=!0,this.killVertex_(e.Org,t.Org)),e.Lface!==t.Lface&&(r=!0,this.killFace_(e.Lface,t.Lface)),this.splice_(e,t),!n){var i=new a;this.makeVertex_(i,e,t.Org),t.Org.anEdge=t}if(!r){var s=new o;this.makeFace_(s,e,t.Lface),t.Lface.anEdge=t}}},delete:function(t){var e=t.Sym,r=!1;if(t.Lface!==t.Rface&&(r=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!r){var n=new o;this.makeFace_(n,t,t.Lface)}e.Onext===e?(this.killVertex_(e.Org,null),this.killFace_(e.Lface,null)):(t.Lface.anEdge=e.Oprev,e.Org.anEdge=e.Onext,this.splice_(e,e.Oprev)),this.killEdge_(t)},addEdgeVertex:function(t){var e=this.makeEdge_(t),r=e.Sym;this.splice_(e,t.Lnext),e.Org=t.Dst;var n=new a;return this.makeVertex_(n,r,e.Org),e.Lface=r.Lface=t.Lface,e},splitEdge:function(t,e){var r=this.addEdgeVertex(t).Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,r),t.Dst=r.Org,r.Dst.anEdge=r.Sym,r.Rface=t.Rface,r.winding=t.winding,r.Sym.winding=t.Sym.winding,r},connect:function(t,e){var r=!1,n=this.makeEdge_(t),i=n.Sym;if(e.Lface!==t.Lface&&(r=!0,this.killFace_(e.Lface,t.Lface)),this.splice_(n,t.Lnext),this.splice_(i,e),n.Org=t.Dst,i.Org=e.Org,n.Lface=i.Lface=t.Lface,t.Lface.anEdge=i,!r){var a=new o;this.makeFace_(a,n,t.Lface)}return n},zapFace:function(t){var e,r,n,i,a,o=t.anEdge;r=o.Lnext;do{r=(e=r).Lnext,e.Lface=null,null===e.Rface&&(e.Onext===e?this.killVertex_(e.Org,null):(e.Org.anEdge=e.Onext,this.splice_(e,e.Oprev)),(n=e.Sym).Onext===n?this.killVertex_(n.Org,null):(n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),this.killEdge_(e))}while(e!=o);i=t.prev,(a=t.next).prev=i,i.next=a},countFaceVerts_:function(t){var e=t.anEdge,r=0;do{r++,e=e.Lnext}while(e!==t.anEdge);return r},mergeConvexFaces:function(t){var e,r,n,i,a;for(e=this.fHead.next;e!==this.fHead;e=e.next)if(e.inside)for(a=(r=e.anEdge).Org;n=r.Lnext,(i=r.Sym)&&i.Lface&&i.Lface.inside&&this.countFaceVerts_(e)+this.countFaceVerts_(i.Lface)-2<=t&&c.vertCCW(r.Lprev.Org,r.Org,i.Lnext.Lnext.Org)&&c.vertCCW(i.Lprev.Org,i.Org,r.Lnext.Lnext.Org)&&(n=i.Lnext,this.delete(i),r=null,i=null),!r||r.Lnext.Org!==a;)r=n;return!0},check:function(){var t,e,r,n,a,o,s=this.fHead,u=this.vHead,c=this.eHead;for(e=s,e=s;(t=e.next)!==s;e=t){i(t.prev===e),a=t.anEdge;do{i(a.Sym!==a),i(a.Sym.Sym===a),i(a.Lnext.Onext.Sym===a),i(a.Onext.Sym.Lnext===a),i(a.Lface===t),a=a.Lnext}while(a!==t.anEdge)}for(i(t.prev===e&&null===t.anEdge),n=u,n=u;(r=n.next)!==u;n=r){i(r.prev===n),a=r.anEdge;do{i(a.Sym!==a),i(a.Sym.Sym===a),i(a.Lnext.Onext.Sym===a),i(a.Onext.Sym.Lnext===a),i(a.Org===r),a=a.Onext}while(a!==r.anEdge)}for(i(r.prev===n&&null===r.anEdge),o=c,o=c;(a=o.next)!==c;o=a)i(a.Sym.next===o.Sym),i(a.Sym!==a),i(a.Sym.Sym===a),i(null!==a.Org),i(null!==a.Dst),i(a.Lnext.Onext.Sym===a),i(a.Onext.Sym.Lnext===a);i(a.Sym.next===o.Sym&&a.Sym===this.eHeadSym&&a.Sym.Sym===a&&null===a.Org&&null===a.Dst&&null===a.Lface&&null===a.Rface)}};var c={};function l(){this.key=null,this.next=null,this.prev=null}function f(t,e){this.head=new l,this.head.next=this.head,this.head.prev=this.head,this.frame=t,this.leq=e}function h(){this.handle=null}function d(){this.key=null,this.node=null}function p(t,e){this.size=0,this.max=t,this.nodes=[],this.nodes.length=t+1;for(var r=0;r<this.nodes.length;r++)this.nodes[r]=new h;this.handles=[],this.handles.length=t+1;for(r=0;r<this.handles.length;r++)this.handles[r]=new d;this.initialized=!1,this.freeList=0,this.leq=e,this.nodes[1].handle=1,this.handles[1].key=null}function v(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}c.vertEq=function(t,e){return t.s===e.s&&t.t===e.t},c.vertLeq=function(t,e){return t.s<e.s||t.s===e.s&&t.t<=e.t},c.transLeq=function(t,e){return t.t<e.t||t.t===e.t&&t.s<=e.s},c.edgeGoesLeft=function(t){return c.vertLeq(t.Dst,t.Org)},c.edgeGoesRight=function(t){return c.vertLeq(t.Org,t.Dst)},c.vertL1dist=function(t,e){return Math.abs(t.s-e.s)+Math.abs(t.t-e.t)},c.edgeEval=function(t,e,r){i(c.vertLeq(t,e)&&c.vertLeq(e,r));var n=e.s-t.s,a=r.s-e.s;return n+a>0?n<a?e.t-t.t+(t.t-r.t)*(n/(n+a)):e.t-r.t+(r.t-t.t)*(a/(n+a)):0},c.edgeSign=function(t,e,r){i(c.vertLeq(t,e)&&c.vertLeq(e,r));var n=e.s-t.s,a=r.s-e.s;return n+a>0?(e.t-r.t)*n+(e.t-t.t)*a:0},c.transEval=function(t,e,r){i(c.transLeq(t,e)&&c.transLeq(e,r));var n=e.t-t.t,a=r.t-e.t;return n+a>0?n<a?e.s-t.s+(t.s-r.s)*(n/(n+a)):e.s-r.s+(r.s-t.s)*(a/(n+a)):0},c.transSign=function(t,e,r){i(c.transLeq(t,e)&&c.transLeq(e,r));var n=e.t-t.t,a=r.t-e.t;return n+a>0?(e.s-r.s)*n+(e.s-t.s)*a:0},c.vertCCW=function(t,e,r){return t.s*(e.t-r.t)+e.s*(r.t-t.t)+r.s*(t.t-e.t)>=0},c.interpolate=function(t,e,r,n){return(t=t<0?0:t)<=(r=r<0?0:r)?0==r?(e+n)/2:e+t/(t+r)*(n-e):n+r/(t+r)*(e-n)},c.intersect=function(t,e,r,n,i){var a,o,s;c.vertLeq(t,e)||(s=t,t=e,e=s),c.vertLeq(r,n)||(s=r,r=n,n=s),c.vertLeq(t,r)||(s=t,t=r,r=s,s=e,e=n,n=s),c.vertLeq(r,e)?c.vertLeq(e,n)?((a=c.edgeEval(t,r,e))+(o=c.edgeEval(r,e,n))<0&&(a=-a,o=-o),i.s=c.interpolate(a,r.s,o,e.s)):((a=c.edgeSign(t,r,e))+(o=-c.edgeSign(t,n,e))<0&&(a=-a,o=-o),i.s=c.interpolate(a,r.s,o,n.s)):i.s=(r.s+e.s)/2,c.transLeq(t,e)||(s=t,t=e,e=s),c.transLeq(r,n)||(s=r,r=n,n=s),c.transLeq(t,r)||(s=t,t=r,r=s,s=e,e=n,n=s),c.transLeq(r,e)?c.transLeq(e,n)?((a=c.transEval(t,r,e))+(o=c.transEval(r,e,n))<0&&(a=-a,o=-o),i.t=c.interpolate(a,r.t,o,e.t)):((a=c.transSign(t,r,e))+(o=-c.transSign(t,n,e))<0&&(a=-a,o=-o),i.t=c.interpolate(a,r.t,o,n.t)):i.t=(r.t+e.t)/2},f.prototype={min:function(){return this.head.next},max:function(){return this.head.prev},insert:function(t){return this.insertBefore(this.head,t)},search:function(t){var e=this.head;do{e=e.next}while(null!==e.key&&!this.leq(this.frame,t,e.key));return e},insertBefore:function(t,e){do{t=t.prev}while(null!==t.key&&!this.leq(this.frame,t.key,e));var r=new l;return r.key=e,r.next=t.next,t.next.prev=r,r.prev=t,t.next=r,r},delete:function(t){t.next.prev=t.prev,t.prev.next=t.next}},p.prototype={floatDown_:function(t){var e,r,n,a=this.nodes,o=this.handles;for(e=a[t].handle;;){if((n=t<<1)<this.size&&this.leq(o[a[n+1].handle].key,o[a[n].handle].key)&&++n,i(n<=this.max),r=a[n].handle,n>this.size||this.leq(o[e].key,o[r].key)){a[t].handle=e,o[e].node=t;break}a[t].handle=r,o[r].node=t,t=n}},floatUp_:function(t){var e,r,n,i=this.nodes,a=this.handles;for(e=i[t].handle;;){if(r=i[n=t>>1].handle,0==n||this.leq(a[r].key,a[e].key)){i[t].handle=e,a[e].node=t;break}i[t].handle=r,a[r].node=t,t=n}},init:function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},min:function(){return this.handles[this.nodes[1].handle].key},isEmpty:function(){this.size},insert:function(t){var e,r;if(2*(e=++this.size)>this.max){var n;this.max*=2,n=this.nodes.length,this.nodes.length=this.max+1;for(var i=n;i<this.nodes.length;i++)this.nodes[i]=new h;n=this.handles.length,this.handles.length=this.max+1;for(i=n;i<this.handles.length;i++)this.handles[i]=new d}return 0===this.freeList?r=e:(r=this.freeList,this.freeList=this.handles[r].node),this.nodes[e].handle=r,this.handles[r].node=e,this.handles[r].key=t,this.initialized&&this.floatUp_(e),r},extractMin:function(){var t=this.nodes,e=this.handles,r=t[1].handle,n=e[r].key;return this.size>0&&(t[1].handle=t[this.size].handle,e[t[1].handle].node=1,e[r].key=null,e[r].node=this.freeList,this.freeList=r,--this.size,this.size>0&&this.floatDown_(1)),n},delete:function(t){var e,r=this.nodes,n=this.handles;i(t>=1&&t<=this.max&&null!==n[t].key),r[e=n[t].node].handle=r[this.size].handle,n[r[e].handle].node=e,--this.size,e<=this.size&&(e<=1||this.leq(n[r[e>>1].handle].key,n[r[e].handle].key)?this.floatDown_(e):this.floatUp_(e)),n[t].key=null,n[t].node=this.freeList,this.freeList=t}};var y={};function g(){this.mesh=null,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=n.WINDING_ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}y.regionBelow=function(t){return t.nodeUp.prev.key},y.regionAbove=function(t){return t.nodeUp.next.key},y.debugEvent=function(t){},y.addWinding=function(t,e){t.winding+=e.winding,t.Sym.winding+=e.Sym.winding},y.edgeLeq=function(t,e,r){var n=t.event,i=e.eUp,a=r.eUp;return i.Dst===n?a.Dst===n?c.vertLeq(i.Org,a.Org)?c.edgeSign(a.Dst,i.Org,a.Org)<=0:c.edgeSign(i.Dst,a.Org,i.Org)>=0:c.edgeSign(a.Dst,n,a.Org)<=0:a.Dst===n?c.edgeSign(i.Dst,n,i.Org)>=0:c.edgeEval(i.Dst,n,i.Org)>=c.edgeEval(a.Dst,n,a.Org)},y.deleteRegion=function(t,e){e.fixUpperEdge&&i(0===e.eUp.winding),e.eUp.activeRegion=null,t.dict.delete(e.nodeUp)},y.fixUpperEdge=function(t,e,r){i(e.fixUpperEdge),t.mesh.delete(e.eUp),e.fixUpperEdge=!1,e.eUp=r,r.activeRegion=e},y.topLeftRegion=function(t,e){var r,n=e.eUp.Org;do{e=y.regionAbove(e)}while(e.eUp.Org===n);if(e.fixUpperEdge){if(null===(r=t.mesh.connect(y.regionBelow(e).eUp.Sym,e.eUp.Lnext)))return null;y.fixUpperEdge(t,e,r),e=y.regionAbove(e)}return e},y.topRightRegion=function(t){var e=t.eUp.Dst;t=null;do{t=y.regionAbove(t)}while(t.eUp.Dst===e);return t},y.addRegionBelow=function(t,e,r){var n=new v;return n.eUp=r,n.nodeUp=t.dict.insertBefore(e.nodeUp,n),n.fixUpperEdge=!1,n.sentinel=!1,n.dirty=!1,r.activeRegion=n,n},y.isWindingInside=function(t,e){switch(t.windingRule){case n.WINDING_ODD:return 0!=(1&e);case n.WINDING_NONZERO:return 0!=e;case n.WINDING_POSITIVE:return e>0;case n.WINDING_NEGATIVE:return e<0;case n.WINDING_ABS_GEQ_TWO:return e>=2||e<=-2}return i(!1),!1},y.computeWinding=function(t,e){e.windingNumber=y.regionAbove(e).windingNumber+e.eUp.winding,e.inside=y.isWindingInside(t,e.windingNumber)},y.finishRegion=function(t,e){var r=e.eUp,n=r.Lface;n.inside=e.inside,n.anEdge=r,y.deleteRegion(t,e)},y.finishLeftRegions=function(t,e,r){for(var n,i=null,a=e,o=e.eUp;a!==r;){if(a.fixUpperEdge=!1,(n=(i=y.regionBelow(a)).eUp).Org!=o.Org){if(!i.fixUpperEdge){y.finishRegion(t,a);break}n=t.mesh.connect(o.Lprev,n.Sym),y.fixUpperEdge(t,i,n)}o.Onext!==n&&(t.mesh.splice(n.Oprev,n),t.mesh.splice(o,n)),y.finishRegion(t,a),o=i.eUp,a=i}return o},y.addRightEdges=function(t,e,r,n,a,o){var s,u,l,f,h=!0;l=r;do{i(c.vertLeq(l.Org,l.Dst)),y.addRegionBelow(t,e,l.Sym),l=l.Onext}while(l!==n);for(null===a&&(a=y.regionBelow(e).eUp.Rprev),u=e,f=a;(l=(s=y.regionBelow(u)).eUp.Sym).Org===f.Org;)l.Onext!==f&&(t.mesh.splice(l.Oprev,l),t.mesh.splice(f.Oprev,l)),s.windingNumber=u.windingNumber-l.winding,s.inside=y.isWindingInside(t,s.windingNumber),u.dirty=!0,!h&&y.checkForRightSplice(t,u)&&(y.addWinding(l,f),y.deleteRegion(t,u),t.mesh.delete(f)),h=!1,u=s,f=l;u.dirty=!0,i(u.windingNumber-l.winding===s.windingNumber),o&&y.walkDirtyRegions(t,u)},y.spliceMergeVertices=function(t,e,r){t.mesh.splice(e,r)},y.vertexWeights=function(t,e,r){var n=c.vertL1dist(e,t),i=c.vertL1dist(r,t),a=.5*i/(n+i),o=.5*n/(n+i);t.coords[0]+=a*e.coords[0]+o*r.coords[0],t.coords[1]+=a*e.coords[1]+o*r.coords[1],t.coords[2]+=a*e.coords[2]+o*r.coords[2]},y.getIntersectData=function(t,e,r,n,i,a){e.coords[0]=e.coords[1]=e.coords[2]=0,e.idx=-1,y.vertexWeights(e,r,n),y.vertexWeights(e,i,a)},y.checkForRightSplice=function(t,e){var r=y.regionBelow(e),n=e.eUp,i=r.eUp;if(c.vertLeq(n.Org,i.Org)){if(c.edgeSign(i.Dst,n.Org,i.Org)>0)return!1;c.vertEq(n.Org,i.Org)?n.Org!==i.Org&&(t.pq.delete(n.Org.pqHandle),y.spliceMergeVertices(t,i.Oprev,n)):(t.mesh.splitEdge(i.Sym),t.mesh.splice(n,i.Oprev),e.dirty=r.dirty=!0)}else{if(c.edgeSign(n.Dst,i.Org,n.Org)<0)return!1;y.regionAbove(e).dirty=e.dirty=!0,t.mesh.splitEdge(n.Sym),t.mesh.splice(i.Oprev,n)}return!0},y.checkForLeftSplice=function(t,e){var r,n=y.regionBelow(e),a=e.eUp,o=n.eUp;if(i(!c.vertEq(a.Dst,o.Dst)),c.vertLeq(a.Dst,o.Dst)){if(c.edgeSign(a.Dst,o.Dst,a.Org)<0)return!1;y.regionAbove(e).dirty=e.dirty=!0,r=t.mesh.splitEdge(a),t.mesh.splice(o.Sym,r),r.Lface.inside=e.inside}else{if(c.edgeSign(o.Dst,a.Dst,o.Org)>0)return!1;e.dirty=n.dirty=!0,r=t.mesh.splitEdge(o),t.mesh.splice(a.Lnext,o.Sym),r.Rface.inside=e.inside}return!0},y.checkForIntersect=function(t,e){var r,n,o=y.regionBelow(e),s=e.eUp,u=o.eUp,l=s.Org,f=u.Org,h=s.Dst,d=u.Dst,p=new a;if(i(!c.vertEq(d,h)),i(c.edgeSign(h,t.event,l)<=0),i(c.edgeSign(d,t.event,f)>=0),i(l!==t.event&&f!==t.event),i(!e.fixUpperEdge&&!o.fixUpperEdge),l===f)return!1;if(Math.min(l.t,h.t)>Math.max(f.t,d.t))return!1;if(c.vertLeq(l,f)){if(c.edgeSign(d,l,f)>0)return!1}else if(c.edgeSign(h,f,l)<0)return!1;return y.debugEvent(t),c.intersect(h,l,d,f,p),i(Math.min(l.t,h.t)<=p.t),i(p.t<=Math.max(f.t,d.t)),i(Math.min(d.s,h.s)<=p.s),i(p.s<=Math.max(f.s,l.s)),c.vertLeq(p,t.event)&&(p.s=t.event.s,p.t=t.event.t),r=c.vertLeq(l,f)?l:f,c.vertLeq(r,p)&&(p.s=r.s,p.t=r.t),c.vertEq(p,l)||c.vertEq(p,f)?(y.checkForRightSplice(t,e),!1):!c.vertEq(h,t.event)&&c.edgeSign(h,t.event,p)>=0||!c.vertEq(d,t.event)&&c.edgeSign(d,t.event,p)<=0?d===t.event?(t.mesh.splitEdge(s.Sym),t.mesh.splice(u.Sym,s),e=y.topLeftRegion(t,e),s=y.regionBelow(e).eUp,y.finishLeftRegions(t,y.regionBelow(e),o),y.addRightEdges(t,e,s.Oprev,s,s,!0),TRUE):h===t.event?(t.mesh.splitEdge(u.Sym),t.mesh.splice(s.Lnext,u.Oprev),o=e,e=y.topRightRegion(e),n=y.regionBelow(e).eUp.Rprev,o.eUp=u.Oprev,u=y.finishLeftRegions(t,o,null),y.addRightEdges(t,e,u.Onext,s.Rprev,n,!0),!0):(c.edgeSign(h,t.event,p)>=0&&(y.regionAbove(e).dirty=e.dirty=!0,t.mesh.splitEdge(s.Sym),s.Org.s=t.event.s,s.Org.t=t.event.t),c.edgeSign(d,t.event,p)<=0&&(e.dirty=o.dirty=!0,t.mesh.splitEdge(u.Sym),u.Org.s=t.event.s,u.Org.t=t.event.t),!1):(t.mesh.splitEdge(s.Sym),t.mesh.splitEdge(u.Sym),t.mesh.splice(u.Oprev,s),s.Org.s=p.s,s.Org.t=p.t,s.Org.pqHandle=t.pq.insert(s.Org),y.getIntersectData(t,s.Org,l,h,f,d),y.regionAbove(e).dirty=e.dirty=o.dirty=!0,!1)},y.walkDirtyRegions=function(t,e){for(var r,n,i=y.regionBelow(e);;){for(;i.dirty;)e=i,i=y.regionBelow(i);if(!e.dirty&&(i=e,null==(e=y.regionAbove(e))||!e.dirty))return;if(e.dirty=!1,r=e.eUp,n=i.eUp,r.Dst!==n.Dst&&y.checkForLeftSplice(t,e)&&(i.fixUpperEdge?(y.deleteRegion(t,i),t.mesh.delete(n),n=(i=y.regionBelow(e)).eUp):e.fixUpperEdge&&(y.deleteRegion(t,e),t.mesh.delete(r),r=(e=y.regionAbove(i)).eUp)),r.Org!==n.Org)if(r.Dst===n.Dst||e.fixUpperEdge||i.fixUpperEdge||r.Dst!==t.event&&n.Dst!==t.event)y.checkForRightSplice(t,e);else if(y.checkForIntersect(t,e))return;r.Org===n.Org&&r.Dst===n.Dst&&(y.addWinding(n,r),y.deleteRegion(t,e),t.mesh.delete(r),e=y.regionAbove(i))}},y.connectRightVertex=function(t,e,r){var n,i=r.Onext,a=y.regionBelow(e),o=e.eUp,s=a.eUp,u=!1;o.Dst!==s.Dst&&y.checkForIntersect(t,e),c.vertEq(o.Org,t.event)&&(t.mesh.splice(i.Oprev,o),e=y.topLeftRegion(t,e),i=y.regionBelow(e).eUp,y.finishLeftRegions(t,y.regionBelow(e),a),u=!0),c.vertEq(s.Org,t.event)&&(t.mesh.splice(r,s.Oprev),r=y.finishLeftRegions(t,a,null),u=!0),u?y.addRightEdges(t,e,r.Onext,i,i,!0):(n=c.vertLeq(s.Org,o.Org)?s.Oprev:o,n=t.mesh.connect(r.Lprev,n),y.addRightEdges(t,e,n,n.Onext,n.Onext,!1),n.Sym.activeRegion.fixUpperEdge=!0,y.walkDirtyRegions(t,e))},y.connectLeftDegenerate=function(t,e,r){var n,a,o,s,u;return n=e.eUp,c.vertEq(n.Org,r)?(i(!1),void y.spliceMergeVertices(t,n,r.anEdge)):c.vertEq(n.Dst,r)?(i(!1),e=y.topRightRegion(e),a=s=(o=(u=y.regionBelow(e)).eUp.Sym).Onext,u.fixUpperEdge&&(i(a!==o),y.deleteRegion(t,u),t.mesh.delete(o),o=a.Oprev),t.mesh.splice(r.anEdge,o),c.edgeGoesLeft(a)||(a=null),void y.addRightEdges(t,e,o.Onext,s,a,!0)):(t.mesh.splitEdge(n.Sym),e.fixUpperEdge&&(t.mesh.delete(n.Onext),e.fixUpperEdge=!1),t.mesh.splice(r.anEdge,n),void y.sweepEvent(t,r))},y.connectLeftVertex=function(t,e){var r,n,i,a,o,s,u=new v;if(u.eUp=e.anEdge.Sym,r=t.dict.search(u).key,n=y.regionBelow(r))if(a=r.eUp,o=n.eUp,0!==c.edgeSign(a.Dst,e,a.Org))if(i=c.vertLeq(o.Dst,a.Dst)?r:n,r.inside||i.fixUpperEdge){if(i===r)s=t.mesh.connect(e.anEdge.Sym,a.Lnext);else s=t.mesh.connect(o.Dnext,e.anEdge).Sym;i.fixUpperEdge?y.fixUpperEdge(t,i,s):y.computeWinding(t,y.addRegionBelow(t,r,s)),y.sweepEvent(t,e)}else y.addRightEdges(t,r,e.anEdge,e.anEdge,null,!0);else y.connectLeftDegenerate(t,r,e)},y.sweepEvent=function(t,e){t.event=e,y.debugEvent(t);for(var r=e.anEdge;null===r.activeRegion;)if((r=r.Onext)==e.anEdge)return void y.connectLeftVertex(t,e);var n=y.topLeftRegion(t,r.activeRegion);i(null!==n);var a=y.regionBelow(n),o=a.eUp,s=y.finishLeftRegions(t,a,null);s.Onext===o?y.connectRightVertex(t,n,s):y.addRightEdges(t,n,s.Onext,o,o,!0)},y.addSentinel=function(t,e,r,n){var i=new v,a=t.mesh.makeEdge();a.Org.s=r,a.Org.t=n,a.Dst.s=e,a.Dst.t=n,t.event=a.Dst,i.eUp=a,i.windingNumber=0,i.inside=!1,i.fixUpperEdge=!1,i.sentinel=!0,i.dirty=!1,i.nodeUp=t.dict.insert(i)},y.initEdgeDict=function(t){t.dict=new f(t,y.edgeLeq);var e=t.bmax[0]-t.bmin[0],r=t.bmax[1]-t.bmin[1],n=t.bmin[0]-e,i=t.bmax[0]+e,a=t.bmin[1]-r,o=t.bmax[1]+r;y.addSentinel(t,n,i,a),y.addSentinel(t,n,i,o)},y.doneEdgeDict=function(t){for(var e,r=0;null!==(e=t.dict.min().key);)e.sentinel||(i(e.fixUpperEdge),i(1==++r)),i(0==e.windingNumber),y.deleteRegion(t,e)},y.removeDegenerateEdges=function(t){var e,r,n,i=t.mesh.eHead;for(e=i.next;e!==i;e=r)r=e.next,n=e.Lnext,c.vertEq(e.Org,e.Dst)&&e.Lnext.Lnext!==e&&(y.spliceMergeVertices(t,n,e),t.mesh.delete(e),n=(e=n).Lnext),n.Lnext===e&&(n!==e&&(n!==r&&n!==r.Sym||(r=r.next),t.mesh.delete(n)),e!==r&&e!==r.Sym||(r=r.next),t.mesh.delete(e))},y.initPriorityQ=function(t){var e,r,n,i=0;for(r=(n=t.mesh.vHead).next;r!==n;r=r.next)i++;for(i+=8,e=t.pq=new p(i,c.vertLeq),r=(n=t.mesh.vHead).next;r!==n;r=r.next)r.pqHandle=e.insert(r);return r===n&&(e.init(),!0)},y.donePriorityQ=function(t){t.pq=null},y.removeDegenerateFaces=function(t,e){var r,n,a;for(r=e.fHead.next;r!==e.fHead;r=n)n=r.next,a=r.anEdge,i(a.Lnext!==a),a.Lnext.Lnext===a&&(y.addWinding(a.Onext,a),t.mesh.delete(a));return!0},y.computeInterior=function(t){var e,r;if(y.removeDegenerateEdges(t),!y.initPriorityQ(t))return!1;for(y.initEdgeDict(t);null!==(e=t.pq.extractMin());){for(;null!==(r=t.pq.min())&&c.vertEq(r,e);)r=t.pq.extractMin(),y.spliceMergeVertices(t,e.anEdge,r.anEdge);y.sweepEvent(t,e)}return t.event=t.dict.min().key.eUp.Org,y.debugEvent(t),y.doneEdgeDict(t),y.donePriorityQ(t),!!y.removeDegenerateFaces(t,t.mesh)&&(t.mesh.check(),!0)},g.prototype={dot_:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},normalize_:function(t){var e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];i(e>0),e=Math.sqrt(e),t[0]/=e,t[1]/=e,t[2]/=e},longAxis_:function(t){var e=0;return Math.abs(t[1])>Math.abs(t[0])&&(e=1),Math.abs(t[2])>Math.abs(t[e])&&(e=2),e},computeNormal_:function(t){var e,r,n,i,a,o,s,u=[0,0,0],c=[0,0,0],l=[0,0,0],f=[0,0,0],h=[0,0,0],d=[null,null,null],p=[null,null,null],v=this.mesh.vHead;for(e=v.next,s=0;s<3;++s)i=e.coords[s],c[s]=i,p[s]=e,u[s]=i,d[s]=e;for(e=v.next;e!==v;e=e.next)for(s=0;s<3;++s)(i=e.coords[s])<c[s]&&(c[s]=i,p[s]=e),i>u[s]&&(u[s]=i,d[s]=e);if(s=0,u[1]-c[1]>u[0]-c[0]&&(s=1),u[2]-c[2]>u[s]-c[s]&&(s=2),c[s]>=u[s])return t[0]=0,t[1]=0,void(t[2]=1);for(o=0,r=p[s],n=d[s],l[0]=r.coords[0]-n.coords[0],l[1]=r.coords[1]-n.coords[1],l[2]=r.coords[2]-n.coords[2],e=v.next;e!==v;e=e.next)f[0]=e.coords[0]-n.coords[0],f[1]=e.coords[1]-n.coords[1],f[2]=e.coords[2]-n.coords[2],h[0]=l[1]*f[2]-l[2]*f[1],h[1]=l[2]*f[0]-l[0]*f[2],h[2]=l[0]*f[1]-l[1]*f[0],(a=h[0]*h[0]+h[1]*h[1]+h[2]*h[2])>o&&(o=a,t[0]=h[0],t[1]=h[1],t[2]=h[2]);o<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(l)]=1)},checkOrientation_:function(){var t,e,r,n,i=this.mesh.fHead,a=this.mesh.vHead;for(t=0,e=i.next;e!==i;e=e.next)if(!((n=e.anEdge).winding<=0))do{t+=(n.Org.s-n.Dst.s)*(n.Org.t+n.Dst.t),n=n.Lnext}while(n!==e.anEdge);if(t<0){for(r=a.next;r!==a;r=r.next)r.t=-r.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},projectPolygon_:function(){var t,e,r,n,i,a=this.mesh.vHead,o=[0,0,0],s=!1;for(o[0]=this.normal[0],o[1]=this.normal[1],o[2]=this.normal[2],0===o[0]&&0===o[1]&&0===o[2]&&(this.computeNormal_(o),s=!0),e=this.sUnit,r=this.tUnit,e[n=this.longAxis_(o)]=0,e[(n+1)%3]=1,e[(n+2)%3]=0,r[n]=0,r[(n+1)%3]=0,r[(n+2)%3]=o[n]>0?1:-1,t=a.next;t!==a;t=t.next)t.s=this.dot_(t.coords,e),t.t=this.dot_(t.coords,r);for(s&&this.checkOrientation_(),i=!0,t=a.next;t!==a;t=t.next)i?(this.bmin[0]=this.bmax[0]=t.s,this.bmin[1]=this.bmax[1]=t.t,i=!1):(t.s<this.bmin[0]&&(this.bmin[0]=t.s),t.s>this.bmax[0]&&(this.bmax[0]=t.s),t.t<this.bmin[1]&&(this.bmin[1]=t.t),t.t>this.bmax[1]&&(this.bmax[1]=t.t))},addWinding_:function(t,e){t.winding+=e.winding,t.Sym.winding+=e.Sym.winding},tessellateMonoRegion_:function(t,e){var r,n;for(r=e.anEdge,i(r.Lnext!==r&&r.Lnext.Lnext!==r);c.vertLeq(r.Dst,r.Org);r=r.Lprev);for(;c.vertLeq(r.Org,r.Dst);r=r.Lnext);for(n=r.Lprev;r.Lnext!==n;)if(c.vertLeq(r.Dst,n.Org)){for(;n.Lnext!==r&&(c.edgeGoesLeft(n.Lnext)||c.edgeSign(n.Org,n.Dst,n.Lnext.Dst)<=0);){n=t.connect(n.Lnext,n).Sym}n=n.Lprev}else{for(;n.Lnext!=r&&(c.edgeGoesRight(r.Lprev)||c.edgeSign(r.Dst,r.Org,r.Lprev.Org)>=0);){r=t.connect(r,r.Lprev).Sym}r=r.Lnext}for(i(n.Lnext!==r);n.Lnext.Lnext!==r;){n=t.connect(n.Lnext,n).Sym}return!0},tessellateInterior_:function(t){var e,r;for(e=t.fHead.next;e!==t.fHead;e=r)if(r=e.next,e.inside&&!this.tessellateMonoRegion_(t,e))return!1;return!0},discardExterior_:function(t){var e,r;for(e=t.fHead.next;e!==t.fHead;e=r)r=e.next,e.inside||t.zapFace(e)},setWindingNumber_:function(t,e,r){var n,i;for(n=t.eHead.next;n!==t.eHead;n=i)i=n.next,n.Rface.inside!==n.Lface.inside?n.winding=n.Lface.inside?e:-e:r?t.delete(n):n.winding=0},getNeighbourFace_:function(t){return t.Rface&&t.Rface.inside?t.Rface.n:-1},outputPolymesh_:function(t,e,r,a){var o,s,u,c,l,f=0,h=0;for(r>3&&t.mergeConvexFaces(r),o=t.vHead.next;o!==t.vHead;o=o.next)o.n=-1;for(s=t.fHead.next;s!=t.fHead;s=s.next)if(s.n=-1,s.inside){u=s.anEdge,c=0;do{-1===(o=u.Org).n&&(o.n=h,h++),c++,u=u.Lnext}while(u!==s.anEdge);i(c<=r),s.n=f,++f}for(this.elementCount=f,e==n.CONNECTED_POLYGONS&&(f*=2),this.elements=[],this.elements.length=f*r,this.vertexCount=h,this.vertices=[],this.vertices.length=h*a,this.vertexIndices=[],this.vertexIndices.length=h,o=t.vHead.next;o!==t.vHead;o=o.next)if(-1!=o.n){var d=o.n*a;this.vertices[d+0]=o.coords[0],this.vertices[d+1]=o.coords[1],a>2&&(this.vertices[d+2]=o.coords[2]),this.vertexIndices[o.n]=o.idx}var p=0;for(s=t.fHead.next;s!==t.fHead;s=s.next)if(s.inside){u=s.anEdge,c=0;do{o=u.Org,this.elements[p++]=o.n,c++,u=u.Lnext}while(u!==s.anEdge);for(l=c;l<r;++l)this.elements[p++]=-1;if(e==n.CONNECTED_POLYGONS){u=s.anEdge;do{this.elements[p++]=this.getNeighbourFace_(u),u=u.Lnext}while(u!==s.anEdge);for(l=c;l<r;++l)this.elements[p++]=-1}}},outputContours_:function(t,e){var r,n,i,a=0,o=0;for(this.vertexCount=0,this.elementCount=0,r=t.fHead.next;r!==t.fHead;r=r.next)if(r.inside){i=n=r.anEdge;do{this.vertexCount++,n=n.Lnext}while(n!==i);this.elementCount++}this.elements=[],this.elements.length=2*this.elementCount,this.vertices=[],this.vertices.length=this.vertexCount*e,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var s=0,u=0,c=0;for(a=0,r=t.fHead.next;r!==t.fHead;r=r.next)if(r.inside){o=0,i=n=r.anEdge;do{this.vertices[s++]=n.Org.coords[0],this.vertices[s++]=n.Org.coords[1],e>2&&(this.vertices[s++]=n.Org.coords[2]),this.vertexIndices[u++]=n.Org.idx,o++,n=n.Lnext}while(n!==i);this.elements[c++]=a,this.elements[c++]=o,a+=o}},addContour:function(t,e){var r,n;for(null===this.mesh&&(this.mesh=new u),t<2&&(t=2),t>3&&(t=3),r=null,n=0;n<e.length;n+=t)null==r?(r=this.mesh.makeEdge(),this.mesh.splice(r,r.Sym)):(this.mesh.splitEdge(r),r=r.Lnext),r.Org.coords[0]=e[n+0],r.Org.coords[1]=e[n+1],r.Org.coords[2]=t>2?e[n+2]:0,r.Org.idx=this.vertexIndexCounter++,r.winding=1,r.Sym.winding=-1},tesselate:function(t,e,r,i,a){if(this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,a&&(this.normal[0]=a[0],this.normal[1]=a[1],this.normal[2]=a[2]),this.windingRule=t,i<2&&(i=2),i>3&&(i=3),!this.mesh)return!1;this.projectPolygon_(),y.computeInterior(this);var o=this.mesh;return e==n.BOUNDARY_CONTOURS?this.setWindingNumber_(o,1,!0):this.tessellateInterior_(o),o.check(),e==n.BOUNDARY_CONTOURS?this.outputContours_(o,i):this.outputPolymesh_(o,e,r,i),!0}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,l=[],f=!1,h=-1;function d(){f&&c&&(f=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!f){var t=u(d);f=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function y(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new v(t,e)),1!==l.length||f||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={default:r(188),__esModule:!0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(68),r(61),t.exports=r(197)},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(190),i=r(115),a=r(49),o=r(44);t.exports=r(85)(Array,"Array",(function(t,e){this._t=o(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(){}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(88),i=r(59),a=r(60),o={};r(41)(o,r(21)("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=n(o,{next:i(1,r)}),a(t,e+" Iterator")}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(29),i=r(38),a=r(50);t.exports=r(27)?Object.defineProperties:function(t,e){i(t);for(var r,o=a(e),s=o.length,u=0;s>u;)n.f(t,r=o[u++],e[r]);return t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(44),i=r(69),a=r(194);t.exports=function(t){return function(e,r,o){var s,u=n(e),c=i(u.length),l=a(o,c);if(t&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(89),i=Math.max,a=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):a(t,e)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(46),i=r(51),a=r(90)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(89),i=r(84);t.exports=function(t){return function(e,r){var a,o,s=String(i(e)),u=n(r),c=s.length;return u<0||u>=c?t?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(71),i=r(21)("iterator"),a=r(49);t.exports=r(17).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(n(e))}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={default:r(199),__esModule:!0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(68),r(61),t.exports=r(200)},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(38),i=r(93);t.exports=r(17).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={default:r(202),__esModule:!0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(61),r(203),t.exports=r(17).Array.from},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(40),i=r(23),a=r(51),o=r(121),s=r(122),u=r(69),c=r(204),l=r(93);i(i.S+i.F*!r(123)((function(t){Array.from(t)})),"Array",{from:function(t){var e,r,i,f,h=a(t),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,g=0,m=l(h);if(y&&(v=n(v,p>2?arguments[2]:void 0,2)),null==m||d==Array&&s(m))for(r=new d(e=u(h.length));e>g;g++)c(r,g,y?v(h[g],g):h[g]);else for(f=m.call(h),r=new d;!(i=f.next()).done;g++)c(r,g,y?o(f,v,[i.value,g],!0):i.value);return r.length=g,r}})},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(29),i=r(59);t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(94),r(61),r(68),r(206),r(212),r(215),r(217),t.exports=r(17).Map},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(207),i=r(126);t.exports=r(208)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=n.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(i(this,"Map"),0===t?0:t,e)}},n,!0)},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(29).f,i=r(88),a=r(95),o=r(40),s=r(96),u=r(62),c=r(85),l=r(115),f=r(125),h=r(27),d=r(97).fastKey,p=r(126),v=h?"_s":"size",y=function(t,e){var r,n=d(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,c){var l=t((function(t,n){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,null!=n&&u(n,r,t[c],t)}));return a(l.prototype,{clear:function(){for(var t=p(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var r=p(this,e),n=y(r,t);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[v]--}return!!n},forEach:function(t){p(this,e);for(var r,n=o(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!y(p(this,e),t)}}),h&&n(l.prototype,"size",{get:function(){return p(this,e)[v]}}),l},def:function(t,e,r){var n,i,a=y(t,e);return a?a.v=r:(t._l=a={i:i=d(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[v]++,"F"!==i&&(t._i[i]=a)),t},getEntry:y,setStrong:function(t,e,r){c(t,e,(function(t,r){this._t=p(t,e),this._k=r,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))}),r?"entries":"values",!r,!0),f(e)}}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(20),i=r(23),a=r(97),o=r(45),s=r(41),u=r(95),c=r(62),l=r(96),f=r(31),h=r(60),d=r(29).f,p=r(209)(0),v=r(27);t.exports=function(t,e,r,y,g,m){var x=n[t],b=x,M=g?"set":"add",A=b&&b.prototype,w={};return v&&"function"==typeof b&&(m||A.forEach&&!o((function(){(new b).entries().next()})))?(b=e((function(e,r){l(e,b,t,"_c"),e._c=new x,null!=r&&c(r,g,e[M],e)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var e="add"==t||"set"==t;!(t in A)||m&&"clear"==t||s(b.prototype,t,(function(r,n){if(l(this,b,t),!e&&m&&!f(r))return"get"==t&&void 0;var i=this._c[t](0===r?0:r,n);return e?this:i}))})),m||d(b.prototype,"size",{get:function(){return this._c.size}})):(b=y.getConstructor(e,t,g,M),u(b.prototype,r),a.NEED=!0),h(b,t),w[t]=b,i(i.G+i.W+i.F,w),m||y.setStrong(b,t,g),b}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(40),i=r(83),a=r(51),o=r(69),s=r(210);t.exports=function(t,e){var r=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,d=e||s;return function(e,s,p){for(var v,y,g=a(e),m=i(g),x=n(s,p,3),b=o(m.length),M=0,A=r?d(e,b):u?d(e,0):void 0;b>M;M++)if((h||M in m)&&(y=x(v=m[M],M,g),t))if(r)A[M]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return M;case 2:A.push(v)}else if(l)return!1;return f?-1:c||l?l:A}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(211);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(31),i=r(127),a=r(21)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(23);n(n.P+n.R,"Map",{toJSON:r(213)("Map")})},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(71),i=r(214);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(62);t.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(216)("Map")},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(23);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(218)("Map")},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(23),i=r(58),a=r(40),o=r(62);t.exports=function(t){n(n.S,t,{from:function(t){var e,r,n,s,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),null==t?new this:(r=[],e?(n=0,s=a(u,arguments[2],2),o(t,!1,(function(t){r.push(s(t,n++))}))):o(t,!1,r.push,r),new this(r))}})}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(220),t.exports=r(17).Object.assign},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(23);n(n.S+n.F,"Object",{assign:r(221)})},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(27),i=r(50),a=r(99),o=r(63),s=r(51),u=r(83),c=Object.assign;t.exports=!c||r(45)((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=c({},t)[r]||Object.keys(c({},e)).join("")!=n}))?function(t,e){for(var r=s(t),c=arguments.length,l=1,f=a.f,h=o.f;c>l;)for(var d,p=u(arguments[l++]),v=f?i(p).concat(f(p)):i(p),y=v.length,g=0;y>g;)d=v[g++],n&&!h.call(p,d)||(r[d]=p[d]);return r}:c},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={default:r(223),__esModule:!0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(224);var n=r(17).Object;t.exports=function(t,e,r){return n.defineProperty(t,e,r)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(23);n(n.S+n.F*!r(27),"Object",{defineProperty:r(29).f})},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(226),r(94),r(230),r(231),t.exports=r(17).Symbol},function(t,e,r){"use strict";r.r(e);var n=r(16),i=r.n(n);r(0).glMatrix.setMatrixArrayType(Array);var a=r(20),o=r(46),s=r(27),u=r(23),c=r(117),l=r(97).KEY,f=r(45),h=r(91),d=r(60),p=r(70),v=r(21),y=r(131),g=r(100),m=r(227),x=r(127),b=r(38),M=r(31),A=r(51),w=r(44),T=r(87),k=r(59),S=r(88),_=r(228),R=r(229),E=r(99),C=r(29),O=r(50),L=R.f,D=C.f,P=_.f,j=a.Symbol,I=a.JSON,q=I&&I.stringify,F=v("_hidden"),N=v("toPrimitive"),U={}.propertyIsEnumerable,B=h("symbol-registry"),V=h("symbols"),G=h("op-symbols"),z=Object.prototype,H="function"==typeof j&&!!E.f,W=a.QObject,Y=!W||!W.prototype||!W.prototype.findChild,X=s&&f((function(){return 7!=S(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=L(z,e);n&&delete z[e],D(t,e,r),n&&t!==z&&D(z,e,n)}:D,J=function(t){var e=V[t]=S(j.prototype);return e._k=t,e},Q=H&&"symbol"==i()(j.iterator)?function(t){return"symbol"==i()(t)}:function(t){return t instanceof j},Z=function(t,e,r){return t===z&&Z(G,e,r),b(t),e=T(e,!0),b(r),o(V,e)?(r.enumerable?(o(t,F)&&t[F][e]&&(t[F][e]=!1),r=S(r,{enumerable:k(0,!1)})):(o(t,F)||D(t,F,k(1,{})),t[F][e]=!0),X(t,e,r)):D(t,e,r)},$=function(t,e){b(t);for(var r,n=m(e=w(e)),i=0,a=n.length;a>i;)Z(t,r=n[i++],e[r]);return t},K=function(t){var e=U.call(this,t=T(t,!0));return!(this===z&&o(V,t)&&!o(G,t))&&(!(e||!o(this,t)||!o(V,t)||o(this,F)&&this[F][t])||e)},tt=function(t,e){if(t=w(t),e=T(e,!0),t!==z||!o(V,e)||o(G,e)){var r=L(t,e);return!r||!o(V,e)||o(t,F)&&t[F][e]||(r.enumerable=!0),r}},et=function(t){for(var e,r=P(w(t)),n=[],i=0;r.length>i;)o(V,e=r[i++])||e==F||e==l||n.push(e);return n},rt=function(t){for(var e,r=t===z,n=P(r?G:w(t)),i=[],a=0;n.length>a;)!o(V,e=n[a++])||r&&!o(z,e)||i.push(V[e]);return i};H||(c((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function e(r){this===z&&e.call(G,r),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),X(this,t,k(1,r))};return s&&Y&&X(z,t,{configurable:!0,set:e}),J(t)}).prototype,"toString",(function(){return this._k})),R.f=tt,C.f=Z,r(132).f=_.f=et,r(63).f=K,E.f=rt,s&&!r(57)&&c(z,"propertyIsEnumerable",K,!0),y.f=function(t){return J(v(t))}),u(u.G+u.W+u.F*!H,{Symbol:j});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;nt.length>it;)v(nt[it++]);for(var at=O(v.store),ot=0;at.length>ot;)g(at[ot++]);u(u.S+u.F*!H,"Symbol",{for:function(t){return o(B,t+="")?B[t]:B[t]=j(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),u(u.S+u.F*!H,"Object",{create:function(t,e){return void 0===e?S(t):$(S(t),e)},defineProperty:Z,defineProperties:$,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:rt});var st=f((function(){E.f(1)}));u(u.S+u.F*st,"Object",{getOwnPropertySymbols:function(t){return E.f(A(t))}}),I&&u(u.S+u.F*(!H||f((function(){var t=j();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))}))),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(M(e)||void 0!==t)&&!Q(t))return x(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Q(e))return e}),n[1]=e,q.apply(I,n)}}),j.prototype[N]||r(41)(j.prototype,N,j.prototype.valueOf),d(j,"Symbol"),d(Math,"Math",!0),d(a.JSON,"JSON",!0)},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(50),i=r(99),a=r(63);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var o,s=r(t),u=a.f,c=0;s.length>c;)u.call(t,o=s[c++])&&e.push(o);return e}},function(t,e,r){"use strict";r.r(e),function(t){var e=r(16),n=r.n(e);r(0).glMatrix.setMatrixArrayType(Array);var i=r(44),a=r(132).f,o={}.toString,s="object"==("undefined"==typeof window?"undefined":n()(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return a(t)}catch(t){return s.slice()}}(t):a(i(t))}}.call(this,r(48)(t))},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(63),i=r(59),a=r(44),o=r(87),s=r(46),u=r(116),c=Object.getOwnPropertyDescriptor;e.f=r(27)?c:function(t,e){if(t=a(t),e=o(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!n.f.call(t,e),t[e])}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(100)("asyncIterator")},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(100)("observable")},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0}),e.createNowTime=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t=null;t=Date.now?Date.now:function(){return(new Date).getTime()};return t},e.formatDelay=function(t){"number"==typeof t?t={delay:t}:"entropy"in t&&(t={delay:t.entropy,isEntropy:!0});return t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n="function"==typeof Float32Array;function i(t,e){return 1-3*e+3*t}function a(t,e){return 3*e-6*t}function o(t){return 3*t}function s(t,e,r){return((i(e,r)*t+a(e,r))*t+o(e))*t}function u(t,e,r){return 3*i(e,r)*t*t+2*a(e,r)*t+o(e)}function c(t){return t}t.exports=function(t,e,r,i){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&r===i)return c;for(var a=n?new Float32Array(11):new Array(11),o=0;o<11;++o)a[o]=s(.1*o,t,r);function l(e){for(var n=0,i=1;10!==i&&a[i]<=e;++i)n+=.1;--i;var o=n+.1*((e-a[i])/(a[i+1]-a[i])),c=u(o,t,r);return c>=.001?function(t,e,r,n){for(var i=0;i<4;++i){var a=u(e,r,n);if(0===a)return e;e-=(s(e,r,n)-t)/a}return e}(e,o,t,r):0===c?o:function(t,e,r,n,i){var a,o,u=0;do{(a=s(o=e+(r-e)/2,n,i)-t)>0?r=o:e=o}while(Math.abs(a)>1e-7&&++u<10);return o}(e,n,n+.1,t,r)}return function(t){return 0===t?0:1===t?1:s(l(t),e,i)}}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0});var n=h(r(134)),i=h(r(242)),a=h(r(98)),o=h(r(128)),s=h(r(129)),u=h(r(130)),c=h(r(114)),l=r(246),f=r(101);function h(t){return t&&t.__esModule?t:{default:t}}var d=(0,u.default)("timing"),p=(0,u.default)("keyframes"),v=(0,u.default)("initState"),y=(0,u.default)("readyDefer"),g=(0,u.default)("finishedDefer"),m=(0,u.default)("effects"),x=(0,u.default)("activeReadyTimer"),b=(0,u.default)("activeFinishTimer"),M=(0,u.default)("removeDefer"),A={delay:0,endDelay:0,fill:"auto",iterations:1,playbackRate:1,direction:"normal",easing:"linear",effect:null},w=function(){function t(e,r,n){var s=this;if((0,o.default)(this,t),Array.isArray(e)){var u=[e[0],e,r];e=u[0],r=u[1],n=u[2]}"number"==typeof n&&(n={duration:n}),this[d]=(0,a.default)({},A,n),this[d].easing=(0,f.parseEasing)(this[d].easing),this[p]=(0,l.calculateFramesOffset)(r);var c=this[p][this[p].length-1];this[v]={},(0,i.default)(c).forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&"easing"!==t&&"offset"!==t&&(s[v][t]=e[t])})),this[p]=this[p].map((function(t){return(0,a.default)({},s[v],t)})),0!==this[p][0].offset&&this[p].unshift((0,a.default)({},this[v],{offset:0})),c.offset<1&&this[p].push((0,a.default)({},c,{offset:1})),this[m]={},this.timeline=null}return(0,s.default)(t,[{key:"pause",value:function(){this.timeline.playbackRate=0}},{key:x,value:function(){var t=this;this[y]&&!this[y].timerID&&(this.timeline.currentTime<0?this[y].timerID=this.timeline.setTimeout((function(){t[y].resolve(),delete t[y]}),{delay:-this.timeline.currentTime,heading:!1}):this[y].timerID=this.timeline.setTimeout((function(){t[y].resolve(),delete t[y]}),{delay:0,isEntropy:!0}))}},{key:b,value:function(){var t=this,e=this[d],r=e.duration,n=e.iterations,i=e.endDelay,a=Math.ceil(r*n+i-this.timeline.currentTime)+1;this[g]&&!this[g].timerID&&(this[g].timerID=this.timeline.setTimeout((function(){t[g].resolve(),t[M](y),t[M](g)}),{delay:a,heading:!1}),this[g].reverseTimerID=this.timeline.setTimeout((function(){t[g].resolve(),t[M](y),t[M](g),t.timeline=null}),{delay:-this[d].delay-1,heading:!1}))}},{key:"play",value:function(){if("finished"===this.playState&&this.cancel(),"idle"===this.playState){if(this.playbackRate<=0)return;var t=this[d],e=t.delay,r=t.playbackRate,n=t.timeline;this.timeline=new c.default({originTime:e,playbackRate:r},n),this[x](),this[b]()}else"paused"===this.playState&&(this.timeline.playbackRate=this.playbackRate,this[x]())}},{key:M,value:function(t){var e=this[t],r=this.timeline;e&&r&&(r.clearTimeout(e.timerID),e.reverseTimerID&&r.clearTimeout(e.reverseTimerID)),delete this[t]}},{key:"cancel",value:function(){this[M](y),this[M](g),this.timeline=null}},{key:"finish",value:function(){this.timeline&&(this.timeline.currentTime=1/0/this.playbackRate),this[M](y),this[M](g)}},{key:"applyEffects",value:function(t){return(0,a.default)(this[m],t)}},{key:"playbackRate",get:function(){return this[d].playbackRate},set:function(t){this.timeline&&(this.timeline.playbackRate=t),this[d].playbackRate=t}},{key:"playState",get:function(){var t=this.timeline,e=this[d],r=e.iterations,n=e.duration,i=e.endDelay,a="running";if(null==t)a="idle";else if(t.paused)a="paused";else if(t.currentTime<0)a="pending";else{var o=t.currentTime-r*n;o>0&&o<i?a="pending":o>=i&&(a="finished")}return a}},{key:"progress",get:function(){if(!this.timeline)return 0;var t=this[d],e=t.duration,r=t.iterations,n=this.timeline,i=this.playState,a=void 0;if("idle"===i)a=0;else if("paused"===i&&n.currentTime<0)a=0;else if("pending"===i)if(n.currentTime<0)a=0;else{var o=n.seekLocalTime(r*e);a=(0,l.periodicity)(o,e)[1]/e}else"running"!==i&&"paused"!==i||(a=(0,l.periodicity)(n.currentTime,e)[1]/e);return"finished"===i&&(a=(0,l.periodicity)(r,1)[1]),a}},{key:"frame",get:function(){var t=this.playState,e=this[v],r=this[d].fill;if("idle"===t)return e;var n=this.timeline.currentTime,i=this[p].slice(0),a=(0,l.getProgress)(this.timeline,this[d],this.progress),o=a.p,s=a.inverted,u=e;return n<0&&"pending"===t?"backwards"!==r&&"both"!==r||(u=s?i[i.length-1]:i[0]):("pending"!==t&&"finished"!==t||"forwards"===r||"both"===r)&&(u=(0,l.getCurrentFrame)(this[d],i,this[m],o)),u}},{key:"timing",get:function(){return this[d]}},{key:"effects",get:function(){return this[m]}},{key:"baseTimeline",set:function(t){this[d].timeline=t},get:function(){return this[d].timeline}},{key:"ready",get:function(){return this[y]?this[y].promise:this.timeline&&this.timeline.currentTime>=0&&"paused"!==this.playState?n.default.resolve():(this[y]=(0,l.defer)(),this.timeline&&this[x](),this[y]?this[y].promise:n.default.resolve())}},{key:"finished",get:function(){return"finished"===this.playState?n.default.resolve():(this[g]||(this[g]=(0,l.defer)(),this.timeline&&this[b]()),this[g].promise)}}]),t}();e.default=w},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(94),r(61),r(68),r(236),r(240),r(241),t.exports=r(17).Promise},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n,i,a,o,s=r(57),u=r(20),c=r(40),l=r(71),f=r(23),h=r(31),d=r(58),p=r(96),v=r(62),y=r(135),g=r(136).set,m=r(238)(),x=r(102),b=r(137),M=r(239),A=r(138),w=u.TypeError,T=u.process,k=T&&T.versions,S=k&&k.v8||"",_=u.Promise,R="process"==l(T),E=function(){},C=i=x.f,O=!!function(){try{var t=_.resolve(1),e=(t.constructor={})[r(21)("species")]=function(t){t(E,E)};return(R||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==S.indexOf("6.6")&&-1===M.indexOf("Chrome/66")}catch(t){}}(),L=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var r=t._c;m((function(){for(var n=t._v,i=1==t._s,a=0,o=function(e){var r,a,o,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(i||(2==t._h&&I(t),t._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),o=!0)),r===e.promise?c(w("Promise-chain cycle")):(a=L(r))?a.call(r,u,c):u(r)):c(n)}catch(t){l&&!o&&l.exit(),c(t)}};r.length>a;)o(r[a++]);t._c=[],t._n=!1,e&&!t._h&&P(t)}))}},P=function(t){g.call(u,(function(){var e,r,n,i=t._v,a=j(t);if(a&&(e=b((function(){R?T.emit("unhandledRejection",i,t):(r=u.onunhandledrejection)?r({promise:t,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)})),t._h=R||j(t)?2:1),t._a=void 0,a&&e.e)throw e.v}))},j=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){g.call(u,(function(){var e;R?T.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},q=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},F=function t(e){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(r=L(e))?m((function(){var i={_w:n,_d:!1};try{r.call(e,c(t,i,1),c(q,i,1))}catch(t){q.call(i,t)}})):(n._v=e,n._s=1,D(n,!1))}catch(t){q.call({_w:n,_d:!1},t)}}};O||(_=function(t){p(this,_,"Promise","_h"),d(t),n.call(this);try{t(c(F,this,1),c(q,this,1))}catch(t){q.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(95)(_.prototype,{then:function(t,e){var r=C(y(this,_));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=R?T.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&D(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new n;this.promise=t,this.resolve=c(F,t,1),this.reject=c(q,t,1)},x.f=C=function(t){return t===_||t===o?new a(t):i(t)}),f(f.G+f.W+f.F*!O,{Promise:_}),r(60)(_,"Promise"),r(125)("Promise"),o=r(17).Promise,f(f.S+f.F*!O,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!O),"Promise",{resolve:function(t){return A(s&&this===o?_:this,t)}}),f(f.S+f.F*!(O&&r(123)((function(t){_.all(t).catch(E)}))),"Promise",{all:function(t){var e=this,r=C(e),n=r.resolve,i=r.reject,a=b((function(){var r=[],a=0,o=1;v(t,!1,(function(t){var s=a++,u=!1;r.push(void 0),o++,e.resolve(t).then((function(t){u||(u=!0,r[s]=t,--o||n(r))}),i)})),--o||n(r)}));return a.e&&i(a.v),r.promise},race:function(t){var e=this,r=C(e),n=r.reject,i=b((function(){v(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}})},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(20),i=r(136).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==r(56)(o);t.exports=function(){var t,e,r,c=function(){var n,i;for(u&&(n=o.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){o.nextTick(c)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);r=function(){l.then(c)}}else r=function(){i.call(n,c)};else{var f=!0,h=document.createTextNode("");new a(c).observe(h,{characterData:!0}),r=function(){h.data=f=!f}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(20).navigator;t.exports=n&&n.userAgent||""},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(23),i=r(17),a=r(20),o=r(135),s=r(138);n(n.P+n.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then((function(){return r}))}:t,r?function(r){return s(e,t()).then((function(){throw r}))}:t)}})},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=r(23),i=r(102),a=r(137);n(n.S,"Promise",{try:function(t){var e=i.f(this),r=a(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={default:r(243),__esModule:!0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(244),t.exports=r(17).Object.keys},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(51),i=r(50);r(245)("keys",(function(){return function(t){return i(n(t))}}))},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(23),i=r(17),a=r(45);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],o={};o[t]=e(r),n(n.S+n.F*a((function(){r(1)})),"Object",o)}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0});var n=c(r(82)),i=c(r(247)),a=c(r(98)),o=c(r(134));e.defer=function(){var t={};return t.promise=new o.default((function(e,r){t.resolve=e,t.reject=r})),t},e.periodicity=function(t,e){var r=Math.floor(t/e),n=t-r*e;0===n&&r>0&&(n=e,r--);return[r,n]},e.calculateFramesOffset=function(t){var e=(t=t.slice(0))[0],r=t[t.length-1];r.offset=r.offset||1,e.offset=e.offset||0;for(var n=0,i=-1,o=0;o<t.length;o++){var u=t[o];if(null!=u.offset){var c=o-i;if(c>1)for(var l=(u.offset-n)/c,f=0;f<c-1;f++)t[i+f+1].offset=n+l*(f+1);n=u.offset,i=o}if(null!=u.easing&&(u.easing=(0,s.parseEasing)(u.easing)),o>0){var h=null!=t[o].easing;t[o]=(0,a.default)({},t[o-1],t[o]),h||delete t[o].easing}}return t},e.getProgress=function(t,e,r){var n=t.currentTime,i=e.direction,a=e.duration,o=!1;if("reverse"===i)r=1-r,o=!0;else if("alternate"===i||"alternate-reverse"===i){var s=Math.floor(n/a);1===r&&s--,s%2^"alternate-reverse"===i&&(r=1-r,o=!0)}return{p:r,inverted:o}},e.getCurrentFrame=function(t,e,r,n){var i=t.easing,o=t.effect;o||(r=(0,a.default)({},u.default,r));var s={};n=i(n,e);for(var c=1;c<e.length;c++){var f=e[c],h=f.offset;if(h>=n||c===e.length-1){var d=e[c-1],p=d.offset,v=d.easing,y=n;if(v){var g=h-p;y=v((n-p)/g)*g+p}s=o?o(d,f,y,p,h):l(d,f,r,y);break}}return s};var s=r(101),u=c(r(133));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e,r,a){var o={};return(0,i.default)(e).forEach((function(i){var s=(0,n.default)(i,2),u=s[0],c=s[1];if("offset"!==u&&"easing"!==u){var l=(r[u]||r.default)(t[u],c,a,t.offset,e.offset);null!=l&&(o[u]=l)}})),o}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports={default:r(248),__esModule:!0}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),r(249),t.exports=r(17).Object.entries},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(23),i=r(250)(!0);n(n.S,"Object",{entries:function(t){return i(t)}})},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(27),i=r(50),a=r(44),o=r(63).f;t.exports=function(t){return function(e){for(var r,s=a(e),u=i(s),c=u.length,l=0,f=[];c>l;)r=u[l++],n&&!o.call(s,r)||f.push(t?[r,s[r]]:s[r]);return f}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(81),i=r(253);function a(e,r,o){return i()?t.exports=a=Reflect.construct:t.exports=a=function(t,e,r){var i=[null];i.push.apply(i,e);var a=new(Function.bind.apply(t,i));return r&&n(a,r.prototype),a},a.apply(null,arguments)}t.exports=a},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),t.exports=d;var n=r(256),i=r(64).falseFunc,a=r(270);function o(t){return function(e,r,i){return(r=r||{}).adapter=r.adapter||n,t(e,r,i)}}var s=o(a),u=o(a.compileUnsafe);function c(t){return function(e,r,i){return(i=i||{}).adapter=i.adapter||n,"function"!=typeof e&&(e=u(e,i,r)),e.shouldTestNextSiblings&&(r=function(t,e){Array.isArray(t)||(t=[t]);for(var r=t.slice(0),n=0,i=t.length;n<i;n++){var a=l(r[n],e);r.push.apply(r,a)}return r}(i&&i.context||r,i.adapter)),r=Array.isArray(r)?i.adapter.removeSubsets(r):i.adapter.getChildren(r),t(e,r,i)}}function l(t,e){var r=e.getSiblings(t);if(!Array.isArray(r))return[];for(r=r.slice(0);r.shift()!==t;);return r}var f=c((function(t,e,r){return t!==i&&e&&0!==e.length?r.adapter.findAll(t,e):[]})),h=c((function(t,e,r){return t!==i&&e&&0!==e.length?r.adapter.findOne(t,e):null}));function d(t,e,r){return f(t,e,r)}d.compile=s,d.filters=a.Pseudos.filters,d.pseudos=a.Pseudos.pseudos,d.selectAll=f,d.selectOne=h,d.is=function(t,e,r){return(r=r||{}).adapter=r.adapter||n,("function"==typeof e?e:s(e,r))(t)},d.parse=s,d.iterate=f,d._compileUnsafe=u,d._compileToken=a.compileToken},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=t.exports;[r(257),r(265),r(266),r(267),r(268),r(269)].forEach((function(t){Object.keys(t).forEach((function(e){n[e]=t[e].bind(n)}))}))},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(103),i=r(258),a=n.isTag;t.exports={getInnerHTML:function(t,e){return t.children?t.children.map((function(t){return i(t,e)})).join(""):""},getOuterHTML:i,getText:function t(e){return Array.isArray(e)?e.map(t).join(""):a(e)?"br"===e.name?"\n":t(e.children):e.type===n.CDATA?t(e.children):e.type===n.Text?e.data:""}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(259),i=r(260),a=r(264);a.elementNames.__proto__=null,a.attributeNames.__proto__=null;var o={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},u=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var r="",i=0;i<t.length;i++){var a=t[i];"root"===a.type?r+=u(a.children,e):n.isTag(a)?r+=l(a,e):a.type===n.Directive?r+=f(a):a.type===n.Comment?r+=p(a):a.type===n.CDATA?r+=d(a):r+=h(a,e)}return r},c=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function l(t,e){"foreign"===e.xmlMode&&(t.name=a.elementNames[t.name]||t.name,t.parent&&c.indexOf(t.parent.name)>=0&&(e=Object.assign({},e,{xmlMode:!1}))),!e.xmlMode&&["svg","math"].indexOf(t.name)>=0&&(e=Object.assign({},e,{xmlMode:"foreign"}));var r="<"+t.name,n=function(t,e){if(t){var r,n="";for(var o in t)r=t[o],n&&(n+=" "),"foreign"===e.xmlMode&&(o=a.attributeNames[o]||o),n+=o,(null!==r&&""!==r||e.xmlMode)&&(n+='="'+(e.decodeEntities?i.encodeXML(r):r.replace(/\"/g,"&quot;"))+'"');return n}}(t.attribs,e);return n&&(r+=" "+n),!e.xmlMode||t.children&&0!==t.children.length?(r+=">",t.children&&(r+=u(t.children,e)),s[t.name]&&!e.xmlMode||(r+="</"+t.name+">")):r+="/>",r}function f(t){return"<"+t.data+">"}function h(t,e){var r=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in o||(r=i.encodeXML(r)),r}function d(t){return"<![CDATA["+t.children[0].data+"]]>"}function p(t){return"\x3c!--"+t.data+"--\x3e"}},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0}),e.isTag=function(t){return"tag"===t.type||"script"===t.type||"style"===t.type},e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0});var n=r(140),i=r(143);e.decode=function(t,e){return(!e||e<=0?n.decodeXML:n.decodeHTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?n.decodeXML:n.decodeHTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?i.encodeXML:i.encodeHTML)(t)};var a=r(143);e.encodeXML=a.encodeXML,e.encodeHTML=a.encodeHTML,e.escape=a.escape,e.encodeHTML4=a.encodeHTML,e.encodeHTML5=a.encodeHTML;var o=r(140);e.decodeXML=o.decodeXML,e.decodeHTML=o.decodeHTML,e.decodeHTMLStrict=o.decodeHTMLStrict,e.decodeHTML4=o.decodeHTML,e.decodeHTML5=o.decodeHTML,e.decodeHTML4Strict=o.decodeHTMLStrict,e.decodeHTML5Strict=o.decodeHTMLStrict,e.decodeXMLStrict=o.decodeXML},function(t){t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array);var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(263));e.default=function(t){if(t>=55296&&t<=57343||t>1114111)return"�";t in i.default&&(t=i.default[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}},function(t){t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(t){t.exports=JSON.parse('{"elementNames":{"altglyph":"altGlyph","altglyphdef":"altGlyphDef","altglyphitem":"altGlyphItem","animatecolor":"animateColor","animatemotion":"animateMotion","animatetransform":"animateTransform","clippath":"clipPath","feblend":"feBlend","fecolormatrix":"feColorMatrix","fecomponenttransfer":"feComponentTransfer","fecomposite":"feComposite","feconvolvematrix":"feConvolveMatrix","fediffuselighting":"feDiffuseLighting","fedisplacementmap":"feDisplacementMap","fedistantlight":"feDistantLight","fedropshadow":"feDropShadow","feflood":"feFlood","fefunca":"feFuncA","fefuncb":"feFuncB","fefuncg":"feFuncG","fefuncr":"feFuncR","fegaussianblur":"feGaussianBlur","feimage":"feImage","femerge":"feMerge","femergenode":"feMergeNode","femorphology":"feMorphology","feoffset":"feOffset","fepointlight":"fePointLight","fespecularlighting":"feSpecularLighting","fespotlight":"feSpotLight","fetile":"feTile","feturbulence":"feTurbulence","foreignobject":"foreignObject","glyphref":"glyphRef","lineargradient":"linearGradient","radialgradient":"radialGradient","textpath":"textPath"},"attributeNames":{"definitionurl":"definitionURL","attributename":"attributeName","attributetype":"attributeType","basefrequency":"baseFrequency","baseprofile":"baseProfile","calcmode":"calcMode","clippathunits":"clipPathUnits","diffuseconstant":"diffuseConstant","edgemode":"edgeMode","filterunits":"filterUnits","glyphref":"glyphRef","gradienttransform":"gradientTransform","gradientunits":"gradientUnits","kernelmatrix":"kernelMatrix","kernelunitlength":"kernelUnitLength","keypoints":"keyPoints","keysplines":"keySplines","keytimes":"keyTimes","lengthadjust":"lengthAdjust","limitingconeangle":"limitingConeAngle","markerheight":"markerHeight","markerunits":"markerUnits","markerwidth":"markerWidth","maskcontentunits":"maskContentUnits","maskunits":"maskUnits","numoctaves":"numOctaves","pathlength":"pathLength","patterncontentunits":"patternContentUnits","patterntransform":"patternTransform","patternunits":"patternUnits","pointsatx":"pointsAtX","pointsaty":"pointsAtY","pointsatz":"pointsAtZ","preservealpha":"preserveAlpha","preserveaspectratio":"preserveAspectRatio","primitiveunits":"primitiveUnits","refx":"refX","refy":"refY","repeatcount":"repeatCount","repeatdur":"repeatDur","requiredextensions":"requiredExtensions","requiredfeatures":"requiredFeatures","specularconstant":"specularConstant","specularexponent":"specularExponent","spreadmethod":"spreadMethod","startoffset":"startOffset","stddeviation":"stdDeviation","stitchtiles":"stitchTiles","surfacescale":"surfaceScale","systemlanguage":"systemLanguage","tablevalues":"tableValues","targetx":"targetX","targety":"targetY","textlength":"textLength","viewbox":"viewBox","viewtarget":"viewTarget","xchannelselector":"xChannelSelector","ychannelselector":"yChannelSelector","zoomandpan":"zoomAndPan"}}')},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=e.getChildren=function(t){return t.children},i=e.getParent=function(t){return t.parent};e.getSiblings=function(t){var e=i(t);return e?n(e):[t]},e.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},e.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},e.getName=function(t){return t.name}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var r=e.prev=t.prev;r&&(r.next=e);var n=e.next=t.next;n&&(n.prev=e);var i=e.parent=t.parent;if(i){var a=i.children;a[a.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var r=t.children[t.children.length-2];r.next=e,e.prev=r,e.next=null}},e.append=function(t,e){var r=t.parent,n=t.next;if(e.next=n,e.prev=t,t.next=e,e.parent=r,n){if(n.prev=e,r){var i=r.children;i.splice(i.lastIndexOf(n),0,e)}}else r&&r.children.push(e)},e.prepend=function(t,e){var r=t.parent;if(r){var n=r.children;n.splice(n.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(103).isTag;function i(t,e,r,n){for(var a,o=[],s=0,u=e.length;s<u&&!(t(e[s])&&(o.push(e[s]),--n<=0))&&(a=e[s].children,!(r&&a&&a.length>0&&(a=i(t,a,r,n),o=o.concat(a),(n-=a.length)<=0)));s++);return o}t.exports={filter:function(t,e,r,n){Array.isArray(e)||(e=[e]);"number"==typeof n&&isFinite(n)||(n=1/0);return i(t,e,!1!==r,n)},find:i,findOneChild:function(t,e){for(var r=0,n=e.length;r<n;r++)if(t(e[r]))return e[r];return null},findOne:function t(e,r){for(var i=null,a=0,o=r.length;a<o&&!i;a++)n(r[a])&&(e(r[a])?i=r[a]:r[a].children.length>0&&(i=t(e,r[a].children)));return i},existsOne:function t(e,r){for(var i=0,a=r.length;i<a;i++)if(n(r[i])&&(e(r[i])||r[i].children.length>0&&t(e,r[i].children)))return!0;return!1},findAll:function(t,e){var r=[],i=e.slice();for(;i.length;){var a=i.shift();n(a)&&(a.children&&a.children.length>0&&i.unshift.apply(i,a.children),t(a)&&r.push(a))}return r}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(103),i=e.isTag=n.isTag;e.testElement=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){if("tag_name"===r){if(!i(e)||!t.tag_name(e.name))return!1}else if("tag_type"===r){if(!t.tag_type(e.type))return!1}else if("tag_contains"===r){if(i(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[r](e.attribs[r]))return!1}else;return!0};var a={tag_name:function(t){return"function"==typeof t?function(e){return i(e)&&t(e.name)}:"*"===t?i:function(e){return i(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!i(e)&&t(e.data)}:function(e){return!i(e)&&e.data===t}}};function o(t,e){return"function"==typeof e?function(r){return r.attribs&&e(r.attribs[t])}:function(r){return r.attribs&&r.attribs[t]===e}}function s(t,e){return function(r){return t(r)||e(r)}}e.getElements=function(t,e,r,n){var i=Object.keys(t).map((function(e){var r=t[e];return e in a?a[e](r):o(e,r)}));return 0===i.length?[]:this.filter(i.reduce(s),e,r,n)},e.getElementById=function(t,e,r){return Array.isArray(e)||(e=[e]),this.findOne(o("id",t),e,!1!==r)},e.getElementsByTagName=function(t,e,r,n){return this.filter(a.tag_name(t),e,r,n)},e.getElementsByTagType=function(t,e,r,n){return this.filter(a.tag_type(t),e,r,n)}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),e.removeSubsets=function(t){for(var e,r,n,i=t.length;--i>-1;){for(e=r=t[i],t[i]=null,n=!0;r;){if(t.indexOf(r)>-1){n=!1,t.splice(i,1);break}r=r.parent}n&&(t[i]=e)}return t};var n=1,i=2,a=4,o=8,s=16,u=e.compareDocumentPosition=function(t,e){var r,u,c,l,f,h,d=[],p=[];if(t===e)return 0;for(r=t;r;)d.unshift(r),r=r.parent;for(r=e;r;)p.unshift(r),r=r.parent;for(h=0;d[h]===p[h];)h++;return 0===h?n:(c=(u=d[h-1]).children,l=d[h],f=p[h],c.indexOf(l)>c.indexOf(f)?u===e?a|s:a:u===t?i|o:i)};e.uniqueSort=function(t){var e,r,n=t.length;for(t=t.slice();--n>-1;)e=t[n],(r=t.indexOf(e))>-1&&r<n&&t.splice(n,1);return t.sort((function(t,e){var r=u(t,e);return r&i?-1:r&a?1:0})),t}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=h;var n=r(271).parse,i=r(64),a=r(273),o=r(145),s=r(274),u=r(147),c=i.trueFunc,l=i.falseFunc,f=u.filters;function h(t,e,r){return d(p(t,e,r),e)}function d(t,e){var r=e.adapter;return function(e){return r.isTag(e)&&t(e)}}function p(t,e,r){return b(n(t,e),e,r)}function v(t){return"pseudo"===t.type&&("scope"===t.name||Array.isArray(t.data)&&t.data.some((function(t){return t.some(v)})))}var y={type:"descendant"},g={type:"_flexibleDescendant"},m={type:"pseudo",name:"scope"},x={};function b(t,e,r){(t=t.filter((function(t){return t.length>0}))).forEach(a);var n=Array.isArray(r);(r=e&&e.context||r)&&!n&&(r=[r]),function(t,e,r){var n=e.adapter,i=!!r&&!!r.length&&r.every((function(t){return t===x||!!n.getParent(t)}));t.forEach((function(t){if(t.length>0&&M(t[0])&&"descendant"!==t[0].type);else{if(!i||(Array.isArray(t)?t.some(v):v(t)))return;t.unshift(y)}t.unshift(m)}))}(t,e,r);var i=!1,o=t.map((function(t){if(t[0]&&t[1]&&"scope"===t[0].name){var a=t[1].type;n&&"descendant"===a?t[1]=g:"adjacent"!==a&&"sibling"!==a||(i=!0)}return function(t,e,r){return t.reduce((function(t,n){if(t===l)return t;if(!(n.type in s))throw new Error("Rule type "+n.type+" is not supported by css-select");return s[n.type](t,n,e,r)}),e&&e.rootFunc||c)}(t,e,r)})).reduce(A,l);return o.shouldTestNextSiblings=i,o}function M(t){return o[t.type]<0}function A(t,e){return e===l||t===c?t:t===l||e===c?e:function(r){return t(r)||e(r)}}function w(t){return t.some(M)}f.not=function(t,e,r,n){var i={xmlMode:!(!r||!r.xmlMode),strict:!(!r||!r.strict),adapter:r.adapter};if(i.strict&&(e.length>1||e.some(w)))throw new Error("complex selectors in :not aren't allowed in strict mode");var a=b(e,i,n);return a===l?t:a===c?l:function(e){return!a(e)&&t(e)}},f.has=function(t,e,r){var n=r.adapter,i={xmlMode:!(!r||!r.xmlMode),strict:!(!r||!r.strict),adapter:n},a=e.some(w)?[x]:null,o=b(e,i,a);return o===l?l:o===c?function(e){return n.getChildren(e).some(n.isTag)&&t(e)}:(o=d(o,r),a?function(e){return t(e)&&(a[0]=e,n.existsOne(o,n.getChildren(e)))}:function(e){return t(e)&&n.existsOne(o,n.getChildren(e))})},f.matches=function(t,e,r,n){return b(e,{xmlMode:!(!r||!r.xmlMode),strict:!(!r||!r.strict),rootFunc:t,adapter:r.adapter},n)},h.compileToken=b,h.compileUnsafe=p,h.Pseudos=u},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(144));var n=r(144);e.parse=n.default;var i=r(272);e.stringify=i.default},function(t,e,r){"use strict";r(0).glMatrix.setMatrixArrayType(Array),Object.defineProperty(e,"__esModule",{value:!0});var n={equals:"",element:"~",start:"^",end:"$",any:"*",not:"!",hyphen:"|"},i={child:" > ",parent:" < ",sibling:" ~ ",adjacent:" + ",descendant:" ",universal:"*"};function a(t){return t.map(o).join(", ")}function o(t){return t.map(s).join("")}function s(t){if(t.type in i)return i[t.type];if("tag"===t.type)return t.name;if("pseudo-element"===t.type)return"::"+t.name;if("attribute"===t.type)return"exists"===t.action?"["+t.name+"]":"id"!==t.name||"equals"!==t.action||t.ignoreCase?"class"!==t.name||"element"!==t.action||t.ignoreCase?"["+t.name+n[t.action]+"='"+t.value+"'"+(t.ignoreCase?"i":"")+"]":"."+t.value:"#"+t.value;if("pseudo"===t.type)return null===t.data?":"+t.name:"string"==typeof t.data?":"+t.name+"("+t.data+")":":"+t.name+"("+a(t.data)+")";throw new Error("Unknown type")}e.default=a},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){for(var e=t.map(a),r=1;r<t.length;r++){var n=e[r];if(!(n<0))for(var i=r-1;i>=0&&n<e[i];i--){var o=t[i+1];t[i+1]=t[i],t[i]=o,e[i+1]=e[i],e[i]=n}}};var n=r(145),i={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function a(t){var e=n[t.type];if(e===n.attribute)(e=i[t.action])===i.equals&&"id"===t.name&&(e=9),t.ignoreCase&&(e>>=1);else if(e===n.pseudo)if(t.data)if("has"===t.name||"contains"===t.name)e=0;else if("matches"===t.name||"not"===t.name){e=0;for(var r=0;r<t.data.length;r++)if(1===t.data[r].length){var o=a(t.data[r][0]);if(0===o){e=0;break}o>e&&(e=o)}t.data.length>1&&e>0&&(e-=1)}else e=1;else e=3;return e}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(146),i=r(147);t.exports={__proto__:null,attribute:n.compile,pseudo:i.compile,tag:function(t,e,r){var n=e.name,i=r.adapter;return function(e){return i.getName(e)===n&&t(e)}},descendant:function(t,e,r){var n="undefined"!=typeof WeakSet?new WeakSet:null,i=r.adapter;return function(e){for(var r=!1;!r&&(e=i.getParent(e));)n&&n.has(e)||!(r=t(e))&&n&&n.add(e);return r}},_flexibleDescendant:function(t,e,r){var n=r.adapter;return function(e){for(var r=t(e);!r&&(e=n.getParent(e));)r=t(e);return r}},parent:function(t,e,r){if(r&&r.strict)throw new Error("Parent selector isn't part of CSS3");var n=r.adapter;return function(t){return n.getChildren(t).some(i)};function i(e){return n.isTag(e)&&t(e)}},child:function(t,e,r){var n=r.adapter;return function(e){var r=n.getParent(e);return!!r&&t(r)}},sibling:function(t,e,r){var n=r.adapter;return function(e){for(var r=n.getSiblings(e),i=0;i<r.length;i++)if(n.isTag(r[i])){if(r[i]===e)break;if(t(r[i]))return!0}return!1}},adjacent:function(t,e,r){var n=r.adapter;return function(e){for(var r,i=n.getSiblings(e),a=0;a<i.length;a++)if(n.isTag(i[a])){if(i[a]===e)break;r=i[a]}return!!r&&t(r)}},universal:function(t){return t}}},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array);var n=r(276),i=r(277);t.exports=function(t){return i(n(t))},t.exports.parse=n,t.exports.compile=i},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){if("even"===(t=t.trim().toLowerCase()))return[2,0];if("odd"===t)return[2,1];var e,r=t.match(n);if(!r)throw new SyntaxError("n-th rule couldn't be parsed ('"+t+"')");return r[1]?(e=parseInt(r[1],10),isNaN(e)&&(e="-"===r[1].charAt(0)?-1:1)):e=0,[e,r[3]?parseInt((r[2]||"")+r[3],10):0]};var n=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/},function(t,e,r){r(0).glMatrix.setMatrixArrayType(Array),t.exports=function(t){var e=t[0],r=t[1]-1;if(r<0&&e<=0)return a;if(-1===e)return function(t){return t<=r};if(0===e)return function(t){return t===r};if(1===e)return r<0?i:function(t){return t>=r};var n=r%e;n<0&&(n+=e);if(e>1)return function(t){return t>=r&&t%e===n};return e*=-1,function(t){return t<=r&&t%e===n}};var n=r(64),i=n.trueFunc,a=n.falseFunc},,,,function(t,e,r){"use strict";r.r(e),r.d(e,"helpers",(function(){return k})),r.d(e,"createElement",(function(){return S})),r.d(e,"isSpriteNode",(function(){return _})),r.d(e,"registerNode",(function(){return R})),r.d(e,"layerCreated",(function(){return E}));var n=r(13);r.d(e,"ENV",(function(){return n.a}));var i=r(39);r.d(e,"Node",(function(){return i.a}));var a=r(139);r.d(e,"Cloud",(function(){return a.a}));var o=r(42);r.d(e,"Block",(function(){return o.a}));var s=r(72);r.d(e,"Sprite",(function(){return s.a}));var u=r(32);r.d(e,"Path",(function(){return u.a}));var c=r(148);r.d(e,"Rect",(function(){return c.a}));var l=r(149);r.d(e,"Triangle",(function(){return l.a}));var f=r(150);r.d(e,"Parallel",(function(){return f.a}));var h=r(151);r.d(e,"Regular",(function(){return h.a}));var d=r(152);r.d(e,"Star",(function(){return d.a}));var p=r(73);r.d(e,"Ellipse",(function(){return p.a}));var v=r(153);r.d(e,"Arc",(function(){return v.a}));var y=r(154);r.d(e,"Ring",(function(){return y.a}));var g=r(33);r.d(e,"Polyline",(function(){return g.a}));var m=r(155);r.d(e,"Label",(function(){return m.a}));var x=r(65);r.d(e,"Group",(function(){return x.a}));var b=r(66);r.d(e,"Layer",(function(){return b.a}));var M=r(156);r.d(e,"SpriteSvg",(function(){return M.a}));var A=r(12),w=r(14);r.d(e,"Gradient",(function(){return w.b}));var T=r(3);r(0).glMatrix.setMatrixArrayType(Array);var k={parseColor:w.c,sizeToPixel:T.b,toArray:T.c,toString:T.e,toNumber:T.d},S=A.a.createElement,_=A.a.isSpriteNode,R=A.a.registerNode,E=new Promise((function(t){var e=null;self.addEventListener("message",(function(r){if("create"===r.data.type){var n=r.data.options;e=new b.a(n),t(e)}else if(e&&"event"===r.data.type)e.dispatchPointerEvent(r.data.event);else if("resolution_change"===r.data.type){var i=r.data,a=i.width,o=i.height;e.setResolution({width:a,height:o})}}))}))}])}));